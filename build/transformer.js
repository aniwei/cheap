(()=>{var e={3285:(e,t,r)=>{r(8691),r(4579).Array.isArray},3896:(e,t,r)=>{r(4058),r(1867),r(3871),r(4138),r(2834),r(605),r(5828),e.exports=r(4579).Map},4334:(e,t,r)=>{r(2960),e.exports=r(4579).Number.isNaN},3391:(e,t,r)=>{r(1477);var n=r(4579).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},139:(e,t,r)=>{r(2726),e.exports=r(4579).Object.freeze},8613:(e,t,r)=>{r(961),r(4579).Object.keys},1955:(e,t,r)=>{r(3136),r(4579).parseFloat},25:(e,t,r)=>{r(6840),r(4058),r(8174),r(6461),e.exports=r(4579).Symbol},2392:(e,t,r)=>{r(1867),r(3871),e.exports=r(5103).f("iterator")},2038:(e,t,r)=>{e.exports=r(5103).f("toPrimitive")},5663:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},9003:e=>{e.exports=function(){}},9142:e=>{e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},2159:(e,t,r)=>{var n=r(6727);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},7259:(e,t,r)=>{var n=r(5576);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},7428:(e,t,r)=>{var n=r(7932),i=r(8728),o=r(6531);e.exports=function(e){return function(t,r,a){var s,c=n(t),l=i(c.length),u=o(a,l);if(e&&r!=r){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}}},1523:(e,t,r)=>{var n=r(9216),i=r(799),o=r(6530),a=r(8728),s=r(7745);e.exports=function(e,t){var r=1==e,c=2==e,l=3==e,u=4==e,p=6==e,f=5==e||p,y=t||s;return function(t,s,d){for(var x,m,h=o(t),g=i(h),v=n(s,d,3),E=a(g.length),T=0,S=r?y(t,E):c?y(t,0):void 0;E>T;T++)if((f||T in g)&&(m=v(x=g[T],T,h),e))if(r)S[T]=m;else if(m)switch(e){case 3:return!0;case 5:return x;case 6:return T;case 2:S.push(x)}else if(u)return!1;return p?-1:l||u?u:S}}},161:(e,t,r)=>{var n=r(6727),i=r(1421),o=r(2939)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},7745:(e,t,r)=>{var n=r(161);e.exports=function(e,t){return new(n(e))(t)}},4677:(e,t,r)=>{var n=r(2894),i=r(2939)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},2894:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},6175:(e,t,r)=>{"use strict";var n=r(4743).f,i=r(526),o=r(8144),a=r(9216),s=r(9142),c=r(5576),l=r(5700),u=r(5084),p=r(9967),f=r(9666),y=r(7177).fastKey,d=r(765),x=f?"_s":"size",m=function(e,t){var r,n=y(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,l){var u=e((function(e,n){s(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[x]=0,null!=n&&c(n,r,e[l],e)}));return o(u.prototype,{clear:function(){for(var e=d(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[x]=0},delete:function(e){var r=d(this,t),n=m(r,e);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[x]--}return!!n},forEach:function(e){d(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!m(d(this,t),e)}}),f&&n(u.prototype,"size",{get:function(){return d(this,t)[x]}}),u},def:function(e,t,r){var n,i,o=m(e,t);return o?o.v=r:(e._l=o={i:i=y(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[x]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,r){l(e,t,(function(e,r){this._t=d(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?u(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,u(1))}),r?"entries":"values",!r,!0),p(t)}}},1718:(e,t,r)=>{var n=r(4677),i=r(7259);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},2269:(e,t,r)=>{"use strict";var n=r(3938),i=r(3856),o=r(7177),a=r(7929),s=r(1818),c=r(8144),l=r(5576),u=r(9142),p=r(6727),f=r(5378),y=r(4743).f,d=r(1523)(0),x=r(9666);e.exports=function(e,t,r,m,h,g){var v=n[e],E=v,T=h?"set":"add",S=E&&E.prototype,k={};return x&&"function"==typeof E&&(g||S.forEach&&!a((function(){(new E).entries().next()})))?(E=t((function(t,r){u(t,E,e,"_c"),t._c=new v,null!=r&&l(r,h,t[T],t)})),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in S)||g&&"clear"==e||s(E.prototype,e,(function(r,n){if(u(this,E,e),!t&&g&&!p(r))return"get"==e&&void 0;var i=this._c[e](0===r?0:r,n);return t?this:i}))})),g||y(E.prototype,"size",{get:function(){return this._c.size}})):(E=m.getConstructor(t,e,h,T),c(E.prototype,r),o.NEED=!0),f(E,e),k[e]=E,i(i.G+i.W+i.F,k),g||m.setStrong(E,e,h),E}},4579:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},9216:(e,t,r)=>{var n=r(5663);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},8333:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},9666:(e,t,r)=>{e.exports=!r(7929)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},7467:(e,t,r)=>{var n=r(6727),i=r(3938).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},3338:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},337:(e,t,r)=>{var n=r(6162),i=r(8195),o=r(6274);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,s=r(e),c=o.f,l=0;s.length>l;)c.call(e,a=s[l++])&&t.push(a);return t}},3856:(e,t,r)=>{var n=r(3938),i=r(4579),o=r(9216),a=r(1818),s=r(7069),c="prototype",l=function(e,t,r){var u,p,f,y=e&l.F,d=e&l.G,x=e&l.S,m=e&l.P,h=e&l.B,g=e&l.W,v=d?i:i[t]||(i[t]={}),E=v[c],T=d?n:x?n[t]:(n[t]||{})[c];for(u in d&&(r=t),r)(p=!y&&T&&void 0!==T[u])&&s(v,u)||(f=p?T[u]:r[u],v[u]=d&&"function"!=typeof T[u]?r[u]:h&&p?o(f,n):g&&T[u]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[c]=e[c],t}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((v.virtual||(v.virtual={}))[u]=f,e&l.R&&E&&!E[u]&&a(E,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},7929:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},5576:(e,t,r)=>{var n=r(9216),i=r(5602),o=r(5991),a=r(2159),s=r(8728),c=r(3728),l={},u={},p=e.exports=function(e,t,r,p,f){var y,d,x,m,h=f?function(){return e}:c(e),g=n(r,p,t?2:1),v=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(o(h)){for(y=s(e.length);y>v;v++)if((m=t?g(a(d=e[v])[0],d[1]):g(e[v]))===l||m===u)return m}else for(x=h.call(e);!(d=x.next()).done;)if((m=i(x,g,d.value,t))===l||m===u)return m};p.BREAK=l,p.RETURN=u},3938:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},7069:e=>{var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},1818:(e,t,r)=>{var n=r(4743),i=r(3101);e.exports=r(9666)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},4881:(e,t,r)=>{var n=r(3938).document;e.exports=n&&n.documentElement},3758:(e,t,r)=>{e.exports=!r(9666)&&!r(7929)((function(){return 7!=Object.defineProperty(r(7467)("div"),"a",{get:function(){return 7}}).a}))},799:(e,t,r)=>{var n=r(2894);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},5991:(e,t,r)=>{var n=r(5449),i=r(2939)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},1421:(e,t,r)=>{var n=r(2894);e.exports=Array.isArray||function(e){return"Array"==n(e)}},6727:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},5602:(e,t,r)=>{var n=r(2159);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},3945:(e,t,r)=>{"use strict";var n=r(526),i=r(3101),o=r(5378),a={};r(1818)(a,r(2939)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},5700:(e,t,r)=>{"use strict";var n=r(6227),i=r(3856),o=r(7470),a=r(1818),s=r(5449),c=r(3945),l=r(5378),u=r(5089),p=r(2939)("iterator"),f=!([].keys&&"next"in[].keys()),y="keys",d="values",x=function(){return this};e.exports=function(e,t,r,m,h,g,v){c(r,t,m);var E,T,S,k=function(e){if(!f&&e in C)return C[e];switch(e){case y:case d:return function(){return new r(this,e)}}return function(){return new r(this,e)}},N=t+" Iterator",b=h==d,A=!1,C=e.prototype,I=C[p]||C["@@iterator"]||h&&C[h],L=I||k(h),P=h?b?k("entries"):L:void 0,K="Array"==t&&C.entries||I;if(K&&(S=u(K.call(new e)))!==Object.prototype&&S.next&&(l(S,N,!0),n||"function"==typeof S[p]||a(S,p,x)),b&&I&&I.name!==d&&(A=!0,L=function(){return I.call(this)}),n&&!v||!f&&!A&&C[p]||a(C,p,L),s[t]=L,s[N]=x,h)if(E={values:b?L:k(d),keys:g?L:k(y),entries:P},v)for(T in E)T in C||o(C,T,E[T]);else i(i.P+i.F*(f||A),t,E);return E}},5084:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},5449:e=>{e.exports={}},6227:e=>{e.exports=!0},7177:(e,t,r)=>{var n=r(5730)("meta"),i=r(6727),o=r(7069),a=r(4743).f,s=0,c=Object.isExtensible||function(){return!0},l=!r(7929)((function(){return c(Object.preventExtensions({}))})),u=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},p=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return l&&p.NEED&&c(e)&&!o(e,n)&&u(e),e}}},526:(e,t,r)=>{var n=r(2159),i=r(7856),o=r(3338),a=r(8989)("IE_PROTO"),s=function(){},c="prototype",l=function(){var e,t=r(7467)("iframe"),n=o.length;for(t.style.display="none",r(4881).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[c][o[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(s[c]=n(e),r=new s,s[c]=null,r[a]=e):r=l(),void 0===t?r:i(r,t)}},4743:(e,t,r)=>{var n=r(2159),i=r(3758),o=r(3206),a=Object.defineProperty;t.f=r(9666)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},7856:(e,t,r)=>{var n=r(4743),i=r(2159),o=r(6162);e.exports=r(9666)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,c=0;s>c;)n.f(e,r=a[c++],t[r]);return e}},6183:(e,t,r)=>{var n=r(6274),i=r(3101),o=r(7932),a=r(3206),s=r(7069),c=r(3758),l=Object.getOwnPropertyDescriptor;t.f=r(9666)?l:function(e,t){if(e=o(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},4368:(e,t,r)=>{var n=r(7932),i=r(3230).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},3230:(e,t,r)=>{var n=r(2963),i=r(3338).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},8195:(e,t)=>{t.f=Object.getOwnPropertySymbols},5089:(e,t,r)=>{var n=r(7069),i=r(6530),o=r(8989)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},2963:(e,t,r)=>{var n=r(7069),i=r(7932),o=r(7428)(!1),a=r(8989)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),c=0,l=[];for(r in s)r!=a&&n(s,r)&&l.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~o(l,r)||l.push(r));return l}},6162:(e,t,r)=>{var n=r(2963),i=r(3338);e.exports=Object.keys||function(e){return n(e,i)}},6274:(e,t)=>{t.f={}.propertyIsEnumerable},2584:(e,t,r)=>{var n=r(3856),i=r(4579),o=r(7929);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o((function(){r(1)})),"Object",a)}},9592:(e,t,r)=>{var n=r(3938).parseFloat,i=r(2422).trim;e.exports=1/n(r(9617)+"-0")!=-1/0?function(e){var t=i(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},3101:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8144:(e,t,r)=>{var n=r(1818);e.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},7470:(e,t,r)=>{e.exports=r(1818)},6237:(e,t,r)=>{"use strict";var n=r(3856),i=r(5663),o=r(9216),a=r(5576);e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,s,c=arguments[1];return i(this),(t=void 0!==c)&&i(c),null==e?new this:(r=[],t?(n=0,s=o(c,arguments[2],2),a(e,!1,(function(e){r.push(s(e,n++))}))):a(e,!1,r.push,r),new this(r))}})}},6730:(e,t,r)=>{"use strict";var n=r(3856);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},9967:(e,t,r)=>{"use strict";var n=r(3938),i=r(4579),o=r(4743),a=r(9666),s=r(2939)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},5378:(e,t,r)=>{var n=r(4743).f,i=r(7069),o=r(2939)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},8989:(e,t,r)=>{var n=r(250)("keys"),i=r(5730);e.exports=function(e){return n[e]||(n[e]=i(e))}},250:(e,t,r)=>{var n=r(4579),i=r(3938),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(6227)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},510:(e,t,r)=>{var n=r(1052),i=r(8333);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),c=n(r),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},2422:(e,t,r)=>{var n=r(3856),i=r(8333),o=r(7929),a=r(9617),s="["+a+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(e,t,r){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),c=i[e]=s?t(p):a[e];r&&(i[r]=c),n(n.P+n.F*s,"String",i)},p=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=u},9617:e=>{e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},6531:(e,t,r)=>{var n=r(1052),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},1052:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},7932:(e,t,r)=>{var n=r(799),i=r(8333);e.exports=function(e){return n(i(e))}},8728:(e,t,r)=>{var n=r(1052),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},6530:(e,t,r)=>{var n=r(8333);e.exports=function(e){return Object(n(e))}},3206:(e,t,r)=>{var n=r(6727);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},5730:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},765:(e,t,r)=>{var n=r(6727);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},6347:(e,t,r)=>{var n=r(3938),i=r(4579),o=r(6227),a=r(5103),s=r(4743).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},5103:(e,t,r)=>{t.f=r(2939)},2939:(e,t,r)=>{var n=r(250)("wks"),i=r(5730),o=r(3938).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},3728:(e,t,r)=>{var n=r(4677),i=r(2939)("iterator"),o=r(5449);e.exports=r(4579).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},8691:(e,t,r)=>{var n=r(3856);n(n.S,"Array",{isArray:r(1421)})},3882:(e,t,r)=>{"use strict";var n=r(9003),i=r(5084),o=r(5449),a=r(7932);e.exports=r(5700)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},4138:(e,t,r)=>{"use strict";var n=r(6175),i=r(765),o="Map";e.exports=r(2269)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=n.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return n.def(i(this,o),0===e?0:e,t)}},n,!0)},2960:(e,t,r)=>{var n=r(3856);n(n.S,"Number",{isNaN:function(e){return e!=e}})},1477:(e,t,r)=>{var n=r(3856);n(n.S+n.F*!r(9666),"Object",{defineProperty:r(4743).f})},2726:(e,t,r)=>{var n=r(6727),i=r(7177).onFreeze;r(2584)("freeze",(function(e){return function(t){return e&&n(t)?e(i(t)):t}}))},961:(e,t,r)=>{var n=r(6530),i=r(6162);r(2584)("keys",(function(){return function(e){return i(n(e))}}))},4058:()=>{},3136:(e,t,r)=>{var n=r(3856),i=r(9592);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},1867:(e,t,r)=>{"use strict";var n=r(510)(!0);r(5700)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},6840:(e,t,r)=>{"use strict";var n=r(3938),i=r(7069),o=r(9666),a=r(3856),s=r(7470),c=r(7177).KEY,l=r(7929),u=r(250),p=r(5378),f=r(5730),y=r(2939),d=r(5103),x=r(6347),m=r(337),h=r(1421),g=r(2159),v=r(6727),E=r(6530),T=r(7932),S=r(3206),k=r(3101),N=r(526),b=r(4368),A=r(6183),C=r(8195),I=r(4743),L=r(6162),P=A.f,K=I.f,B=b.f,F=n.Symbol,_=n.JSON,O=_&&_.stringify,D="prototype",w=y("_hidden"),M=y("toPrimitive"),z={}.propertyIsEnumerable,j=u("symbol-registry"),q=u("symbols"),G=u("op-symbols"),R=Object[D],$="function"==typeof F&&!!C.f,U=n.QObject,V=!U||!U[D]||!U[D].findChild,H=o&&l((function(){return 7!=N(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=P(R,t);n&&delete R[t],K(e,t,r),n&&e!==R&&K(R,t,n)}:K,W=function(e){var t=q[e]=N(F[D]);return t._k=e,t},J=$&&"symbol"==typeof F.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof F},Z=function(e,t,r){return e===R&&Z(G,t,r),g(e),t=S(t,!0),g(r),i(q,t)?(r.enumerable?(i(e,w)&&e[w][t]&&(e[w][t]=!1),r=N(r,{enumerable:k(0,!1)})):(i(e,w)||K(e,w,k(1,{})),e[w][t]=!0),H(e,t,r)):K(e,t,r)},Y=function(e,t){g(e);for(var r,n=m(t=T(t)),i=0,o=n.length;o>i;)Z(e,r=n[i++],t[r]);return e},Q=function(e){var t=z.call(this,e=S(e,!0));return!(this===R&&i(q,e)&&!i(G,e))&&(!(t||!i(this,e)||!i(q,e)||i(this,w)&&this[w][e])||t)},X=function(e,t){if(e=T(e),t=S(t,!0),e!==R||!i(q,t)||i(G,t)){var r=P(e,t);return!r||!i(q,t)||i(e,w)&&e[w][t]||(r.enumerable=!0),r}},ee=function(e){for(var t,r=B(T(e)),n=[],o=0;r.length>o;)i(q,t=r[o++])||t==w||t==c||n.push(t);return n},te=function(e){for(var t,r=e===R,n=B(r?G:T(e)),o=[],a=0;n.length>a;)!i(q,t=n[a++])||r&&!i(R,t)||o.push(q[t]);return o};$||(s((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===R&&t.call(G,r),i(this,w)&&i(this[w],e)&&(this[w][e]=!1),H(this,e,k(1,r))};return o&&V&&H(R,e,{configurable:!0,set:t}),W(e)})[D],"toString",(function(){return this._k})),A.f=X,I.f=Z,r(3230).f=b.f=ee,r(6274).f=Q,C.f=te,o&&!r(6227)&&s(R,"propertyIsEnumerable",Q,!0),d.f=function(e){return W(y(e))}),a(a.G+a.W+a.F*!$,{Symbol:F});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;re.length>ne;)y(re[ne++]);for(var ie=L(y.store),oe=0;ie.length>oe;)x(ie[oe++]);a(a.S+a.F*!$,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=F(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!$,"Object",{create:function(e,t){return void 0===t?N(e):Y(N(e),t)},defineProperty:Z,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=l((function(){C.f(1)}));a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return C.f(E(e))}}),_&&a(a.S+a.F*(!$||l((function(){var e=F();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(v(t)||void 0!==e)&&!J(e))return h(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!J(t))return t}),n[1]=t,O.apply(_,n)}}),F[D][M]||r(1818)(F[D],M,F[D].valueOf),p(F,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},5828:(e,t,r)=>{r(6237)("Map")},605:(e,t,r)=>{r(6730)("Map")},2834:(e,t,r)=>{var n=r(3856);n(n.P+n.R,"Map",{toJSON:r(1718)("Map")})},8174:(e,t,r)=>{r(6347)("asyncIterator")},6461:(e,t,r)=>{r(6347)("observable")},3871:(e,t,r)=>{r(3882);for(var n=r(3938),i=r(1818),o=r(5449),a=r(2939)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=n[l],p=u&&u.prototype;p&&!p[a]&&i(p,a,l),o[l]=o.Array}},6470:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",i=0):i=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),o=s,a=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=s,a=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(o+1,s):n=e.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var e,n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(n=a+"/"+n,i=47===a.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,a=o-i,s=1;s<r.length&&47===r.charCodeAt(s);++s);for(var c=r.length-s,l=a<c?a:c,u=-1,p=0;p<=l;++p){if(p===l){if(c>l){if(47===r.charCodeAt(s+p))return r.slice(s+p+1);if(0===p)return r.slice(s+p)}else a>l&&(47===e.charCodeAt(i+p)?u=p:0===p&&(u=0));break}var f=e.charCodeAt(i+p);if(f!==r.charCodeAt(s+p))break;47===f&&(u=p)}var y="";for(p=i+u+1;p<=o;++p)p!==o&&47!==e.charCodeAt(p)||(0===y.length?y+="..":y+="/..");return y.length>0?y+r.slice(s+u):(s+=u,47===r.charCodeAt(s)&&++s,r.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(r=e.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,o=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var s=r.length-1,c=-1;for(n=e.length-1;n>=0;--n){var l=e.charCodeAt(n);if(47===l){if(!a){i=n+1;break}}else-1===c&&(a=!1,c=n+1),s>=0&&(l===r.charCodeAt(s)?-1==--s&&(o=n):(s=-1,o=c))}return i===o?o=c:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){i=n+1;break}}else-1===o&&(a=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,o=!0,a=0,s=e.length-1;s>=0;--s){var c=e.charCodeAt(s);if(47!==c)-1===i&&(o=!1,i=s+1),46===c?-1===r?r=s:1!==a&&(a=1):-1!==r&&(a=-1);else if(!o){n=s+1;break}}return-1===r||-1===i||0===a||1===a&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),o=47===i;o?(r.root="/",n=1):n=0;for(var a=-1,s=0,c=-1,l=!0,u=e.length-1,p=0;u>=n;--u)if(47!==(i=e.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===i?-1===a?a=u:1!==p&&(p=1):-1!==a&&(p=-1);else if(!l){s=u+1;break}return-1===a||-1===c||0===p||1===p&&a===c-1&&a===s+1?-1!==c&&(r.base=r.name=0===s&&o?e.slice(1,c):e.slice(s,c)):(0===s&&o?(r.name=e.slice(1,a),r.base=e.slice(1,c)):(r.name=e.slice(s,a),r.base=e.slice(s,c)),r.ext=e.slice(a,c)),s>0?r.dir=e.slice(0,s-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},8149:(e,t,r)=>{r(3285)},8281:(e,t,r)=>{e.exports=r(3896)},7520:(e,t,r)=>{e.exports=r(4334)},7392:(e,t,r)=>{e.exports=r(139)},6243:(e,t,r)=>{r(8613)},2207:(e,t,r)=>{r(1955)},5579:(e,t,r)=>{e.exports=r(25)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{default:()=>Er});const e=require("typescript");var t=r.n(e),i=(r(6243),r(8149),r(2207),r(7392)),o=r.n(i);const a=!1,s=null,c=void 0,l=-1,u="undefined",p="function",f=typeof window!==u?window:c,y=(typeof document!==u&&document,typeof globalThis!==u?globalThis:typeof r.g!==u&&r.g,typeof self!==u&&self,o()({}),o()([]),"");function d(e){return typeof e===p}function x(e){return e!==s&&"object"==typeof e}function m(e){return"number"==typeof e&&!isNaN(e)}function h(e,t){for(let r in e)if(t(e[r],r)===a)break}function g(e,t){return x(e)?x(t)?(h(t,(function(t,r){e[r]=t})),e):e:t}function v(e,t,r){return g(g(e,t),r)}var E=r(3391),T=r(25),S=r(2392);function k(e){return k="function"==typeof T&&"symbol"==typeof S?function(e){return typeof e}:function(e){return e&&"function"==typeof T&&e.constructor===T&&e!==T.prototype?"symbol":typeof e},k(e)}var N=r(2038);function b(e,t,r){return n=function(e,t){if("object"!=k(e)||!e)return e;var r=e[N];if(void 0!==r){var n=r.call(e,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==k(n)?n:String(n))in e?E(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}var A=r(8281),C=r.n(A),I=r(6470),L=r.n(I);function P(e,t,r){if(!e)return;const{length:n}=e;if(n)if(r)for(let r=n-1;r>=0&&t(e[r],r)!==a;r--);else for(let r=0;r<n&&t(e[r],r)!==a;r++);}function K(e,t,r){return function(e,t,r){let n=l;return P(e,(function(e,i){if(r===a?e==t:e===t)return n=i,a})),n}(e,t,r)>=0}function B(e,t){const r=[];return P(e,((e,n)=>{K(t,e)||r.push(e)})),r}function F(e,t,r,n,i){for(let n=0;n<e.length;n++)if(e[n].name===t&&e[n].path===r)return e[n];const o={name:t,path:r,default:i,formatName:n};return e.push(o),o}const _="accessof",O="addressof",D="memcpy",w="sizeof",M="move",z="static_cast",j="assert",q="indexOf",G="reinterpret_cast",R="structAccess",$="CTypeEnumWrite",U="CTypeEnumRead",V="definedMetaProperty",H="symbolStructAddress",W="symbolStruct",J="symbolStructMaxBaseTypeByteLength",Z="symbolStructLength",Y="symbolStructKeysMeta",Q="cheap/std/sizeof",X="cheap/function/definedMetaProperty",ee="cheap/std/memory",te="cheap/symbol",re="cheap/std/structAccess",ne="createThreadFromClass",ie="createThreadFromFunction",oe="createThreadFromModule",ae="cheap/thread/thread",se="array",ce="bit",le="pointer",ue="anyptr",pe="multiPointer",fe="union",ye="struct",de="defined",xe="args",me="enableArgs",he="prototype",ge="struct",ve="union",Ee="type",Te="pointer",Se="array",ke="bit",Ne="ignore",be="synchronize",Ae="make",Ce="unmake",Ie="malloc",Le="calloc",Pe="realloc",Ke="aligned_alloc",Be="free",Fe="Allocator",_e="cheap/heap",Oe="cheap/std/make",De="cheap/std/unmake",we="zzztype__",Me="zzzlevel__",ze="zzzstruct__",je="___LINE__",qe="__LINE__",Ge="___FILE__",Re="__FILE__";function $e(e,t,r){if(e.length){const n=[];e.forEach((e=>{n.push(Ye.context.factory.createImportSpecifier(!1,Ye.context.factory.createIdentifier(e.name),Ye.context.factory.createIdentifier(e.formatName)))}));const i=Ye.context.factory.createImportDeclaration(void 0,Ye.context.factory.createImportClause(!1,void 0,Ye.context.factory.createNamedImports(n)),Ye.context.factory.createStringLiteral(t));r.push(i)}}function Ue(e,t){return`cheap__${e}__${t}`}var Ve,He;!function(e){e[e.NONE=0]="NONE",e[e.CALL=1]="CALL",e[e.EqualLeft=2]="EqualLeft",e[e.EqualRight=3]="EqualRight",e[e.SingleArrowRight=4]="SingleArrowRight",e[e.PointerPlusMinusIgnore=5]="PointerPlusMinusIgnore",e[e.AddressOf=6]="AddressOf",e[e.Parameter=7]="Parameter",e[e.VariableDeclaration=8]="VariableDeclaration"}(Ve||(Ve={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FUNCTION=1]="FUNCTION",e[e.IF=2]="IF",e[e.LOOP=3]="LOOP"}(He||(He={}));class We{constructor(){b(this,"stage",void 0),b(this,"data",void 0)}}class Je{constructor(e=He.UNKNOWN){b(this,"type",He.UNKNOWN),b(this,"topDeclaration",[]),b(this,"definedStruct",[]),b(this,"stages",[]),b(this,"locals",new(C())),b(this,"funcs",new(C())),b(this,"synchronize",!1),this.type=e}pushStage(e,t){const r=new We;r.stage=e,r.data=t,this.stages.push(r)}popStage(){this.stages.pop()}lookupStage(e){for(let t=this.stages.length-1;t>=0;t--)if(this.stages[t].stage===e)return this.stages[t]}getCurrentStage(){return this.stages[this.stages.length-1]}hasStruct(e){return K(this.definedStruct,e)}getDeclaration(e){return this.topDeclaration.find((t=>t.name===e))}}const Ze=new class{constructor(){b(this,"options",void 0),b(this,"compilerOptions",void 0),b(this,"cheapCompilerOptions",void 0),b(this,"program",void 0),b(this,"context",void 0),b(this,"typeChecker",void 0),b(this,"visitor",void 0),b(this,"currentFile",void 0),b(this,"currentFilePath",void 0),b(this,"imports",void 0),b(this,"memoryImports",void 0),b(this,"symbolImports",void 0),b(this,"stdImports",void 0),b(this,"identifierImports",void 0),b(this,"stacks",void 0),b(this,"identifierIndex",void 0)}start(e){this.currentFile=e,this.identifierIndex=0,this.memoryImports=[],this.symbolImports=[],this.stdImports=[],this.identifierImports=[],this.stacks=[],this.pushStack(),this.imports=function(e,r,n,i){const o=new(C());return e.statements.forEach((a=>{if(t().isImportDeclaration(a)){const s=L().extname(a.moduleSpecifier.text);if(!s||".ts"===s){const s=function(e,r,n){var i;return null===(i=t().resolveModuleName(n,r,e.getCompilerOptions(),t().sys).resolvedModule)||void 0===i?void 0:i.resolvedFileName}(r,e.fileName,a.moduleSpecifier.text.split("!").pop());if(s){const e=o.get(s)||new(C());a.importClause&&t().isImportClause(a.importClause)&&(a.importClause.name&&t().isIdentifier(a.importClause.name)&&e.set("default",a.importClause.name.escapedText),a.importClause.namedBindings&&(t().isNamedImports(a.importClause.namedBindings)?a.importClause.namedBindings.elements.forEach((r=>{r.propertyName&&t().isIdentifier(r.propertyName)?(e.set(r.propertyName.escapedText,r.name.escapedText),i.set(r.propertyName.escapedText,n.getSymbolAtLocation(r.propertyName))):(e.set(r.name.escapedText,r.name.escapedText),i.set(r.name.escapedText,n.getSymbolAtLocation(r.name)))})):t().isNamespaceImport(a.importClause.namedBindings)&&e.set("all",a.importClause.namedBindings.name.escapedText))),o.set(s,e)}}}})),o}(e,this.program,this.typeChecker,this.getCurrentStack().locals),this.currentFilePath=L().relative(this.options.projectPath,e.fileName)}end(e){const t=this.getCurrentStack(),r=[];return P(t.topDeclaration,(e=>{r.push(this.context.factory.createVariableStatement(void 0,this.context.factory.createVariableDeclarationList([this.context.factory.createVariableDeclaration(e.formatName,void 0,void 0,e.initializer)])))})),$e(this.memoryImports,ee,r),$e(this.symbolImports,te,r),this.identifierImports.length&&this.identifierImports.forEach((e=>{const t=this.context.factory.createImportDeclaration(void 0,this.context.factory.createImportClause(!1,e.default?this.context.factory.createIdentifier(e.formatName):void 0,e.default?void 0:this.context.factory.createNamedImports([this.context.factory.createImportSpecifier(!1,this.context.factory.createIdentifier(e.name),this.context.factory.createIdentifier(e.formatName))])),this.context.factory.createStringLiteral(e.path));r.push(t)})),r.length&&(e=this.context.factory.updateSourceFile(e,[...r,...e.statements])),this.popStack(),e}pushStack(e){this.stacks.push(new Je(e))}popStack(){this.stacks.pop()}getCurrentStack(){return this.stacks[this.stacks.length-1]}pushStage(e,t={}){var r;null===(r=this.getCurrentStack())||void 0===r||r.pushStage(e,t)}popStage(){var e;null===(e=this.getCurrentStack())||void 0===e||e.popStage()}getCurrentStage(){var e;return null===(e=this.getCurrentStack())||void 0===e?void 0:e.getCurrentStage()}lookupStage(e){for(let t=this.stacks.length-1;t>=0;t--){const r=this.stacks[t].lookupStage(e);if(r)return r}}hasStruct(e){for(let t=this.stacks.length-1;t>=0;t--){const r=this.stacks[t].hasStruct(e);if(r)return r}return!1}addStruct(e){this.getCurrentStack().definedStruct.push(e)}getDeclaration(e){var t;return null===(t=this.getCurrentStack())||void 0===t?void 0:t.getDeclaration(e)}addDeclaration(e,t){const r=this.getCurrentStack();for(let t=0;t<r.topDeclaration.length;t++)if(r.topDeclaration[t].name===e)return r.topDeclaration[t];const n={name:e,formatName:Ue(e,this.identifierIndex++),initializer:t};return r.topDeclaration.push(n),n}addModuleDeclaration(e,t){const r=this.stacks[0];for(let t=0;t<r.topDeclaration.length;t++)if(r.topDeclaration[t].name===e)return r.topDeclaration[t];const n={name:e,formatName:Ue(e,this.identifierIndex++),initializer:t};return r.topDeclaration.push(n),n}addMemoryImport(e){if(e===U)return this.addIdentifierImport(e,"cheap/ctypeEnumRead",!1);if(e===$)return this.addIdentifierImport(e,"cheap/ctypeEnumWrite",!1);let{formatName:t}=F(this.memoryImports,e,ee,!1===this.options.formatIdentifier?e:Ue(e,this.identifierIndex++),!1);return this.context.factory.createIdentifier(t)}addSymbolImport(e){let{formatName:t}=F(this.symbolImports,e,te,!1===this.options.formatIdentifier?e:Ue(e,this.identifierIndex++),!1);return this.context.factory.createIdentifier(t)}addIdentifierImport(e,t,r){let{formatName:n}=F(this.identifierImports,e,t,!1===this.options.formatIdentifier?e:Ue(e,this.identifierIndex++),r);return this.context.factory.createIdentifier(n)}isIdentifier(e,t){return function(e,t){return e===t||0===e.indexOf(`cheap__${t}__`)}(e,t)}addLocal(e,t){var r;null===(r=this.getCurrentStack())||void 0===r||r.locals.set(e,t)}addFunc(e,t){var r;null===(r=this.getCurrentStack())||void 0===r||r.funcs.set(e,t)}lookupLocal(e){for(let t=this.stacks.length-1;t>=0;t--){const r=this.stacks[t].locals.get(e);if(r)return r}}lookupFunc(e){for(let t=this.stacks.length-1;t>=0;t--){const r=this.stacks[t].funcs.get(e);if(r)return r}}lookupSynchronized(){for(let e=this.stacks.length-1;e>=0;e--){const t=this.stacks[e];if(t.type===He.FUNCTION)return t.synchronize}return!1}},Ye=Ze,Qe=["i32","i64","f32","f64","uint8","uint16","uint32","uint64","int8","int16","int32","int64","float","float64","double","char","size","void","atomic_char","atomic_uint8","atomic_uint16","atomic_uint32","atomic_int8","atomic_int16","atomic_int32","atomic_int64","atomic_uint64"],Xe=[ge,ve,Ne,Ee,Te,Se,ke,"inline",be],et=["float","float64","double","f32","f64"],tt=["i64","int64","uint64","atomic_int64","atomic_uint64"],rt=["uint8","atomic_uint8","uint16","atomic_uint16","uint32","atomic_uint32","uint64","atomic_uint64"],nt={2:"uint8",3:"atomic_uint8",4:"char",5:"atomic_char",6:"uint16",7:"atomic_uint16",8:"uint32",9:"atomic_uint32",10:"uint64",11:"int8",12:"atomic_int8",13:"int16",14:"atomic_int16",15:"int32",16:"atomic_int32",17:"int64",18:"float",19:"double",20:"pointer",1:"void",0:"nullptr",22:"atomic_uint64",21:"atomic_int64"},it={typeptr:20};h(nt,((e,t)=>{it[e]=+t}));const ot=B(B(Qe,et),tt);var at=r(7520),st=r.n(at);const ct={2:1,3:1,4:1,5:1,6:2,7:2,8:4,9:4,10:8,11:1,12:1,13:2,14:2,15:4,16:4,17:8,18:4,19:8,20:4,0:4,1:4,22:8,21:8};var lt=r(5579),ut=r.n(lt);ut()("Struct");const pt=ut()("StructLength"),ft=ut()("StructMaxBaseTypeByteLength");function yt(e){return e!==c}let dt;function xt(){if(yt(dt))return dt;const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),dt=256===new Int16Array(e)[0],dt}function mt(e){let t=0;return e.forEach((e=>{if(e[1])ct[20]>t&&(t=ct[20]);else if(d(e.getTypeMeta)){const r=e.getTypeMeta();r.maxBaseTypeByteLength>t&&(t=r.maxBaseTypeByteLength)}else d(e[0])?e[0][ft]>t&&(t=e[0][ft]):ct[e[0]]>t&&(t=ct[e[0]])})),t}function ht(e){let t=0;return e.forEach((e=>{if(e[1])ct[20]>t&&(t=ct[20]);else if(d(e.getTypeMeta)){const r=e.getTypeMeta();r.length>t&&(t=r.length)}else d(e[0])?e[0][pt]>t&&(t=e[0][pt]):ct[e[0]]>t&&(t=ct[e[0]])})),t}function gt(e,t,r,n=0){let i=0,o=0,a=n;for(e&&t&&P(e,(e=>{const r=t.get(e);let s=0,c=0;if(r[1])s=ct[20],c=ct[20];else if(d(r.getTypeMeta)){const e=r.getTypeMeta();s=e.maxBaseTypeByteLength,c=e.length}else if(d(r[0]))s=r[0].prototype[ft],c=r[0].prototype[pt];else{if(r[5]&&r[0]===i&&o>=r[6])return r[7]=a,r[8]=8*ct[i]-o,o-=r[6],0===r[6]&&(r[6]=o,i=0,o=0),xt()&&(r[8]=8*ct[i]-r[8]-r[6]),!0;s=ct[r[0]],c=ct[r[0]]}for(;n%s!=0;)n++;r[7]=n,r[5]?(i=r[0],r[8]=0,o=8*ct[i]-r[6],xt()&&(r[8]=8*ct[i]-r[6])):(i=0,o=0),a=n,n+=r[3]?c*r[4]:c}));n%r!=0;)n++;return n}var vt;ut()("StructAddress"),ut()("StructKeysQueue"),ut()("StructKeysMeta"),ut()("StructKeysInstance"),ut()("StructProxyRevoke"),new(C()),function(e){e[e.CSTRUCT=0]="CSTRUCT",e[e.CUNION=1]="CUNION",e[e.INLINE_OBJECT=2]="INLINE_OBJECT"}(vt||(vt={}));const Et=new(C()),Tt=[];function St(e){if(!e)return!1;let r=!1;return P(e.modifiers,(e=>{var n;if(e.kind===t().SyntaxKind.Decorator&&(null===(n=e.expression)||void 0===n?void 0:n.kind)===t().SyntaxKind.Identifier&&e.expression.escapedText===ge)return r=!0,!1})),r}function kt(e){if(!e)return!1;let r=!1;return P(e.modifiers,(e=>{var n;if(e.kind===t().SyntaxKind.Decorator&&(null===(n=e.expression)||void 0===n?void 0:n.kind)===t().SyntaxKind.Identifier&&e.expression.escapedText===ve)return r=!0,!1})),r}function Nt(e,r){var n;if(e.aliasSymbol){var i,o;const n=e.aliasSymbol.escapedName;if(n===se&&null!==(i=e.aliasTypeArguments[1])&&void 0!==i&&i.isNumberLiteral())r[3]=1,r[4]=(r[4]?r[4]:1)*e.aliasTypeArguments[1].value,Nt(e.aliasTypeArguments[0],r);else if(n===ce&&null!==(o=e.aliasTypeArguments[1])&&void 0!==o&&o.isNumberLiteral())r[5]=1,r[6]=e.aliasTypeArguments[1].value,Nt(e.aliasTypeArguments[0],r);else if(n===le)r[2]++,r[1]=1,Nt(e.aliasTypeArguments[0],r);else if(n===ye||n===fe){const i=function(e,r){const n=new(C()),i=[];if(e.symbol.members&&e.symbol.members.forEach(((e,r)=>{if(e.flags&t().SymbolFlags.Property&&e.valueDeclaration&&t().isPropertySignature(e.valueDeclaration)){const t=Tt[Tt.length-1];t.treePath.push(r);const o={0:1,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,has:!1,typeIdentifier:"",symbol:null,name:r};Nt(Ye.typeChecker.getTypeOfSymbol(e),o),o.has&&(n.set(r,o),i.push(r)),t.treePath.pop()}})),n.size){const t=mt(n);if(!t)return null;const o=r===vt.CUNION?ht(n):gt(i,n,t,0);return Et.set(e.symbol,{maxBaseTypeByteLength:t,length:o,meta:n,symbol:e.symbol,parent:null,structType:vt.INLINE_OBJECT,definedClassParent:Tt[Tt.length-1].struct}),Et.get(e.symbol)}return null}(e.aliasTypeArguments[0],n===fe?vt.CUNION:vt.CSTRUCT);if(i){r.has=!0;const e=Tt[Tt.length-1];e.inlineStructPathMap.set(i.symbol,e.treePath.join(".")),r.getTypeMeta=()=>i}}else e.aliasSymbol.valueDeclaration&&(t().isEnumDeclaration(e.aliasSymbol.valueDeclaration)||t().isEnumMember(e.aliasSymbol.valueDeclaration))?(r.has=!0,r[0]=15):K(Qe,n)&&(r.has=!0,r[0]=it[n])}else e.symbol&&(St(e.symbol.valueDeclaration)||kt(e.symbol.valueDeclaration))?r[1]||e.symbol!==r.symbol?(r.has=!0,r.typeIdentifier=e.symbol.escapedName,r.getTypeMeta=()=>At(e.symbol)):r.has=!1:null!==(n=e.symbol)&&void 0!==n&&n.valueDeclaration&&(t().isEnumDeclaration(e.symbol.valueDeclaration)||t().isEnumMember(e.symbol.valueDeclaration))?(r.has=!0,r[0]=15):r[1]?(r.has=!0,r[0]=1):e.isUnion()&&Nt(e.types[0],r)}function bt(e){var r;if(!e.valueDeclaration||!t().isClassDeclaration(e.valueDeclaration))return void Et.set(e,null);const n=e.valueDeclaration;if(!St(n)&&!kt(n))return void Et.set(e,null);const i=kt(n)?vt.CUNION:vt.CSTRUCT,o=new(C()),a=[],s=new(C()),c={maxBaseTypeByteLength:0,length:0,meta:null,symbol:e,parent:null,structType:i},l=[];let u;if(Tt.push({treePath:l,struct:c,inlineStructPathMap:s}),null!==(r=n.heritageClauses)&&void 0!==r&&r.length)for(let e=0;e<n.heritageClauses.length;e++){const r=n.heritageClauses[e];if(r.token===t().SyntaxKind.ExtendsKeyword&&1===r.types.length){let e=Ye.typeChecker.getSymbolAtLocation(r.types[0].expression);u=Et.get(e),u||(bt(e),u=Et.get(e))}}if(e.members&&e.members.forEach(((r,n)=>{if(r.flags&t().SymbolFlags.Property&&r.valueDeclaration&&t().isPropertyDeclaration(r.valueDeclaration)){var i;const s=r.valueDeclaration;l.push(n);const c={0:1,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,has:!1,typeIdentifier:"",symbol:e,name:n};Nt(Ye.typeChecker.getTypeOfSymbol(r),c),null!==(i=s.modifiers)&&void 0!==i&&i.length&&function(e,r){for(let n=0;n<e.length;n++)if(e[n].kind===t().SyntaxKind.Decorator){const i=e[n];let o=!1;if(t().isCallExpression(i.expression)&&t().isIdentifier(i.expression.expression)){const e=i.expression.expression.escapedText;if(e===Ee)r.has=!0,t().isIdentifier(i.expression.arguments[0])||t().isExpressionWithTypeArguments(i.expression.arguments[0])?(r.typeIdentifier=t().isIdentifier(i.expression.arguments[0])?i.expression.arguments[0].escapedText:i.expression.arguments[0].expression.escapedText,r.getTypeMeta=()=>{const e=t().isIdentifier(i.expression.arguments[0])?Ye.typeChecker.getTypeAtLocation(i.expression.arguments[0]):Ye.typeChecker.getTypeAtLocation(i.expression.arguments[0].expression);return e?At(e.symbol):{maxBaseTypeByteLength:0,length:0,structType:vt.CSTRUCT,meta:null,symbol:null}}):i.expression.arguments[0].kind===t().SyntaxKind.ThisKeyword?(r.typeIdentifier=i.parent.parent.name.escapedText,r.getTypeMeta=()=>At(Ye.typeChecker.getTypeAtLocation(i.parent.parent).symbol)):t().isPropertyAccessExpression(i.expression.arguments[0])&&(r[0]=it[i.expression.arguments[0].name.escapedText]);else if(e===Te)r[1]=1,i.expression.arguments.length?t().isIdentifier(i.expression.arguments[0])&&(r[2]=+i.expression.arguments[0].escapedText):r[2]=1;else if(e===Se){if(r[3]=1,r[4]=0,t().isNumericLiteral(i.expression.arguments[0]))r[4]=+i.expression.arguments[0].text;else if(t().isIdentifier(i.expression.arguments[0])){const e=Ye.typeChecker.getSymbolAtLocation(i.expression.arguments[0]);e&&t().isVariableDeclaration(e.valueDeclaration)&&e.valueDeclaration.initializer&&t().isNumericLiteral(e.valueDeclaration.initializer)&&(r[4]=+e.valueDeclaration.initializer.text)}st()(r[4])&&(r[4]=0)}else e===ke?(r[5]=1,t().isIdentifier(i.expression.arguments[0])&&(r[6]=+i.expression.arguments[0].escapedText)):e===Ne&&(o=!0,t().isCallExpression(i.expression)&&i.expression.arguments.length&&!Yt(Ye.visitor(i.expression.arguments[0]),Ye.visitor)&&(o=!1))}else t().isIdentifier(i.expression)&&i.expression.escapedText===Ne&&(o=!0);o&&(r.has=!1)}}(s.modifiers,c),c.has&&(o.set(n,c),a.push(n)),l.pop()}})),o.size){var p,f;const t=Math.max(mt(o),null!==(p=null===(f=u)||void 0===f?void 0:f.maxBaseTypeByteLength)&&void 0!==p?p:0);if(!t)return void Et.set(e,null);let r=0;u&&(r=u.length),v(c,{maxBaseTypeByteLength:t,length:i===vt.CUNION?ht(o):gt(a,o,t,r),meta:o,parent:u,inlineStructPathMap:s}),Et.set(e,c)}else u?(v(c,{maxBaseTypeByteLength:u.maxBaseTypeByteLength,length:u.length,meta:o,parent:u}),Et.set(e,c)):Et.set(e,null);Tt.pop()}function At(e){return e?(Et.has(e)||bt(e),Et.get(e)):null}function Ct(e){return null!=At(e)}function It(e,t){if(_t(e)&&_t(t))return!(!Bt(e)&&!Bt(t))||qt(e)===qt(t)&&Gt(e)===Gt(t);if(Lt(e)&&Lt(t))return zt(e)===zt(t);if(Kt(e)&&Kt(t))return Dt(e)===Dt(t);if(e.symbol&&t.symbol)return e.symbol===t.symbol;if(e.aliasSymbol&&t.aliasSymbol){var r,n;if(e.aliasSymbol.escapedName===le&&t.aliasSymbol.escapedName===ue||e.aliasSymbol.escapedName===ue&&t.aliasSymbol.escapedName===le)return!0;if(!e.aliasTypeArguments&&!t.aliasTypeArguments)return function(e,t){return e===le&&t===ue||e===ue&&t===le||"any"===e||"any"===t||"void"===e||"void"===t||e===t}(e.aliasSymbol.escapedName,t.aliasSymbol.escapedName);if((null===(r=e.aliasTypeArguments)||void 0===r?void 0:r.length)===(null===(n=t.aliasTypeArguments)||void 0===n?void 0:n.length)){for(let r=0;r<e.aliasTypeArguments.length;r++)if(!It(e.aliasTypeArguments[r],t.aliasTypeArguments[r]))return!1;return!0}return!1}return!(!e.intrinsicName||!t.intrinsicName)&&e.intrinsicName===t.intrinsicName}function Lt(e){if(!e)return!1;if(_t(e))return!0;if(e.aliasSymbol)return e.aliasSymbol.escapedName===ue||e.aliasSymbol.escapedName===pe||m(it[e.aliasSymbol.escapedName]);if(e.isIntersection()){var t;const r=e.getProperty(we);if(null!=r&&null!==(t=r.links)&&void 0!==t&&null!==(t=t.type)&&void 0!==t&&t.value)return m(it[r.links.type.value.replace(/\*$/g,"")])}return!1}function Pt(e){return!!e&&_t(e)&&(e.aliasSymbol&&e.aliasTypeArguments&&Lt(e.aliasTypeArguments[0])||!e.symbol&&!e.aliasSymbol&&!Ot(e))}function Kt(e,t=!1){if(!e)return!1;if(e.symbol)return Ct(e.symbol);if(e.aliasSymbol)return e.aliasSymbol.escapedName===ye||e.aliasSymbol.escapedName===fe;if(e.isIntersection()){var r,n,i,o;const a=e.getProperty(Me);if(!t&&null!=a&&null!==(r=a.links)&&void 0!==r&&null!==(r=r.type)&&void 0!==r&&r.value&&a.links.type.value>0)return!1;const s=e.getProperty(we);if(null!=s&&null!==(n=s.links)&&void 0!==n&&null!==(n=n.type)&&void 0!==n&&n.symbol)return Kt(s.links.type);if(null!=s&&null!==(i=s.links)&&void 0!==i&&null!==(i=i.type)&&void 0!==i&&i.aliasSymbol&&null!=s&&null!==(o=s.links)&&void 0!==o&&null!==(o=o.type)&&void 0!==o&&o.aliasTypeArguments&&(s.links.type.aliasSymbol.escapedName===ye||s.links.type.aliasSymbol.escapedName===fe))return Kt(s.links.type.aliasTypeArguments[0]);if(e.getProperty(ze))for(let t=0;t<e.types.length;t++)if(e.types[t].symbol&&Ct(e.types[t].symbol))return!0}return!1}function Bt(e){return!!e.aliasSymbol&&e.aliasSymbol.escapedName===ue}function Ft(e){return!!e.aliasSymbol&&e.aliasSymbol.escapedName===pe}function _t(e){if(!e)return!1;if(Bt(e)||Ft(e))return!0;if(e.aliasSymbol)return e.aliasSymbol.escapedName===le;if(e.symbol)return e.symbol.escapedName===le;if(e.isIntersection()){var t;const r=e.getProperty(Me);if(null!=(null==r||null===(t=r.links)||void 0===t||null===(t=t.type)||void 0===t?void 0:t.value))return r.links.type.value>0}return!1}function Ot(e){if(!e)return!1;if(_t(e)){if(Bt(e)||Ft(e))return!1;if(e.aliasSymbol&&e.aliasTypeArguments)return Kt(e.aliasTypeArguments[0]);if(!e.symbol&&!e.aliasSymbol&&e.isIntersection()){var t;const r=e.getProperty(Me);return!(null!=r&&null!==(t=r.links)&&void 0!==t&&null!==(t=t.type)&&void 0!==t&&t.value&&r.links.type.value>1)&&Kt(e,!0)}}return!1}function Dt(e){if(e.aliasSymbol&&e.aliasTypeArguments){if(e.aliasSymbol.escapedName===ye||e.aliasSymbol.escapedName===fe||e.aliasSymbol.escapedName===se||e.aliasSymbol.escapedName===le)return Dt(e.aliasTypeArguments[0])}else{if(e.symbol)return At(e.symbol);if(e.isIntersection()){var t,r,n;const i=e.getProperty(we);if(null!=i&&null!==(t=i.links)&&void 0!==t&&null!==(t=t.type)&&void 0!==t&&t.symbol)return Dt(i.links.type);if(null!=i&&null!==(r=i.links)&&void 0!==r&&null!==(r=r.type)&&void 0!==r&&r.aliasSymbol&&null!=i&&null!==(n=i.links)&&void 0!==n&&null!==(n=n.type)&&void 0!==n&&n.aliasTypeArguments&&(i.links.type.aliasSymbol.escapedName===ye||i.links.type.aliasSymbol.escapedName===fe))return Dt(i.links.type.aliasTypeArguments[0]);if(e.getProperty(ze))for(let t=0;t<e.types.length;t++)if(e.types[t].symbol&&Ct(e.types[t].symbol))return At(e.types[t].symbol)}}}function wt(e){return Gt(e)>1?null:e.aliasSymbol&&e.aliasTypeArguments&&!_t(e.aliasTypeArguments[0])&&Dt(e.aliasTypeArguments[0])||!e.symbol&&!e.aliasSymbol&&Dt(e)}function Mt(e){if(e.aliasSymbol)return e.aliasSymbol.escapedName;if(e.isIntersection()){var t;const r=e.getProperty(we);if(null!=r&&null!==(t=r.links)&&void 0!==t&&null!==(t=t.type)&&void 0!==t&&t.value)return/\*+$/.test(r.links.type.value)?nt[20]:r.links.type.value}}function zt(e){if(_t(e))return 20;const t=Mt(e);return t?it[t]:void 0}function jt(e){let t=e.aliasSymbol&&e.aliasTypeArguments&&zt(e.aliasTypeArguments[0]);if(!m(t)&&!e.symbol&&!e.aliasSymbol&&e.isIntersection()){var r;if(Gt(e)>1)return 20;const t=e.getProperty(we);if(null!=t&&null!==(r=t.links)&&void 0!==r&&null!==(r=r.type)&&void 0!==r&&r.value)return/\*{2}$/.test(t.links.type.value)?20:it[t.links.type.value.replace(/\**$/,"")]}return t}function qt(e){if(_t(e)){if(e.aliasSymbol&&e.aliasTypeArguments)return qt(e.aliasTypeArguments[0]);{var t;const r=e.getProperty(we);return null!=r&&null!==(t=r.links)&&void 0!==t&&null!==(t=t.type)&&void 0!==t&&t.value?it[r.links.type.value.replace(/\**$/,"")]:Dt(e)}}return Kt(e)?Dt(e):Lt(e)?zt(e):void 0}function Gt(e){if(_t(e)&&e.isIntersection()){var t;const r=e.getProperty(Me);if(null!=r&&null!==(t=r.links)&&void 0!==t&&null!==(t=t.type)&&void 0!==t&&t.value)return r.links.type.value}return 0}function Rt(e){return t().isBinaryExpression(e)&&e.operatorToken.kind===t().SyntaxKind.EqualsToken?Rt(e.right):e}function $t(e){let t=Jt(e);for(;t&&t!==e;){if(_t(Ye.typeChecker.getTypeAtLocation(t)))return!0;t=t.parent}return!!t&&!!_t(Ye.typeChecker.getTypeAtLocation(t))}function Ut(e){if(t().isBinaryExpression(e)){const t=Ye.typeChecker.getTypeAtLocation(e.right);return _t(t)?t:Ut(e.left)}return Ye.typeChecker.getTypeAtLocation(e)}function Vt(e){if(t().isBinaryExpression(e)&&e.operatorToken.kind===t().SyntaxKind.EqualsToken)return Vt(e.left)||Vt(e.right);let r=Ye.typeChecker.getTypeAtLocation(e);return!!_t(r)||(r=Ut(e),!!_t(r)||(t().isPropertyAccessExpression(e)?$t(e):t().isElementAccessExpression(e)&&t().isPropertyAccessExpression(e.expression)?$t(e.expression):!!t().isElementAccessExpression(e)&&Vt(e.expression)))}function Ht(e){return 0==(e.flags&t().NodeFlags.Synthesized)}function Wt(e){return t().isElementAccessExpression(e)&&Vt(e.expression)}function Jt(e){return t().isPropertyAccessExpression(e)||t().isCallExpression(e)||t().isElementAccessExpression(e)?Jt(e.expression):e}function Zt(e,r){const n=e.declarations;if(null!=n&&n.length)for(let e=0;e<n.length;e++){var i;const o=n[e];if((t().isFunctionDeclaration(o)||t().isMethodDeclaration(o))&&o.parameters&&null!==(i=o.parameters[r])&&void 0!==i&&i.initializer)return o.parameters[r].initializer}}function Yt(e,r){return t().visitNode(e,(function e(n){if(t().isParenthesizedExpression(n))return t().visitNode(n.expression,e);if(t().isPrefixUnaryExpression(n))return n.operator!==t().SyntaxKind.ExclamationToken||!t().visitNode(n.operand,e);if(t().isBinaryExpression(n)){const r=t().visitNode(n.left,e),i=t().visitNode(n.right,e);return n.operatorToken.kind===t().SyntaxKind.AmpersandAmpersandToken?r&&i:n.operatorToken.kind!==t().SyntaxKind.BarBarToken||r||i}{const e=t().visitNode(n,r);return e.kind===t().SyntaxKind.TrueKeyword||e.kind!==t().SyntaxKind.FalseKeyword&&(t().isNumericLiteral(e)?0!=+e.text:!t().isStringLiteral(e)||""!==e.text)}}))}function Qt(e,r){if(t().isBinaryExpression(e)&&e.operatorToken.kind===t().SyntaxKind.PlusToken&&(t().isNumericLiteral(e.right)||t().isNumericLiteral(e.left))&&t().isNumericLiteral(r)){if(t().isNumericLiteral(e.right))return Ye.context.factory.createBinaryExpression(e.left,t().SyntaxKind.PlusToken,Ye.context.factory.createNumericLiteral(+e.right.text+ +r.text));if(t().isNumericLiteral(e.left))return Ye.context.factory.createBinaryExpression(Ye.context.factory.createNumericLiteral(+e.left.text+ +r.text),t().SyntaxKind.PlusToken,e.right)}return Ye.context.factory.createBinaryExpression(e,t().SyntaxKind.PlusToken,r)}function Xt(e){if(!e)return"";const r=Ye.typeChecker.getTypeAtLocation(e);if(r.aliasSymbol&&K(Qe,r.aliasSymbol.escapedName))return r.aliasSymbol.escapedName;if(t().isBinaryExpression(e)){const r=Xt(e.left),n=Xt(e.right);return K(et,r)?r:K(et,n)?n:K(tt,r)?e.operatorToken.kind===t().SyntaxKind.MinusToken?"int64":r:K(tt,n)?e.operatorToken.kind===t().SyntaxKind.MinusToken?"int64":n:e.operatorToken.kind===t().SyntaxKind.MinusToken?"int32":"uint32"}if(r.flags&t().TypeFlags.BigInt||r.flags&t().TypeFlags.BigIntLiteral){if(r.flags&t().TypeFlags.BigIntLiteral&&e.parent&&t().isPrefixUnaryExpression(e.parent)&&e.parent.operator===t().SyntaxKind.MinusToken)return"int64";if(r.flags&t().TypeFlags.BigInt&&t().isCallExpression(e)&&e.arguments[0]){const t=Xt(e.arguments[0]);if(!K(rt,t))return"int64"}return"uint64"}if(r.flags&t().TypeFlags.Number||r.flags&t().TypeFlags.NumberLiteral){if(r.flags&t().TypeFlags.NumberLiteral){if((r.value+"").indexOf(".")>-1)return"double";if(e.parent&&t().isPrefixUnaryExpression(e.parent)&&e.parent.operator===t().SyntaxKind.MinusToken)return"int32";if(r.flags&t().TypeFlags.Number&&t().isCallExpression(e)&&e.arguments[0]){const t=Xt(e.arguments[0]);if(!K(rt,t))return"int32"}return"uint32"}return"double"}if(r.isUnion())for(let e=0;e<r.types.length;e++)if(r.types[e].aliasSymbol&&K(Qe,r.types[e].aliasSymbol.escapedName))return r.types[e].aliasSymbol.escapedName;return""}function er(e,r){var n;if(null!==(n=e.members)&&void 0!==n&&n.length)for(let n=0;n<e.members.length;n++)if(t().isMethodDeclaration(e.members[n])&&t().isIdentifier(e.members[n].name)&&e.members[n].name.escapedText===r)return e.members[n];if(e.heritageClauses)for(let n=0;n<e.heritageClauses.length;n++){const i=e.heritageClauses[n].types;for(let e=0;e<i.length;e++)if(t().isExpressionWithTypeArguments(i[e])){const n=Ye.typeChecker.getTypeAtLocation(i[e].expression);if(null!=n&&n.symbol&&n.symbol.valueDeclaration&&(t().isClassDeclaration(n.symbol.valueDeclaration)||t().isInterfaceDeclaration(n.symbol.valueDeclaration))){const e=er(n.symbol.valueDeclaration,r);if(e)return e}}}}function tr(e){if(!e)return!1;if(e.modifiers)for(let r=0;r<e.modifiers.length;r++){const n=e.modifiers[r];if(t().isDecorator(n)&&t().isIdentifier(n.expression)&&n.expression.escapedText===be)return!0}if(e.name&&t().isIdentifier(e.name)&&t().isClassDeclaration(e.parent)&&e.parent.heritageClauses)for(let r=0;r<e.parent.heritageClauses.length;r++)for(let r=0;r<e.parent.heritageClauses.length;r++){const n=e.parent.heritageClauses[r].types;for(let r=0;r<n.length;r++)if(t().isExpressionWithTypeArguments(n[r])){const i=Ye.typeChecker.getTypeAtLocation(n[r].expression);if(null!=i&&i.symbol&&i.symbol.valueDeclaration&&(t().isClassDeclaration(i.symbol.valueDeclaration)||t().isInterfaceDeclaration(i.symbol.valueDeclaration))){const t=er(i.symbol.valueDeclaration,e.name.escapedText);if(t)return tr(t)}}}return!1}function rr(e,t){const r=L().relative(L().dirname(e),t);return/\.\.\//.test(r)?r:"./"+r}function nr(e){const t=Ye.addIdentifierImport(V,X,!0),r=Ye.addSymbolImport(W),n=Ye.addSymbolImport(J),i=Ye.addSymbolImport(Z),o=Ye.addSymbolImport(Y),a=[];return a.push(Ye.context.factory.createVariableStatement(void 0,Ye.context.factory.createVariableDeclarationList([Ye.context.factory.createVariableDeclaration(Ye.context.factory.createIdentifier("map"),void 0,void 0,Ye.context.factory.createNewExpression(Ye.context.factory.createIdentifier("Map"),void 0,[]))]))),e.meta.forEach(((e,t)=>{let r;if(d(e.getTypeMeta))if(e.typeIdentifier){var n;const t=null===(n=e.getTypeMeta())||void 0===n?void 0:n.symbol.valueDeclaration.getSourceFile();var i;r=t&&t!==Ye.currentFile?Ye.addIdentifierImport(e.typeIdentifier,rr(Ye.currentFile.fileName,t.fileName),!(null!==(i=Ye.typeChecker.getSymbolAtLocation(t).exports)&&void 0!==i&&i.has(e.typeIdentifier))):Ye.context.factory.createIdentifier(function(e){if(!Ye.hasStruct(e)){const{formatName:t}=Ye.addDeclaration(e);return t}return e}(e.typeIdentifier))}else{const t=e.getTypeMeta();if(!t||t.structType!==vt.INLINE_OBJECT)return!0;{const e=nr(t);e.push(Ye.context.factory.createReturnStatement(Ye.context.factory.createIdentifier(he))),r=Ye.context.factory.createCallExpression(Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createFunctionExpression(void 0,void 0,void 0,void 0,[Ye.context.factory.createParameterDeclaration(void 0,void 0,Ye.context.factory.createIdentifier(he))],void 0,Ye.context.factory.createBlock(e,!0))),void 0,[Ye.context.factory.createObjectLiteralExpression()])}}else r=Ye.context.factory.createNumericLiteral(e[0]);a.push(Ye.context.factory.createExpressionStatement(Ye.context.factory.createCallExpression(Ye.context.factory.createPropertyAccessExpression(Ye.context.factory.createIdentifier("map"),Ye.context.factory.createIdentifier("set")),void 0,[Ye.context.factory.createStringLiteral(t),Ye.context.factory.createObjectLiteralExpression([Ye.context.factory.createPropertyAssignment(Ye.context.factory.createNumericLiteral(0),r),Ye.context.factory.createPropertyAssignment(Ye.context.factory.createNumericLiteral(1),Ye.context.factory.createNumericLiteral(e[1])),Ye.context.factory.createPropertyAssignment(Ye.context.factory.createNumericLiteral(2),Ye.context.factory.createNumericLiteral(e[2])),Ye.context.factory.createPropertyAssignment(Ye.context.factory.createNumericLiteral(3),Ye.context.factory.createNumericLiteral(e[3])),Ye.context.factory.createPropertyAssignment(Ye.context.factory.createNumericLiteral(4),Ye.context.factory.createNumericLiteral(e[4])),Ye.context.factory.createPropertyAssignment(Ye.context.factory.createNumericLiteral(5),Ye.context.factory.createNumericLiteral(e[5])),Ye.context.factory.createPropertyAssignment(Ye.context.factory.createNumericLiteral(6),Ye.context.factory.createNumericLiteral(e[6])),Ye.context.factory.createPropertyAssignment(Ye.context.factory.createNumericLiteral(7),Ye.context.factory.createNumericLiteral(e[7])),Ye.context.factory.createPropertyAssignment(Ye.context.factory.createNumericLiteral(8),Ye.context.factory.createNumericLiteral(e[8]))])])))})),a.push(Ye.context.factory.createExpressionStatement(Ye.context.factory.createCallExpression(t,void 0,[Ye.context.factory.createIdentifier(he),r,Ye.context.factory.createTrue()]))),a.push(Ye.context.factory.createExpressionStatement(Ye.context.factory.createCallExpression(t,void 0,[Ye.context.factory.createIdentifier(he),n,Ye.context.factory.createNumericLiteral(e.maxBaseTypeByteLength)]))),a.push(Ye.context.factory.createExpressionStatement(Ye.context.factory.createCallExpression(t,void 0,[Ye.context.factory.createIdentifier(he),i,Ye.context.factory.createNumericLiteral(e.length)]))),a.push(Ye.context.factory.createExpressionStatement(Ye.context.factory.createCallExpression(t,void 0,[Ye.context.factory.createIdentifier(he),o,Ye.context.factory.createIdentifier("map")]))),a}function ir(e){return t().isParenthesizedExpression(e)?t().visitNode(e.expression,ir):t().isPrefixUnaryExpression(e)?t().visitNode(e.operand,ir):t().isBinaryExpression(e)?!!t().visitNode(e.left,ir)&&t().visitNode(e.right,ir):!!(t().isCallExpression(e)&&t().isIdentifier(e.expression)&&e.expression.escapedText===de||e.kind===t().SyntaxKind.TrueKeyword||e.kind===t().SyntaxKind.FalseKeyword)}function or(e){return t().isParenthesizedExpression(e)?t().visitNode(e.expression,or):t().isPrefixUnaryExpression(e)?t().visitNode(e.operand,or):t().isBinaryExpression(e)?t().visitNode(e.left,or)||t().visitNode(e.right,or):!(!t().isCallExpression(e)||!t().isIdentifier(e.expression)||e.expression.escapedText!==de)}function ar(e,r,n,i=9e3){const o=t().formatDiagnostic({file:e,start:r.pos>-1?r.getStart():0,length:r.pos>-1?r.end-r.getStart():0,category:t().DiagnosticCategory.Error,code:i,messageText:n},{getCurrentDirectory:t().sys.getCurrentDirectory,getCanonicalFileName:function(e){return e},getNewLine:function(){return t().sys.newLine}});if(Ye.options.reportError){const t=e.getLineAndCharacterOfPosition(r.getStart()),n=e.getLineAndCharacterOfPosition(r.getEnd());Ye.options.reportError({file:e.fileName,loc:{start:{line:t.line+1,column:t.character+1},end:{line:n.line+1,column:n.character+1}},code:i,message:o})}else console.error(o)}function sr(e,t){return e!=s&&e.toString?e.toString():t!==c?t:y}function cr(e,t){let r=e.meta.get(t);if(r)return r;let n=e.parent;for(;n;){if(r=n.meta.get(t),r)return r;n=e.parent}return null}function lr(e,r){if(e===je||e===qe){const{line:e}=t().getLineAndCharacterOfPosition(Ye.currentFile,r.getStart());return Ye.context.factory.createNumericLiteral(e+1)}if(e===Ge||e===Re){const{formatName:e}=Ye.addModuleDeclaration("fileName",Ye.context.factory.createStringLiteral(Ye.currentFilePath));return Ye.context.factory.createIdentifier(e)}if(yt(Ye.cheapCompilerOptions.defined[e])){const t=Ye.cheapCompilerOptions.defined[e];if(function(e){return"boolean"==typeof e}(t))return t?Ye.context.factory.createTrue():Ye.context.factory.createFalse();if(m(t))return Ye.context.factory.createNumericLiteral(t);if(function(e){return"string"==typeof e}(t))return Ye.context.factory.createStringLiteral(t);if(r)return ar(Ye.currentFile,r,`the type(${typeof t}) of defined not support`),r}else if(r)return ar(Ye.currentFile,r,`cannot found the defined(${e})`),r}function ur(e,r,n){if(t().isTypeReferenceNode(r))if(t().isIdentifier(r.typeName)&&r.typeName.symbol){const n=Ye.typeChecker.getTypeOfSymbol(r.typeName.symbol);if(Lt(n))e.push(Ye.context.factory.createNumericLiteral(zt(n)));else if(n.aliasSymbol){const t=n.aliasSymbol.escapedName;e.push(Ye.context.factory.createIdentifier(t))}else if(n.symbol&&n.symbol.valueDeclaration&&t().isClassDeclaration(n.symbol.valueDeclaration)){var i;let t;const r=null===(i=n.symbol.valueDeclaration)||void 0===i?void 0:i.getSourceFile();var o;t=r!==Ye.currentFile?Ye.addIdentifierImport(n.symbol.escapedName,rr(Ye.currentFile.fileName,r.fileName),!(null!==(o=Ye.typeChecker.getSymbolAtLocation(r).exports)&&void 0!==o&&o.has(n.symbol.escapedName))):Ye.context.factory.createIdentifier(n.symbol.escapedName),e.push(t)}else e.push(Ye.context.factory.createIdentifier(n.symbol.escapedName))}else e.push(Ye.context.factory.createIdentifier("undefined"));else if(t().isLiteralTypeNode(r))if(t().isNumericLiteral(r.literal))e.push(Ye.context.factory.createNumericLiteral(+r.literal.text));else if(t().isStringLiteral(r.literal))if(/^defined\(([a-zA-Z_$][a-zA-Z0-9_$]*)\)$/.test(r.literal.text)){const t=lr(r.literal.text.match(/^defined\(([a-zA-Z_$][a-zA-Z0-9_$]*)\)$/)[1],n);t?e.push(t):e.push(Ye.context.factory.createIdentifier("undefined"))}else if(/^moduleId\(([0-9]+)\)$/.test(r.literal.text)){const i=+r.literal.text.match(/^moduleId\(([0-9]+)\)$/)[1],o=n.arguments[i];if(o){var a;const i=null===(a=Ye.typeChecker.getTypeAtLocation(o).symbol.valueDeclaration)||void 0===a?void 0:a.getSourceFile();if(i){var s;const o=Ye.typeChecker.getTypeAtLocation(n.expression),a=null==o||null===(s=o.symbol)||void 0===s||null===(s=s.valueDeclaration)||void 0===s?void 0:s.getSourceFile().fileName;if(Ye.cheapCompilerOptions.defined.ENABLE_THREADS&&Ye.cheapCompilerOptions.defined.ENABLE_THREADS_SPLIT&&a.indexOf(ae)>=0&&(o.symbol.escapedName===ne||o.symbol.escapedName===ie||o.symbol.escapedName===oe)){const a=o.symbol.escapedName===ne?"class":o.symbol.escapedName===oe?"module":"function";let s=t().isIdentifier(n.arguments[0])?n.arguments[0].escapedText:t().isPropertyAccessExpression(n.arguments[0])?n.arguments[0].name.escapedText:"unknown";if("class"===a||"function"===a){var c;let e;if(t().isIdentifier(n.arguments[0])?e=Ye.typeChecker.getTypeAtLocation(n.arguments[0]):t().isPropertyAccessExpression(n.arguments[0])&&(e=Ye.typeChecker.getTypeAtLocation(n.arguments[0].name)),null!==(c=e)&&void 0!==c&&null!==(c=c.symbol)&&void 0!==c&&c.valueDeclaration)if(t().isClassDeclaration(e.symbol.valueDeclaration)){if(!e.symbol.valueDeclaration.name)return ar(Ye.currentFile,r,"The thread class must have a class name"),r;s=e.symbol.valueDeclaration.name.escapedText}else if(t().isFunctionDeclaration(e.symbol.valueDeclaration)){if(!e.symbol.valueDeclaration.name)return ar(Ye.currentFile,r,"The thread function must has a function name"),r;s=e.symbol.valueDeclaration.name.escapedText}}let l=`${s}Thread`;n.arguments[1]&&t().isObjectLiteralExpression(n.arguments[1])&&n.arguments[1].properties.forEach((e=>{if(t().isPropertyAssignment(e)&&t().isIdentifier(e.name)&&"name"===e.name.escapedText){let t=e.initializer.getText();t&&(t=t.replace(/^['|"]/,""),t=t.replace(/['|"]$/,""),t&&(l=t))}}));const u=`cheap-worker-loader?type=${a}&point=${s}&name=${l}`,p=Ye.addIdentifierImport("worker",`${u}!${rr(Ye.currentFile.fileName,i.fileName)}`,!0);e.push(Ye.context.factory.createNewExpression(p,void 0,[]))}else e.push(Ye.context.factory.createCallExpression(Ye.context.factory.createPropertyAccessExpression(Ye.context.factory.createIdentifier("require"),Ye.context.factory.createIdentifier("resolve")),void 0,[Ye.context.factory.createStringLiteral(rr(Ye.currentFile.fileName,i.fileName))]))}}}else{let i=r.literal.text.replace(/defined\(([a-zA-Z_$][a-zA-Z0-9_$]*)\)/g,((e,r)=>function(e,r){if(e===je||e===qe){const{line:e}=t().getLineAndCharacterOfPosition(Ye.currentFile,r.getStart());return sr(e+1)}return e===Ge||e===Re?Ye.currentFilePath:yt(Ye.cheapCompilerOptions.defined[e])?sr(Ye.cheapCompilerOptions.defined[e],""):""}(r,n)));e.push(Ye.context.factory.createStringLiteral(i))}else r.literal.kind===t().SyntaxKind.TrueKeyword?e.push(Ye.context.factory.createTrue()):r.literal.kind===t().SyntaxKind.FalseKeyword&&e.push(Ye.context.factory.createFalse())}function pr(e,t){var r;const n=t;let i=n.symbol,o="";n.structType===vt.INLINE_OBJECT&&(i=n.definedClassParent.symbol,o=n.definedClassParent.inlineStructPathMap.get(n.symbol));const a=null===(r=i.valueDeclaration)||void 0===r?void 0:r.getSourceFile();if(a){let t;var s;t=a!==Ye.currentFile?Ye.addIdentifierImport(i.escapedName,rr(Ye.currentFile.fileName,a.fileName),!(null!==(s=Ye.typeChecker.getSymbolAtLocation(a).exports)&&void 0!==s&&s.has(i.escapedName))):Ye.context.factory.createIdentifier(i.escapedName);const r=[e,t];return o&&r.push(Ye.context.factory.createStringLiteral(o)),Ye.context.factory.createCallExpression(Ye.addIdentifierImport(R,re,!0),void 0,r)}}function fr(e){if(Kt(e)){const t=Dt(e);if(t)return t.length}else{if(Lt(e))return ct[zt(e)];if(e.aliasSymbol){var t,r;const n=e.aliasSymbol.escapedName;if(n===se&&null!==(t=e.aliasTypeArguments[1])&&void 0!==t&&t.isNumberLiteral())return fr(e.aliasTypeArguments[0])*e.aliasTypeArguments[1].value;if(n===ce&&null!==(r=e.aliasTypeArguments[1])&&void 0!==r&&r.isNumberLiteral())return e.aliasTypeArguments[1].value}}return 0}function yr(e,r){let n="";t().isIdentifier(e.expression)?n=e.expression.escapedText:t().isPropertyAccessExpression(e.expression)&&(n=e.expression.name.escapedText);const i=Ye.typeChecker.getResolvedSignature(e),o=null==i?void 0:i.getDeclaration();if(o&&function(e){if(!e)return!1;for(let t=0;t<e.length;t++)if(e[t].name.escapedText===xe)return!0;return!1}(o.typeParameters)){const n=Ye.typeChecker.signatureToSignatureDeclaration(i,t().SyntaxKind.CallSignature,function(e,r){if(null==e||Ht(e))return e;for(e=t().getOriginalNode(e);e;){if(Ht(e))return e;e=t().getOriginalNode(e)}}(function(e){for(function(e){return e.kind===t().SyntaxKind.JSDocTypedefTag||e.kind===t().SyntaxKind.JSDocCallbackTag||e.kind===t().SyntaxKind.JSDocEnumTag}(e)&&(e=e.parent.parent);;){if(!(e=e.parent))return;switch(e.kind){case t().SyntaxKind.SourceFile:case t().SyntaxKind.MethodDeclaration:case t().SyntaxKind.MethodSignature:case t().SyntaxKind.FunctionDeclaration:case t().SyntaxKind.FunctionExpression:case t().SyntaxKind.GetAccessor:case t().SyntaxKind.SetAccessor:case t().SyntaxKind.ClassDeclaration:case t().SyntaxKind.InterfaceDeclaration:case t().SyntaxKind.EnumDeclaration:case t().SyntaxKind.ModuleDeclaration:return e}}}(e)),t().NodeBuilderFlags.WriteTypeArgumentsOfSignature|t().NodeBuilderFlags.IgnoreErrors|t().NodeBuilderFlags.WriteTypeParametersInQualifiedName|t().NodeBuilderFlags.UseAliasDefinedOutsideCurrentScope|t().NodeBuilderFlags.MultilineObjectLiterals|t().NodeBuilderFlags.OmitParameterModifiers);if(null!=n&&n.typeArguments){const i=function(e,t){let r=-1;for(let t=0;t<e.length;t++)if(e[t].name.escapedText===xe){r=t;break}if(r>-1)return t[r]}(o.typeParameters,n.typeArguments);if(i&&function(e,r,n){for(let i=0;i<e.length;i++){const o=e[i];if(o.name.escapedText===me&&o.default){const e=[];if(ur(e,r[i],n),e[0].kind===t().SyntaxKind.FalseKeyword||t().isStringLiteral(e[0])&&""===e[0].text||t().isNumericLiteral(e[0])&&"0"===e[0].text)return!1;break}}return!0}(o.typeParameters,n.typeArguments,e)){var a;const n=[];let c=((null===(a=o.parameters)||void 0===a?void 0:a.length)||0)-e.arguments.length;for(;c>0;){var s;n.push(null!==(s=Zt(Ye.typeChecker.getSymbolAtLocation(o.name),e.arguments.length+n.length))&&void 0!==s?s:Ye.context.factory.createIdentifier("undefined")),c--}return t().isTupleTypeNode(i)?i.elements.forEach((t=>{c<0?c++:ur(n,t,e)})):c<0?c++:ur(n,i,e),t().visitNode(Ye.context.factory.createCallExpression(e.expression,void 0,[...e.arguments,...n]),r)}}}if(t().isIdentifier(e.expression))if(n!==w||Ye.lookupFunc(w)){if(n===O&&!Ye.lookupFunc(O)){const n=e.arguments[0];if(t().isCallExpression(n)&&(t().isIdentifier(n.expression)&&n.expression.escapedText===_||t().isElementAccessExpression(n.expression)&&t().isIdentifier(n.expression.expression)&&Ye.isIdentifier(n.expression.expression.escapedText,U)||t().isIdentifier(n.expression)&&Ye.isIdentifier(n.expression.escapedText,R)))return t().visitNode(n.arguments[0],r);var c;if(t().isIdentifier(n))return Ct(null===(c=Ye.typeChecker.getTypeAtLocation(n))||void 0===c?void 0:c.symbol)?Ye.context.factory.createElementAccessExpression(t().visitNode(n,r),Ye.addSymbolImport(H)):(ar(Ye.currentFile,n,"addressof only support with struct instance Identifier"),e);if(t().isPropertyAccessExpression(n)||t().isCallExpression(n)&&function(e){return!!t().isPropertyAccessExpression(e.expression)&&(_t(Ye.typeChecker.getTypeAtLocation(e.expression.expression))&&e.expression.name.escapedText===q)}(n)||t().isElementAccessExpression(n)&&_t(Ye.typeChecker.getTypeAtLocation(n.expression))){const i=t().visitNode(n,r);if(t().isCallExpression(i)&&(t().isIdentifier(i.expression)&&Ye.isIdentifier(i.expression.escapedText,R)||t().isPropertyAccessExpression(i.expression)&&Ye.isIdentifier(i.expression.name.escapedText,R)))return i.arguments[0];if(t().isCallExpression(i)&&t().isElementAccessExpression(i.expression)&&(t().isIdentifier(i.expression.expression)&&Ye.isIdentifier(i.expression.expression.escapedText,U)||t().isPropertyAccessExpression(i.expression.expression)&&Ye.isIdentifier(i.expression.expression.name.escapedText,U)))return i.arguments[0];if(t().isPropertyAccessExpression(i)){let r=Ye.typeChecker.getTypeAtLocation(n.expression),o=Dt(r);if(!o)return r=Ye.typeChecker.getTypeAtLocation(n),o=Dt(r),o?Ye.context.factory.createElementAccessExpression(i,Ye.addSymbolImport(H)):(ar(Ye.currentFile,n,"addressof only support with struct instance or struct property"),e);const a=cr(o,i.name.escapedText);return a?a[5]?(ar(Ye.currentFile,n,"addressof not support with bit field property"),e):a[7]?Ye.context.factory.createBinaryExpression(Ye.context.factory.createElementAccessExpression(i.expression,Ye.addSymbolImport(H)),t().SyntaxKind.PlusToken,Ye.context.factory.createNumericLiteral(a[7])):Ye.context.factory.createElementAccessExpression(i.expression,Ye.addSymbolImport(H)):(ar(Ye.currentFile,e,`struct ${o.symbol.escapedName} not has property ${i.name.escapedText}`),e)}return ar(Ye.currentFile,n,"invalid operation"),e}if(t().isElementAccessExpression(n)){const i=t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier(O),void 0,[n.expression]),r);let o,a=0;const s=Ye.typeChecker.getTypeAtLocation(n);return Lt(s)?a=ct[zt(s)]:Kt(s)?a=Dt(s).length:function(e){var t;return e.aliasSymbol&&e.aliasSymbol.escapedName===se&&(null===(t=e.aliasTypeArguments[1])||void 0===t?void 0:t.isNumberLiteral())}(s)&&(a=fr(s.aliasTypeArguments[0])*s.aliasTypeArguments[1].value),a?(t().isNumericLiteral(n.argumentExpression)?+n.argumentExpression.text&&(o=Ye.context.factory.createNumericLiteral(+n.argumentExpression.text*a)):o=Ye.context.factory.createBinaryExpression(t().visitNode(n.argumentExpression,r),t().SyntaxKind.AsteriskToken,Ye.context.factory.createNumericLiteral(a)),Ye.context.factory.createBinaryExpression(i,t().SyntaxKind.PlusToken,o)):(ar(Ye.currentFile,n,"type mismatch"),e)}{const i=Ye.typeChecker.getTypeAtLocation(n);return i.symbol&&Ct(i.symbol)?Ye.context.factory.createElementAccessExpression(t().visitNode(n,r),Ye.addSymbolImport(H)):(ar(Ye.currentFile,n,"addressof only support in related to struct"),e)}}if(n===_&&!Ye.lookupFunc(_)&&Vt(e.arguments[0])){const n=e.arguments[0];if(t().isCallExpression(n)&&t().isIdentifier(n.expression)&&n.expression.escapedText===O)return t().visitNode(n.arguments[0],r);const i=Ut(n);if(_t(i)){const o=t().visitNode(n,r);return Ot(i)?pr(o,wt(i)):Pt(i)?Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport(U),jt(i)),void 0,[o]):(ar(Ye.currentFile,e,"accessof only support in cheap builtin type or struct type"),e)}return ar(Ye.currentFile,e,`the type of ${n.getText()} is not pointer`),e}if(n===z&&!Ye.lookupFunc(z)){var l;const n=t().visitNode(e.arguments[0],r);let i=Xt(e.arguments[0]);const o=e.typeArguments[0]&&(null===(l=Ye.typeChecker.getTypeAtLocation(e.typeArguments[0]))||void 0===l||null===(l=l.aliasSymbol)||void 0===l?void 0:l.escapedName)||"",a=Ye.typeChecker.getTypeAtLocation(e.arguments[0]);if(K(rt,i)&&(a.flags&t().TypeFlags.BigIntLiteral||a.flags&t().TypeFlags.NumberLiteral)&&ct[it[o]]===ct[it[i]]&&(i=o),K(ot,o)){let e=n;if(K(et,i))e=Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(Ye.context.factory.createParenthesizedExpression(n),t().SyntaxKind.GreaterThanGreaterThanToken,Ye.context.factory.createNumericLiteral(0))),i="int32";else if(K(tt,i)){let r=8*ct[it[o]];e=Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier("Number"),void 0,[Ye.context.factory.createBinaryExpression(n,t().SyntaxKind.AmpersandToken,Ye.context.factory.createBigIntLiteral(`0x${new Array(r>>>2).fill("f").join("")}n`))]),i=`uint${r}`}return ct[it[i]]>1&&1===ct[it[o]]?(e=Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(e,t().SyntaxKind.AmpersandToken,Ye.context.factory.createNumericLiteral("0xff",t().TokenFlags.HexSpecifier))),i="uint8"):ct[it[i]]>2&&2===ct[it[o]]&&(e=Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(e,t().SyntaxKind.AmpersandToken,Ye.context.factory.createNumericLiteral("0xffff",t().TokenFlags.HexSpecifier))),i="uint16"),K(rt,i)&&!K(rt,o)?e=1===ct[it[o]]?Ye.context.factory.createConditionalExpression(Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(e,t().SyntaxKind.AmpersandToken,Ye.context.factory.createNumericLiteral("0x80",t().TokenFlags.HexSpecifier))),Ye.context.factory.createToken(t().SyntaxKind.QuestionToken),Ye.context.factory.createPrefixUnaryExpression(t().SyntaxKind.MinusToken,Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(Ye.context.factory.createNumericLiteral("0x100",t().TokenFlags.HexSpecifier),t().SyntaxKind.MinusToken,e))),Ye.context.factory.createToken(t().SyntaxKind.ColonToken),e):2===ct[it[o]]?Ye.context.factory.createConditionalExpression(Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(e,t().SyntaxKind.AmpersandToken,Ye.context.factory.createNumericLiteral("0x80000",t().TokenFlags.HexSpecifier))),Ye.context.factory.createToken(t().SyntaxKind.QuestionToken),Ye.context.factory.createPrefixUnaryExpression(t().SyntaxKind.MinusToken,Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(Ye.context.factory.createNumericLiteral("0x10000",t().TokenFlags.HexSpecifier),t().SyntaxKind.MinusToken,e))),Ye.context.factory.createToken(t().SyntaxKind.ColonToken),e):Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(e,t().SyntaxKind.GreaterThanGreaterThanToken,Ye.context.factory.createNumericLiteral(0))):!K(rt,i)&&K(rt,o)&&(e=1===ct[it[o]]?Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(e,t().SyntaxKind.AmpersandToken,Ye.context.factory.createNumericLiteral("0xff",t().TokenFlags.HexSpecifier))):2===ct[it[o]]?Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(e,t().SyntaxKind.AmpersandToken,Ye.context.factory.createNumericLiteral("0xffff",t().TokenFlags.HexSpecifier))):Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(e,t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken,Ye.context.factory.createNumericLiteral(0)))),t().isBinaryExpression(e)&&(e=Ye.context.factory.createParenthesizedExpression(e)),e}if(K(tt,o)){let e=n;const r=ct[it[i]];return K(et,i)&&(e=Ye.context.factory.createCallExpression(Ye.context.factory.createPropertyAccessExpression(Ye.context.factory.createIdentifier("Math"),Ye.context.factory.createIdentifier("floor")),void 0,[e]),i="int32"),K(ot,i)&&(e=Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier("BigInt"),void 0,[e]),i=K(rt,i)?"uint64":"int65"),K(rt,i)&&!K(rt,o)&&8===r?e=Ye.context.factory.createCallExpression(Ye.context.factory.createPropertyAccessExpression(Ye.context.factory.createIdentifier("BigInt"),Ye.context.factory.createIdentifier("asIntN")),void 0,[Ye.context.factory.createNumericLiteral(64),e]):!K(rt,i)&&K(rt,o)&&(e=Ye.context.factory.createCallExpression(Ye.context.factory.createPropertyAccessExpression(Ye.context.factory.createIdentifier("BigInt"),Ye.context.factory.createIdentifier("asUintN")),void 0,[Ye.context.factory.createNumericLiteral(64),e])),t().isBinaryExpression(e)&&(e=Ye.context.factory.createParenthesizedExpression(e)),e}if(K(et,o)){let e=n;return K(tt,i)&&(e=Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier("Number"),void 0,[e])),t().isBinaryExpression(e)&&(e=Ye.context.factory.createParenthesizedExpression(e)),e}return Ye.context.factory.createParenthesizedExpression(n)}if(n===G&&!Ye.lookupFunc(G))return t().visitNode(e.arguments[0],r);if(n===de&&!Ye.lookupFunc(de)&&1===e.arguments.length&&t().isIdentifier(e.arguments[0]))return lr(e.arguments[0].escapedText,e);if(n===M&&!Ye.lookupFunc(M))return t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier(O),void 0,e.arguments),r);if(n===Ie&&!Ye.lookupFunc(Ie))return t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createPropertyAccessExpression(Ye.addIdentifierImport(Fe,_e,!1),Ye.context.factory.createIdentifier(Ie)),void 0,e.arguments),r);if(n===Le&&!Ye.lookupFunc(Le))return t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createPropertyAccessExpression(Ye.addIdentifierImport(Fe,_e,!1),Ye.context.factory.createIdentifier(Le)),void 0,e.arguments),r);if(n===Pe&&!Ye.lookupFunc(Pe))return t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createPropertyAccessExpression(Ye.addIdentifierImport(Fe,_e,!1),Ye.context.factory.createIdentifier(Pe)),void 0,e.arguments),r);if(n===Ke&&!Ye.lookupFunc(Ke))return t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createPropertyAccessExpression(Ye.addIdentifierImport(Fe,_e,!1),Ye.context.factory.createIdentifier("alignedAlloc")),void 0,e.arguments),r);if(n===Be&&!Ye.lookupFunc(Be))return t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createPropertyAccessExpression(Ye.addIdentifierImport(Fe,_e,!1),Ye.context.factory.createIdentifier(Be)),void 0,e.arguments),r);if(n===Ae&&!Ye.lookupFunc(Ae))return Ye.context.factory.createCallExpression(Ye.addIdentifierImport(Ae,Oe,!0),void 0,e.arguments);if(n===Ce&&!Ye.lookupFunc(Ce))return Ye.context.factory.createCallExpression(Ye.addIdentifierImport(Ce,De,!0),void 0,e.arguments)}else{const t=e.arguments[0];let r=Ye.typeChecker.getTypeAtLocation(t);if(r){const t=fr(r);return t?Ye.context.factory.createNumericLiteral(t):Ye.context.factory.createCallExpression(Ye.addIdentifierImport(w,Q,!0),void 0,e.arguments)}}else if(t().isPropertyAccessExpression(e.expression)&&n===q){const n=Ye.typeChecker.getTypeAtLocation(e.expression.expression);if(_t(n)&&e.arguments[0]){let i=t().visitNode(e.expression.expression,r);if(Ot(n)){const o=wt(n);if(o){let n=null;return t().isNumericLiteral(e.arguments[0])?+e.arguments[0].text&&(n=Ye.context.factory.createNumericLiteral(+e.arguments[0].text*o.length)):n=Ye.context.factory.createBinaryExpression(t().visitNode(e.arguments[0],r),t().SyntaxKind.AsteriskToken,Ye.context.factory.createNumericLiteral(o.length)),i=n?Ye.context.factory.createBinaryExpression(i,t().SyntaxKind.PlusToken,n):i,pr(i,o)}}else if(Pt(n)){const o=jt(n),a=ct[o];if(a){let n=null;return t().isNumericLiteral(e.arguments[0])?+e.arguments[0].text&&(n=Ye.context.factory.createNumericLiteral(+e.arguments[0].text*a)):n=Ye.context.factory.createBinaryExpression(t().visitNode(e.arguments[0],r),t().SyntaxKind.AsteriskToken,Ye.context.factory.createNumericLiteral(a)),i=n?Ye.context.factory.createBinaryExpression(i,t().SyntaxKind.PlusToken,n):i,function(e,t){return Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport(U),t),void 0,[e])}(i,o)}}}}return t().visitEachChild(e,r,Ye.context)}function dr(e,r,n){let i=!1;n===t().SyntaxKind.EqualsToken&&(Ye.pushStage(Ve.EqualLeft),i=!0);const o=t().visitNode(e,r);return i&&Ye.popStage(),o}function xr(e,r,n){let i=!1;n===t().SyntaxKind.EqualsToken&&(Ye.pushStage(Ve.EqualRight),i=!0);const o=t().visitNode(e,r);return i&&Ye.popStage(),o}function mr(e,r,n){if(n[5]){let i=0,o=8*ct[n[0]];for(let e=0;e<n[6];e++)i|=1<<o-1-(e+n[8]);let a=Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport(U),n[0]),void 0,[e]);const s=Math.pow(2,n[6])-1,c=o-n[8]-n[6];r=Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(r,t().SyntaxKind.AmpersandToken,Ye.context.factory.createNumericLiteral(s))),r=Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(r,t().SyntaxKind.LessThanLessThanToken,Ye.context.factory.createNumericLiteral(c))),a=Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(a,t().SyntaxKind.AmpersandToken,Ye.context.factory.createPrefixUnaryExpression(t().SyntaxKind.TildeToken,Ye.context.factory.createNumericLiteral(i)))),r=Ye.context.factory.createBinaryExpression(a,t().SyntaxKind.BarToken,r)}return Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport($),n[1]?20:n[0]),void 0,[e,r])}function hr(e,r){if(e.operatorToken.kind===t().SyntaxKind.EqualsToken&&t().isBinaryExpression(e.right)&&e.right.operatorToken.kind===t().SyntaxKind.EqualsToken&&(Vt(e.right)||Vt(e.left))){const n=Rt(e);let i=Ye.context.factory.createBinaryExpression(e.left,t().SyntaxKind.EqualsToken,n),o=e.right;for(;o&&t().isBinaryExpression(o)&&o.operatorToken.kind===t().SyntaxKind.EqualsToken;)i=Ye.context.factory.createBinaryExpression(i,t().SyntaxKind.CommaToken,Ye.context.factory.createBinaryExpression(o.left,t().SyntaxKind.EqualsToken,n)),o=o.right;return t().visitEachChild(i,r,Ye.context)}if(Vt(e.left)&&((i=e.operatorToken.kind)===t().SyntaxKind.PlusEqualsToken||i===t().SyntaxKind.MinusEqualsToken||i===t().SyntaxKind.AsteriskEqualsToken||i===t().SyntaxKind.AsteriskAsteriskEqualsToken||i===t().SyntaxKind.SlashEqualsToken||i===t().SyntaxKind.PercentEqualsToken||i===t().SyntaxKind.LessThanLessThanEqualsToken||i===t().SyntaxKind.GreaterThanGreaterThanEqualsToken||i===t().SyntaxKind.GreaterThanGreaterThanGreaterThanEqualsToken||i===t().SyntaxKind.AmpersandEqualsToken||i===t().SyntaxKind.BarEqualsToken||i===t().SyntaxKind.CaretEqualsToken))return t().visitNode(Ye.context.factory.createBinaryExpression(e.left,t().SyntaxKind.EqualsToken,Ye.context.factory.createBinaryExpression(e.left,function(e){switch(e){case t().SyntaxKind.PlusEqualsToken:return t().SyntaxKind.PlusToken;case t().SyntaxKind.MinusEqualsToken:return t().SyntaxKind.MinusToken;case t().SyntaxKind.AsteriskEqualsToken:return t().SyntaxKind.AsteriskToken;case t().SyntaxKind.AsteriskAsteriskEqualsToken:return t().SyntaxKind.AsteriskAsteriskToken;case t().SyntaxKind.SlashEqualsToken:return t().SyntaxKind.SlashToken;case t().SyntaxKind.PercentEqualsToken:return t().SyntaxKind.PercentToken;case t().SyntaxKind.LessThanLessThanEqualsToken:return t().SyntaxKind.LessThanLessThanToken;case t().SyntaxKind.GreaterThanGreaterThanEqualsToken:return t().SyntaxKind.GreaterThanGreaterThanToken;case t().SyntaxKind.GreaterThanGreaterThanGreaterThanEqualsToken:return t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken;case t().SyntaxKind.AmpersandEqualsToken:return t().SyntaxKind.AmpersandToken;case t().SyntaxKind.BarEqualsToken:return t().SyntaxKind.BarToken;case t().SyntaxKind.CaretEqualsToken:return t().SyntaxKind.CaretToken;default:return t().SyntaxKind.EqualsToken}}(e.operatorToken.kind),e.right)),r);if(e.operatorToken.kind===t().SyntaxKind.EqualsToken)return function(e,r){if(t().isIdentifier(e.left)&&t().isIdentifier(e.right))return t().visitEachChild(e,r,Ye.context);if(t().isPropertyAccessExpression(e.left)&&$t(e.left)&&t().isObjectLiteralExpression(e.right)&&Kt(Ye.typeChecker.getTypeAtLocation(e.left))){const s=[],c=t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier(O),void 0,[e.left]),r);function l(e,r,n){n.forEach((n=>{if(t().isPropertyAssignment(n)&&t().isIdentifier(n.name)){const i=cr(r,n.name.escapedText);t().isObjectLiteralExpression(n.initializer)&&i.getTypeMeta?l(e+i[7],i.getTypeMeta(),n.initializer.properties):m(i[0])?s.push(mr(t().isBinaryExpression(c)&&t().isNumericLiteral(c.right)&&c.operatorToken.kind===t().SyntaxKind.PlusToken?Ye.context.factory.createBinaryExpression(c.left,t().SyntaxKind.PlusToken,Ye.context.factory.createNumericLiteral(i[7]+e+ +c.right.text)):Ye.context.factory.createBinaryExpression(c,t().SyntaxKind.PlusToken,Ye.context.factory.createNumericLiteral(i[7]+e)),n.initializer,i)):ar(Ye.currentFile,n,"struct found invalid property value")}else ar(Ye.currentFile,n,"struct found invalid property ")}))}if(l(0,Dt(Ye.typeChecker.getTypeAtLocation(e.left)),e.right.properties),0===s.length)return;if(1===s.length)return s[0];{let u=s[0];for(let p=1;p<s.length;p++)u=Ye.context.factory.createBinaryExpression(u,t().SyntaxKind.CommaToken,s[p]);return u}}if((t().isPropertyAccessExpression(e.left)||t().isElementAccessExpression(e.left))&&$t(e.left.expression)){var n,i,o,a;const f=Ye.typeChecker.getTypeAtLocation(e.left),y=Ye.typeChecker.getTypeAtLocation(e.right);Ye.pushStage(Ve.AddressOf);const d=t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier(O),void 0,[e.left]),r);if(Ye.popStage(),Kt(f)&&It(f,y)||f.aliasSymbol&&(f.aliasSymbol.escapedName===ye||f.aliasSymbol.escapedName===fe)&&f.aliasTypeArguments&&y.aliasTypeArguments&&Ct(f.aliasTypeArguments[0].symbol)&&It(f.aliasTypeArguments[0],y.aliasTypeArguments[0])){const x=Dt(f),h=t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier(O),void 0,[e.right]),r);return Ye.context.factory.createCallExpression(Ye.addMemoryImport(D),void 0,[d,h,Ye.context.factory.createNumericLiteral(x.length)])}if(f.aliasSymbol&&(m(it[f.aliasSymbol.escapedName])||f.aliasSymbol.escapedName===ce)||null!==(n=f.symbol)&&void 0!==n&&n.valueDeclaration&&(t().isEnumDeclaration(f.symbol.valueDeclaration)||t().isEnumMember(f.symbol.valueDeclaration))||f.isUnion()&&null!==(i=f.types[0])&&void 0!==i&&null!==(i=i.symbol)&&void 0!==i&&i.valueDeclaration&&(t().isEnumDeclaration(null===(o=f.types[0])||void 0===o||null===(o=o.symbol)||void 0===o?void 0:o.valueDeclaration)||t().isEnumMember(null===(a=f.types[0])||void 0===a||null===(a=a.symbol)||void 0===a?void 0:a.valueDeclaration))){let g=xr(e.right,r,e.operatorToken.kind);if(t().isPropertyAccessExpression(e.left)){const v=Dt(Ye.typeChecker.getTypeAtLocation(e.left.expression));if(null===v)return ar(Ye.currentFile,e,`${e.left.expression.getText()} is not struct`),e;const E=cr(v,e.left.name.escapedText);return E?mr(d,g,E):(ar(Ye.currentFile,e,`struct ${v.symbol.escapedName} not has property ${e.left.name.escapedText}`),e)}if(t().isElementAccessExpression(e.left)&&Lt(f))return Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport($),zt(f)),void 0,[d,g])}}return Ye.context.factory.createBinaryExpression(dr(e.left,r,e.operatorToken.kind),t().SyntaxKind.EqualsToken,xr(e.right,r,e.operatorToken.kind))}(e,r);if(e.operatorToken.kind===t().SyntaxKind.LessThanToken&&t().isPrefixUnaryExpression(e.right)&&e.right.operator===t().SyntaxKind.MinusToken)return function(e,r){if(t().isPrefixUnaryExpression(e.right)){if(t().isCallExpression(e.left)&&(t().isIdentifier(e.left.expression)&&e.left.expression.escapedText===_||t().isPropertyAccessExpression(e.left.expression)&&e.left.expression.name.escapedText===q&&Vt(e.left.expression.expression))||t().isElementAccessExpression(e.left)&&Wt(e.left)){const n=Ye.typeChecker.getTypeAtLocation(e.left);if(It(n,Ye.typeChecker.getTypeAtLocation(e.right.operand))){let i=t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier(O),void 0,[e.left]),r);if(Kt(n)){const o=Dt(n);Ye.pushStage(Ve.SingleArrowRight);const a=t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier(O),void 0,[e.right.operand]),r);return Ye.popStage(),Ye.context.factory.createCallExpression(Ye.addMemoryImport(D),void 0,[i,a,Ye.context.factory.createNumericLiteral(o.length)])}if(Lt(n)){const o=zt(n);Ye.pushStage(Ve.SingleArrowRight);const a=t().visitNode(e.right.operand,r);return Ye.popStage(),Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport($),o),void 0,[i,a])}return ar(Ye.currentFile,e,"operator '<-' only allowed between two builtin type or struct type"),e}return ar(Ye.currentFile,e,"The types on the left and right sides of the operator '<-' are not equal"),e}{const n=Ye.typeChecker.getTypeAtLocation(e.left),i=Ye.typeChecker.getTypeAtLocation(e.right.operand);if(Kt(n)&&It(n,i)){const i=Dt(n);Ye.pushStage(Ve.SingleArrowRight);const o=t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier(O),void 0,[e.right.operand]),r);Ye.popStage();const a=t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier(O),void 0,[e.left]),r);return Ye.context.factory.createCallExpression(Ye.addMemoryImport(D),void 0,[a,o,Ye.context.factory.createNumericLiteral(i.length)])}}}return t().visitEachChild(e,r,Ye.context)}(e,r);if((e.operatorToken.kind===t().SyntaxKind.PlusToken||e.operatorToken.kind===t().SyntaxKind.MinusToken)&&!Ye.lookupStage(Ve.PointerPlusMinusIgnore)){var n;const i=Ye.typeChecker.getTypeAtLocation(e.left),o=Ye.typeChecker.getTypeAtLocation(e.right);if(_t(i)&&(t().isNumericLiteral(e.right)||o.flags&t().TypeFlags.Number||K(ot,Mt(o)))){let n=1;if(Ot(i)?n=wt(i).length:Pt(i)&&(n=ct[jt(i)]),n>1){const i=xr(e.right,r,e.operatorToken.kind);return Ye.context.factory.createBinaryExpression(dr(e.left,r,e.operatorToken.kind),e.operatorToken.kind,t().isNumericLiteral(e.right)?Ye.context.factory.createNumericLiteral(+i.text*n):Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(i,t().SyntaxKind.AsteriskToken,Ye.context.factory.createNumericLiteral(n))))}}else if(_t(o)&&(t().isNumericLiteral(e.left)||i.flags&t().TypeFlags.Number||K(ot,null===(n=i.aliasSymbol)||void 0===n?void 0:n.escapedName))){let n=1;if(Pt(o)?n=ct[jt(o)]:Ot(o)&&(n=wt(o).length),n>1){const i=xr(e.left,r,e.operatorToken.kind);return Ye.context.factory.createBinaryExpression(t().isNumericLiteral(e.right)?Ye.context.factory.createNumericLiteral(+i.text*n):Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(i,t().SyntaxKind.AsteriskToken,Ye.context.factory.createNumericLiteral(n))),e.operatorToken.kind,dr(e.right,r,e.operatorToken.kind))}}else if(_t(i)&&_t(o))if(e.operatorToken.kind===t().SyntaxKind.MinusToken&&It(i,o)){let n=1;if(Pt(i)?n=ct[jt(i)]:Ot(i)&&(n=wt(i).length),n>1){if(n&n-1)return Ye.context.factory.createBinaryExpression(Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(dr(e.left,r,e.operatorToken.kind),e.operatorToken.kind,xr(e.right,r,e.operatorToken.kind))),t().SyntaxKind.SlashToken,Ye.context.factory.createNumericLiteral(n))),t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken,Ye.context.factory.createNumericLiteral(0));{let i=0;for(;n>1;)i++,n>>>=1;return Ye.context.factory.createBinaryExpression(Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(dr(e.left,r,e.operatorToken.kind),e.operatorToken.kind,xr(e.right,r,e.operatorToken.kind))),t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken,Ye.context.factory.createNumericLiteral(i))}}}else ar(Ye.currentFile,e,"The operation between two pointer types only allowed subtraction")}var i;return t().visitEachChild(e,r,Ye.context)}function gr(e){if(t().isBinaryExpression(e)){if(t().isNumericLiteral(e.left)&&t().isNumericLiteral(e.right)){const o=(r=+e.left.text,n=+e.right.text,(i=e.operatorToken.kind)===t().SyntaxKind.PlusToken?r+n:i===t().SyntaxKind.MinusToken?r-n:i===t().SyntaxKind.AsteriskToken?r*n:i===t().SyntaxKind.AsteriskAsteriskToken?r**n:i===t().SyntaxKind.SlashToken?r/n:i===t().SyntaxKind.PercentToken?r%n:i===t().SyntaxKind.LessThanLessThanToken?r<<n:i===t().SyntaxKind.GreaterThanGreaterThanToken?r>>n:i===t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken?r>>>n:i===t().SyntaxKind.AmpersandToken?r&n:i===t().SyntaxKind.BarToken?r|n:void 0);if(m(o))return Ye.context.factory.createNumericLiteral(o)}if(e.operatorToken.kind===t().SyntaxKind.PlusToken){if(t().isNumericLiteral(e.right)&&"0"===e.right.text)return e.left;if(t().isNumericLiteral(e.left)&&"0"===e.left.text)return e.right}if(e.operatorToken.kind===t().SyntaxKind.MinusToken&&t().isNumericLiteral(e.right)&&"0"===e.right.text)return e.left;if(e.operatorToken.kind===t().SyntaxKind.AsteriskToken){if(t().isNumericLiteral(e.right)&&"1"===e.right.text)return e.left;if(t().isNumericLiteral(e.left)&&"1"===e.left.text)return e.right;if(t().isNumericLiteral(e.right)&&"0"===e.right.text)return e.right;if(t().isNumericLiteral(e.left)&&"0"===e.left.text)return e.left}if(e.operatorToken.kind===t().SyntaxKind.SlashToken){if(t().isNumericLiteral(e.right)&&"1"===e.right.text)return e.left;if(t().isNumericLiteral(e.left)&&"0"===e.left.text)return e.left}}var r,n,i;return t().visitEachChild(e,gr,Ye.context)}const vr={ENABLE_THREADS:!0,ENABLE_THREADS_SPLIT:!1,DEBUG:!1,BIGINT_LITERAL:!0,CHEAP_HEAP_INITIAL:256,ENABLE_SYNCHRONIZE_API:!1};function Er(e,r={}){r.projectPath||(r.projectPath=e.getCurrentDirectory());const n=t().findConfigFile(r.projectPath,t().sys.fileExists,"tsconfig.json"),i=n&&t().readConfigFile(n,t().sys.readFile);let o={defined:{}};return null!=i&&i.config&&(o=v(o,i.config.cheap||{})),r.defined&&(o.defined=v(vr,r.defined)),Ye.options=r,Ye.cheapCompilerOptions=o,Ye.program=e,Ye.typeChecker=e.getTypeChecker(),Ye.compilerOptions=e.getCompilerOptions(),e=>(Ye.context=e,n=>r.exclude&&r.exclude.test(n.fileName)?n:(Ye.start(n),Ye.visitor=r=>t().isBlock(r)?function(e,r){let n=He.UNKNOWN;e.parent&&(t().isFunctionDeclaration(e.parent)||t().isFunctionExpression(e.parent)||t().isArrowFunction(e.parent)||t().isMethodDeclaration(e.parent)?n=He.FUNCTION:t().isIfStatement(e.parent)?n=He.IF:(t().isForStatement(e.parent)||t().isForOfStatement(e.parent)||t().isWhileStatement(e.parent))&&(n=He.LOOP)),Ye.pushStack(n),Ye.cheapCompilerOptions.defined.ENABLE_SYNCHRONIZE_API&&e.parent&&(t().isFunctionDeclaration(e.parent)||t().isFunctionExpression(e.parent)||t().isArrowFunction(e.parent)||t().isMethodDeclaration(e.parent))&&tr(e.parent)&&(Ye.getCurrentStack().synchronize=!0);let i=t().visitEachChild(e,r,Ye.context);const o=Ye.getCurrentStack(),a=[];return P(o.topDeclaration,(e=>{a.push(Ye.context.factory.createVariableStatement(void 0,Ye.context.factory.createVariableDeclarationList([Ye.context.factory.createVariableDeclaration(e.formatName,void 0,void 0,e.initializer)])))})),a.length&&(i=Ye.context.factory.createBlock([...a,...i.statements],!0)),Ye.popStack(),i}(r,Ye.visitor):t().isIdentifier(r)?function(e,r){var n,i;(Ye.lookupStage(Ve.Parameter)||Ye.lookupStage(Ve.VariableDeclaration))&&e.parent&&(t().isVariableDeclaration(e.parent)&&e.parent.name===e||t().isBindingElement(e.parent)&&e.parent.name===e||t().isParameter(e.parent)&&e.parent.name===e)&&Ye.getCurrentStack().locals.set(e.escapedText,Ye.typeChecker.getSymbolAtLocation(e));let o=e.parent;return o&&t().isAsExpression(o)&&(o=e.parent.parent),e.escapedText===nt[0]&&!Ye.lookupLocal(e.escapedText)&&o&&(o.initializer===e||t().isBinaryExpression(o)||t().isCallExpression(o)||t().isReturnStatement(o)||t().isConditionalExpression(o)||t().isCaseClause(o)||t().isComputedPropertyName(o)||t().isArrayLiteralExpression(o)||(null===(n=Ye.getCurrentStage())||void 0===n?void 0:n.stage)===Ve.SingleArrowRight&&!t().isTypeReferenceNode(o))?Ye.context.factory.createNumericLiteral(0):m(it[e.escapedText])&&!Ye.lookupLocal(e.escapedText)&&o&&(o.initializer===e||t().isBinaryExpression(o)||t().isCallExpression(o)||t().isReturnStatement(o)||t().isConditionalExpression(o)||t().isCaseClause(o)||t().isComputedPropertyName(o)||t().isElementAccessExpression(o)&&o.argumentExpression===e||(null===(i=Ye.getCurrentStage())||void 0===i?void 0:i.stage)===Ve.SingleArrowRight&&!t().isTypeReferenceNode(o))?Ye.context.factory.createNumericLiteral(it[e.escapedText]):t().visitEachChild(e,r,Ye.context)}(r,Ye.visitor):t().isDecorator(r)?function(e,r){if(t().isIdentifier(e.expression)){const t=e.expression.escapedText;if(K(Xe,t))return}else if(t().isCallExpression(e.expression)&&t().isIdentifier(e.expression.expression)){const t=e.expression.expression.escapedText;if(K(Xe,t))return}return t().visitEachChild(e,r,Ye.context)}(r,Ye.visitor):r.kind===t().SyntaxKind.AsyncKeyword?function(e,r){if(!(Ye.cheapCompilerOptions.defined.ENABLE_SYNCHRONIZE_API&&e.parent&&(t().isFunctionDeclaration(e.parent)||t().isFunctionExpression(e.parent)||t().isArrowFunction(e.parent)||t().isMethodDeclaration(e.parent))&&tr(e.parent)))return e}(r,Ye.visitor):t().isClassDeclaration(r)&&r.name&&t().isIdentifier(r.name)?function(e,r){const n=Dt(Ye.typeChecker.getTypeAtLocation(e));if(n){const i=e.name.escapedText;Ye.hasStruct(i)||Ye.addStruct(i);const o=[t().visitEachChild(e,r,Ye.context),Ye.context.factory.createExpressionStatement(Ye.context.factory.createCallExpression(Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createFunctionExpression(void 0,void 0,void 0,void 0,[Ye.context.factory.createParameterDeclaration(void 0,void 0,Ye.context.factory.createIdentifier(he))],void 0,Ye.context.factory.createBlock(nr(n),!0))),void 0,[Ye.context.factory.createPropertyAccessExpression(Ye.context.factory.createIdentifier(i),Ye.context.factory.createIdentifier("prototype"))]))],a=Ye.getDeclaration(i);return a&&o.push(Ye.context.factory.createExpressionStatement(Ye.context.factory.createBinaryExpression(Ye.context.factory.createIdentifier(a.formatName),t().SyntaxKind.EqualsToken,Ye.context.factory.createIdentifier(a.name)))),o}return t().visitEachChild(e,r,Ye.context)}(r,Ye.visitor):t().isIfStatement(r)?function(e,r){return t().visitNode(e.expression,or)&&t().visitNode(e.expression,ir)?Yt(e.expression,r)?t().visitNode(e.thenStatement,r):e.elseStatement?t().visitNode(e.elseStatement,r):void 0:t().visitEachChild(e,r,Ye.context)}(r,Ye.visitor):t().isParameter(r)?function(e,r){Ye.pushStage(Ve.Parameter);const n=t().visitEachChild(e,r,Ye.context);return Ye.popStage(),n}(r,Ye.visitor):t().isVariableDeclaration(r)?function(e,r){Ye.pushStage(Ve.VariableDeclaration);const n=t().visitEachChild(e,r,Ye.context);return Ye.popStage(),n}(r,Ye.visitor):t().isFunctionDeclaration(r)?function(e,r){e.name&&Ye.addFunc(e.name.escapedText,e),Ye.pushStack();let n=t().visitEachChild(e,r,Ye.context);return Ye.popStack(),n}(r,Ye.visitor):t().isExpressionStatement(r)?function(e,r){if(!t().isCallExpression(e.expression)||!t().isIdentifier(e.expression.expression)||e.expression.expression.escapedText!==j)return t().visitEachChild(e,r,Ye.context);if(Ye.cheapCompilerOptions.defined.DEBUG&&e.expression.arguments.length>=1){const n=t().visitEachChild(e.expression,r,Ye.context),i=[],{line:o}=t().getLineAndCharacterOfPosition(Ye.currentFile,e.getStart()),a=[Ye.context.factory.createStringLiteral(`[${Ye.currentFilePath} line: ${o+1}]`),Ye.context.factory.createStringLiteral(`assert [${e.expression.arguments[0].getText()}]`)];return n.arguments[1]&&a.push(n.arguments[1]),i.push(Ye.context.factory.createExpressionStatement(Ye.context.factory.createCallExpression(Ye.context.factory.createPropertyAccessExpression(Ye.context.factory.createIdentifier("console"),Ye.context.factory.createIdentifier("error")),void 0,a))),i.push(Ye.context.factory.createDebuggerStatement()),Ye.context.factory.createIfStatement(Ye.context.factory.createPrefixUnaryExpression(t().SyntaxKind.ExclamationToken,Ye.context.factory.createParenthesizedExpression(n.arguments[0])),Ye.context.factory.createBlock(i,!0))}}(r,Ye.visitor):t().isBigIntLiteral(r)?function(e,t){return!1===Ye.cheapCompilerOptions.defined.BIGINT_LITERAL?Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier("BigInt"),void 0,[Ye.context.factory.createNumericLiteral(e.text.replace(/n$/,""))]):e}(r,Ye.visitor):t().isExpression(r)?function(e,r){var n;return t().isBinaryExpression(e)?function(e,r){let n=hr(e,r);return t().isBinaryExpression(n)?gr(n):n}(e,Ye.visitor):t().isPrefixUnaryExpression(e)||t().isPostfixUnaryExpression(e)?function(e,r){if(t().isPrefixUnaryExpression(e)&&Vt(e.operand)){var n;const i=Ye.typeChecker.getTypeAtLocation(e.operand);let o=1;_t(i)&&(Pt(i)?o=ct[jt(i)]:Ot(i)&&(o=wt(i).length));const a=K(tt,null===(n=i.aliasSymbol)||void 0===n?void 0:n.escapedName)?Ye.context.factory.createBigIntLiteral({negative:!1,base10Value:sr(o)}):Ye.context.factory.createNumericLiteral(o);if(e.operator===t().SyntaxKind.PlusPlusToken)return t().isExpressionStatement(e.parent)?t().visitNode(Ye.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.PlusEqualsToken,a),r):t().visitNode(Ye.context.factory.createBinaryExpression(Ye.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.PlusEqualsToken,a),t().SyntaxKind.CommaToken,e.operand),r);if(e.operator===t().SyntaxKind.MinusMinusToken)return t().isExpressionStatement(e.parent)?t().visitNode(Ye.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.MinusEqualsToken,a),r):t().visitNode(Ye.context.factory.createBinaryExpression(Ye.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.MinusEqualsToken,a),t().SyntaxKind.CommaToken,e.operand),r);if(e.operator!==t().SyntaxKind.ExclamationToken)return ar(Ye.currentFile,e,"The unary operation width pointer only allowed ++ -- !"),e}else if(t().isPostfixUnaryExpression(e)&&Vt(e.operand)){const n=Ye.typeChecker.getTypeAtLocation(e.operand);let i=1;_t(n)&&(Pt(n)?i=ct[jt(n)]:Ot(n)&&(i=wt(n).length));const o=K(tt,Mt(n))?Ye.context.factory.createBigIntLiteral({negative:!1,base10Value:sr(i)}):Ye.context.factory.createNumericLiteral(i);if(e.operator===t().SyntaxKind.PlusPlusToken)return t().isExpressionStatement(e.parent)?t().visitNode(Ye.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.PlusEqualsToken,o),r):t().visitNode(Ye.context.factory.createBinaryExpression(Ye.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.PlusEqualsToken,o),t().SyntaxKind.CommaToken,Ye.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.MinusToken,o)),r);if(e.operator===t().SyntaxKind.MinusMinusToken)return t().isExpressionStatement(e.parent)?t().visitNode(Ye.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.MinusEqualsToken,o),r):t().visitNode(Ye.context.factory.createBinaryExpression(Ye.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.MinusEqualsToken,o),t().SyntaxKind.CommaToken,Ye.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.PlusToken,o)),r)}return t().visitEachChild(e,r,Ye.context)}(e,Ye.visitor):t().isCallExpression(e)?yr(e,Ye.visitor):t().isPropertyAccessExpression(e)?function(e,r){var n;if(Vt(e)&&(null===(n=Ye.getCurrentStage())||void 0===n?void 0:n.stage)!==Ve.EqualLeft){let n=Jt(e),c=n,l=n.parent,u=!1,p=Vt(n);for(;l!==e;){var i;const r=Ye.typeChecker.getTypeAtLocation(n);if(u||_t(r)||(null===(i=r.aliasSymbol)||void 0===i?void 0:i.escapedName)===se){var o;let n=u?At(r.symbol):_t(r)?wt(r):_t(r.aliasTypeArguments[0])?null:Dt(r.aliasTypeArguments[0]);if(n)if(t().isPropertyAccessExpression(l)){if(t().isCallExpression(l.parent)){l=l.parent;continue}{const t=cr(n,l.name.escapedText);if(!t)return ar(Ye.currentFile,e,`struct ${n.symbol.escapedName} not has property ${l.name.escapedText}`),e;t[1]&&!t[3]?c=Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport(U),20),void 0,[t[7]?Qt(c,Ye.context.factory.createNumericLiteral(t[7])):c]):t[7]&&(c=Qt(c,Ye.context.factory.createNumericLiteral(t[7])))}u=!1}else t().isCallExpression(l)?(t().isNumericLiteral(l.arguments[0])&&0!=+l.arguments[0].text?c=Qt(c,Ye.context.factory.createNumericLiteral(+l.arguments[0].text*n.length)):t().isNumericLiteral(l.arguments[0])||(c=Ye.context.factory.createBinaryExpression(c,t().SyntaxKind.PlusToken,Ye.context.factory.createBinaryExpression(l.arguments[0],t().SyntaxKind.AsteriskToken,Ye.context.factory.createNumericLiteral(n.length)))),u=!0,p=!0):t().isElementAccessExpression(l)&&(t().isNumericLiteral(l.argumentExpression)&&0!=+l.argumentExpression.text?c=Qt(c,Ye.context.factory.createNumericLiteral(+l.argumentExpression.text*n.length)):t().isNumericLiteral(l.argumentExpression)||(c=Ye.context.factory.createBinaryExpression(c,t().SyntaxKind.PlusToken,Ye.context.factory.createBinaryExpression(l.argumentExpression,t().SyntaxKind.AsteriskToken,Ye.context.factory.createNumericLiteral(n.length)))),u=!0,p=!0);else if(((null===(o=r.aliasSymbol)||void 0===o?void 0:o.escapedName)===se||_t(r))&&_t(r.aliasTypeArguments[0])&&t().isElementAccessExpression(l))t().isNumericLiteral(l.argumentExpression)&&0!=+l.argumentExpression.text?c=Qt(c,Ye.context.factory.createNumericLiteral(+l.argumentExpression.text*ct[20])):t().isNumericLiteral(l.argumentExpression)||(c=Ye.context.factory.createBinaryExpression(c,t().SyntaxKind.PlusToken,Ye.context.factory.createBinaryExpression(l.argumentExpression,t().SyntaxKind.AsteriskToken,Ye.context.factory.createNumericLiteral(ct[20])))),c=Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport(U),20),void 0,[c]),p=!0;else{if(!(_t(r)&&t().isPropertyAccessExpression(l)&&l.name.escapedText===q&&t().isCallExpression(l.parent)))return ar(Ye.currentFile,e,"invalid pointer operate"),e;{l=l.parent;let n=0;if(_t(r.aliasTypeArguments[0]))n=ct[20];else{const t=Dt(r.aliasTypeArguments[0]);if(!t)return ar(Ye.currentFile,e,"the pointer type only allowed in builtin type or struct type"),e;n=t.length}t().isNumericLiteral(l.arguments[0])&&0!=+l.arguments[0].text?c=Qt(c,Ye.context.factory.createNumericLiteral(+l.arguments[0].text*n)):t().isNumericLiteral(l.arguments[0])||(c=Ye.context.factory.createBinaryExpression(c,t().SyntaxKind.PlusToken,Ye.context.factory.createBinaryExpression(l.arguments[0],t().SyntaxKind.AsteriskToken,Ye.context.factory.createNumericLiteral(n)))),_t(r.aliasTypeArguments[0])&&(c=Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport(U),20),void 0,[c])),u=!0,p=!0}}}else{let n=Dt(r);if(n&&p&&t().isPropertyAccessExpression(l)){const t=cr(n,l.name.escapedText);if(!t)return ar(Ye.currentFile,e,`struct ${n.symbol.escapedName} not has property ${l.name.escapedText}`),e;t[1]&&!t[3]?c=Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport(U),20),void 0,[t[7]?Qt(c,Ye.context.factory.createNumericLiteral(t[7])):c]):t[7]&&(c=Qt(c,Ye.context.factory.createNumericLiteral(t[7]))),u=!1}else c=l}n=l,l=l.parent}if(!Vt(n)&&!p)return e;const f=Ye.typeChecker.getTypeAtLocation(n);let y=_t(f)?wt(f):Dt(f);if(!y)return ar(Ye.currentFile,e,"struct type mismatch"),e;const x=cr(y,e.name.escapedText);if(!x)return ar(Ye.currentFile,e,`struct ${y.symbol.escapedName} not has property ${e.name.escapedText}`),e;if(Ye.pushStage(Ve.PointerPlusMinusIgnore),c=t().visitNode(c,r),Ye.popStage(),x[1])return c=Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport(U),20),void 0,[x[7]?Qt(c,Ye.context.factory.createNumericLiteral(x[7])):c]),c;if(m(x[0])&&!d(x.getTypeMeta)){if(c=Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport(U),x[0]),void 0,[x[7]?Qt(c,Ye.context.factory.createNumericLiteral(x[7])):c]),x[5]&&!Ye.lookupStage(Ve.AddressOf)){const e=8*ct[x[0]]-x[8]-x[6],r=Math.pow(2,x[6])-1;c=Ye.context.factory.createBinaryExpression(Ye.context.factory.createParenthesizedExpression(Ye.context.factory.createBinaryExpression(c,t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken,Ye.context.factory.createNumericLiteral(e))),t().SyntaxKind.AmpersandToken,Ye.context.factory.createNumericLiteral(r))}return c}if(!d(x.getTypeMeta))return ar(Ye.currentFile,e,"struct type mismatch"),e;{var a;const e=x.getTypeMeta();let t=e.symbol,r="";e.structType===vt.INLINE_OBJECT&&(t=e.definedClassParent.symbol,r=e.definedClassParent.inlineStructPathMap.get(e.symbol));const n=null===(a=t.valueDeclaration)||void 0===a?void 0:a.getSourceFile();if(n){let e;var s;e=n!==Ye.currentFile?Ye.addIdentifierImport(t.escapedName,rr(Ye.currentFile.fileName,n.fileName),!(null!==(s=Ye.typeChecker.getSymbolAtLocation(n).exports)&&void 0!==s&&s.has(t.escapedName))):Ye.context.factory.createIdentifier(t.escapedName);const i=[x[7]?Qt(c,Ye.context.factory.createNumericLiteral(x[7])):c,e];return r&&i.push(Ye.context.factory.createStringLiteral(r)),Ye.context.factory.createCallExpression(Ye.addIdentifierImport(R,re,!0),void 0,i)}}}return t().visitEachChild(e,r,Ye.context)}(e,Ye.visitor):t().isElementAccessExpression(e)?function(e,r){const n=Ye.typeChecker.getTypeAtLocation(e.expression);if(Wt(e)&&(!n.aliasSymbol||n.aliasSymbol.escapedName!==se))return t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier(_),void 0,[Ye.context.factory.createBinaryExpression(e.expression,t().SyntaxKind.PlusToken,e.argumentExpression)]),r);if(t().isPropertyAccessExpression(e.expression)&&Vt(e.expression.expression)||t().isElementAccessExpression(e.expression)&&Vt(e.expression)){const n=Ye.typeChecker.getTypeAtLocation(e);let a=t().visitNode(Ye.context.factory.createCallExpression(Ye.context.factory.createIdentifier(O),void 0,[e.expression]),r);if(!Kt(n))return Lt(n)?(t().isNumericLiteral(e.argumentExpression)&&0==+e.argumentExpression.text||(a=Ye.context.factory.createBinaryExpression(a,t().SyntaxKind.PlusToken,t().isNumericLiteral(e.argumentExpression)?Ye.context.factory.createNumericLiteral(ct[zt(n)]*+e.argumentExpression.text):Ye.context.factory.createBinaryExpression(Ye.context.factory.createNumericLiteral(ct[zt(n)]),t().SyntaxKind.AsteriskToken,Ye.context.factory.createParenthesizedExpression(e.argumentExpression)))),Ye.context.factory.createCallExpression(Ye.context.factory.createElementAccessExpression(Ye.addMemoryImport(U),zt(n)),void 0,[a])):(ar(Ye.currentFile,e,"struct type mismatch"),e);{var i;let r=Dt(n),s=r.symbol,c="";r.structType===vt.INLINE_OBJECT&&(s=r.definedClassParent.symbol,c=r.definedClassParent.inlineStructPathMap.get(r.symbol)),t().isNumericLiteral(e.argumentExpression)&&0==+e.argumentExpression.text||(a=Ye.context.factory.createBinaryExpression(a,t().SyntaxKind.PlusToken,t().isNumericLiteral(e.argumentExpression)?Ye.context.factory.createNumericLiteral(r.length*+e.argumentExpression.text):Ye.context.factory.createBinaryExpression(Ye.context.factory.createNumericLiteral(r.length),t().SyntaxKind.AsteriskToken,Ye.context.factory.createParenthesizedExpression(e.argumentExpression))));const l=null===(i=s.valueDeclaration)||void 0===i?void 0:i.getSourceFile();if(l){let e;var o;e=l!==Ye.currentFile?Ye.addIdentifierImport(s.escapedName,rr(Ye.currentFile.fileName,l.fileName),!(null!==(o=Ye.typeChecker.getSymbolAtLocation(l).exports)&&void 0!==o&&o.has(s.escapedName))):Ye.context.factory.createIdentifier(s.escapedName);const t=[a,e];return c&&t.push(Ye.context.factory.createStringLiteral(c)),Ye.context.factory.createCallExpression(Ye.addIdentifierImport(R,re,!0),void 0,t)}}}return t().visitEachChild(e,r,Ye.context)}(e,Ye.visitor):Ye.cheapCompilerOptions.defined.ENABLE_SYNCHRONIZE_API&&t().isAwaitExpression(e)&&e.expression&&t().isCallExpression(e.expression)&&(Ye.lookupSynchronized()||tr(null===(n=Ye.typeChecker.getSymbolAtLocation(t().isPropertyAccessExpression(e.expression.expression)?e.expression.expression.name:e.expression.expression))||void 0===n?void 0:n.valueDeclaration))?t().visitEachChild(e.expression,r,Ye.context):t().visitEachChild(e,r,Ye.context)}(r,Ye.visitor):t().visitEachChild(r,Ye.visitor,e),Ye.end(t().visitEachChild(n,Ye.visitor,Ye.context))))}})(),module.exports=n})();