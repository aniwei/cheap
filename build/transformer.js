(()=>{var e={7149:(e,t,r)=>{r(8355),r(6438).Array.isArray},2861:(e,t,r)=>{r(8978),r(7863),r(7914),r(6050),r(8337),r(4674),r(2223),e.exports=r(6438).Map},1837:(e,t,r)=>{r(1489),e.exports=r(6438).Number.isNaN},2696:(e,t,r)=>{r(4712);var n=r(6438).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},2948:(e,t,r)=>{r(1780),e.exports=r(6438).Object.freeze},7567:(e,t,r)=>{r(6847),r(6438).Object.keys},7279:(e,t,r)=>{r(5828),r(6438).parseFloat},6560:(e,t,r)=>{r(9626),r(8978),r(2860),r(716),e.exports=r(6438).Symbol},4220:(e,t,r)=>{r(7863),r(7914),e.exports=r(4336).f("iterator")},9967:(e,t,r)=>{e.exports=r(4336).f("toPrimitive")},5219:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},2560:e=>{e.exports=function(){}},2832:e=>{e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},812:(e,t,r)=>{var n=r(4401);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},7076:(e,t,r)=>{var n=r(5838);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},4448:(e,t,r)=>{var n=r(5133),i=r(181),o=r(2917);e.exports=function(e){return function(t,r,a){var s,c=n(t),l=i(c.length),u=o(a,l);if(e&&r!=r){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}}},600:(e,t,r)=>{var n=r(8852),i=r(7001),o=r(6310),a=r(181),s=r(9244);e.exports=function(e,t){var r=1==e,c=2==e,l=3==e,u=4==e,p=6==e,f=5==e||p,y=t||s;return function(t,s,d){for(var x,m,h=o(t),g=i(h),v=n(s,d,3),E=a(g.length),T=0,S=r?y(t,E):c?y(t,0):void 0;E>T;T++)if((f||T in g)&&(m=v(x=g[T],T,h),e))if(r)S[T]=m;else if(m)switch(e){case 3:return!0;case 5:return x;case 6:return T;case 2:S.push(x)}else if(u)return!1;return p?-1:l||u?u:S}}},9742:(e,t,r)=>{var n=r(4401),i=r(5461),o=r(254)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},9244:(e,t,r)=>{var n=r(9742);e.exports=function(e,t){return new(n(e))(t)}},4968:(e,t,r)=>{var n=r(3417),i=r(254)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},3417:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},5933:(e,t,r)=>{"use strict";var n=r(8423).f,i=r(2087),o=r(953),a=r(8852),s=r(2832),c=r(5838),l=r(8839),u=r(322),p=r(5274),f=r(8219),y=r(5172).fastKey,d=r(6096),x=f?"_s":"size",m=function(e,t){var r,n=y(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,l){var u=e((function(e,n){s(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[x]=0,null!=n&&c(n,r,e[l],e)}));return o(u.prototype,{clear:function(){for(var e=d(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[x]=0},delete:function(e){var r=d(this,t),n=m(r,e);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[x]--}return!!n},forEach:function(e){d(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!m(d(this,t),e)}}),f&&n(u.prototype,"size",{get:function(){return d(this,t)[x]}}),u},def:function(e,t,r){var n,i,o=m(e,t);return o?o.v=r:(e._l=o={i:i=y(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[x]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,r){l(e,t,(function(e,r){this._t=d(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?u(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,u(1))}),r?"entries":"values",!r,!0),p(t)}}},5874:(e,t,r)=>{var n=r(4968),i=r(7076);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},9373:(e,t,r)=>{"use strict";var n=r(6670),i=r(8535),o=r(5172),a=r(1984),s=r(2677),c=r(953),l=r(5838),u=r(2832),p=r(4401),f=r(1356),y=r(8423).f,d=r(600)(0),x=r(8219);e.exports=function(e,t,r,m,h,g){var v=n[e],E=v,T=h?"set":"add",S=E&&E.prototype,k={};return x&&"function"==typeof E&&(g||S.forEach&&!a((function(){(new E).entries().next()})))?(E=t((function(t,r){u(t,E,e,"_c"),t._c=new v,null!=r&&l(r,h,t[T],t)})),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in S)||g&&"clear"==e||s(E.prototype,e,(function(r,n){if(u(this,E,e),!t&&g&&!p(r))return"get"==e&&void 0;var i=this._c[e](0===r?0:r,n);return t?this:i}))})),g||y(E.prototype,"size",{get:function(){return this._c.size}})):(E=m.getConstructor(t,e,h,T),c(E.prototype,r),o.NEED=!0),f(E,e),k[e]=E,i(i.G+i.W+i.F,k),g||m.setStrong(E,e,h),E}},6438:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},8852:(e,t,r)=>{var n=r(5219);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},7608:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},8219:(e,t,r)=>{e.exports=!r(1984)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},3802:(e,t,r)=>{var n=r(4401),i=r(6670).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},7956:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},6473:(e,t,r)=>{var n=r(4311),i=r(9820),o=r(6569);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,s=r(e),c=o.f,l=0;s.length>l;)c.call(e,a=s[l++])&&t.push(a);return t}},8535:(e,t,r)=>{var n=r(6670),i=r(6438),o=r(8852),a=r(2677),s=r(5509),c="prototype",l=function(e,t,r){var u,p,f,y=e&l.F,d=e&l.G,x=e&l.S,m=e&l.P,h=e&l.B,g=e&l.W,v=d?i:i[t]||(i[t]={}),E=v[c],T=d?n:x?n[t]:(n[t]||{})[c];for(u in d&&(r=t),r)(p=!y&&T&&void 0!==T[u])&&s(v,u)||(f=p?T[u]:r[u],v[u]=d&&"function"!=typeof T[u]?r[u]:h&&p?o(f,n):g&&T[u]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[c]=e[c],t}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((v.virtual||(v.virtual={}))[u]=f,e&l.R&&E&&!E[u]&&a(E,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},1984:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},5838:(e,t,r)=>{var n=r(8852),i=r(7904),o=r(2828),a=r(812),s=r(181),c=r(5298),l={},u={},p=e.exports=function(e,t,r,p,f){var y,d,x,m,h=f?function(){return e}:c(e),g=n(r,p,t?2:1),v=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(o(h)){for(y=s(e.length);y>v;v++)if((m=t?g(a(d=e[v])[0],d[1]):g(e[v]))===l||m===u)return m}else for(x=h.call(e);!(d=x.next()).done;)if((m=i(x,g,d.value,t))===l||m===u)return m};p.BREAK=l,p.RETURN=u},6670:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},5509:e=>{var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},2677:(e,t,r)=>{var n=r(8423),i=r(6260);e.exports=r(8219)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},3879:(e,t,r)=>{var n=r(6670).document;e.exports=n&&n.documentElement},2484:(e,t,r)=>{e.exports=!r(8219)&&!r(1984)((function(){return 7!=Object.defineProperty(r(3802)("div"),"a",{get:function(){return 7}}).a}))},7001:(e,t,r)=>{var n=r(3417);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},2828:(e,t,r)=>{var n=r(210),i=r(254)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},5461:(e,t,r)=>{var n=r(3417);e.exports=Array.isArray||function(e){return"Array"==n(e)}},4401:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},7904:(e,t,r)=>{var n=r(812);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},8248:(e,t,r)=>{"use strict";var n=r(2087),i=r(6260),o=r(1356),a={};r(2677)(a,r(254)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},8839:(e,t,r)=>{"use strict";var n=r(4742),i=r(8535),o=r(1331),a=r(2677),s=r(210),c=r(8248),l=r(1356),u=r(6123),p=r(254)("iterator"),f=!([].keys&&"next"in[].keys()),y="keys",d="values",x=function(){return this};e.exports=function(e,t,r,m,h,g,v){c(r,t,m);var E,T,S,k=function(e){if(!f&&e in C)return C[e];switch(e){case y:case d:return function(){return new r(this,e)}}return function(){return new r(this,e)}},N=t+" Iterator",b=h==d,A=!1,C=e.prototype,I=C[p]||C["@@iterator"]||h&&C[h],L=I||k(h),P=h?b?k("entries"):L:void 0,K="Array"==t&&C.entries||I;if(K&&(S=u(K.call(new e)))!==Object.prototype&&S.next&&(l(S,N,!0),n||"function"==typeof S[p]||a(S,p,x)),b&&I&&I.name!==d&&(A=!0,L=function(){return I.call(this)}),n&&!v||!f&&!A&&C[p]||a(C,p,L),s[t]=L,s[N]=x,h)if(E={values:b?L:k(d),keys:g?L:k(y),entries:P},v)for(T in E)T in C||o(C,T,E[T]);else i(i.P+i.F*(f||A),t,E);return E}},322:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},210:e=>{e.exports={}},4742:e=>{e.exports=!0},5172:(e,t,r)=>{var n=r(9191)("meta"),i=r(4401),o=r(5509),a=r(8423).f,s=0,c=Object.isExtensible||function(){return!0},l=!r(1984)((function(){return c(Object.preventExtensions({}))})),u=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},p=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return l&&p.NEED&&c(e)&&!o(e,n)&&u(e),e}}},2087:(e,t,r)=>{var n=r(812),i=r(82),o=r(7956),a=r(4566)("IE_PROTO"),s=function(){},c="prototype",l=function(){var e,t=r(3802)("iframe"),n=o.length;for(t.style.display="none",r(3879).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[c][o[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(s[c]=n(e),r=new s,s[c]=null,r[a]=e):r=l(),void 0===t?r:i(r,t)}},8423:(e,t,r)=>{var n=r(812),i=r(2484),o=r(752),a=Object.defineProperty;t.f=r(8219)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},82:(e,t,r)=>{var n=r(8423),i=r(812),o=r(4311);e.exports=r(8219)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,c=0;s>c;)n.f(e,r=a[c++],t[r]);return e}},1033:(e,t,r)=>{var n=r(6569),i=r(6260),o=r(5133),a=r(752),s=r(5509),c=r(2484),l=Object.getOwnPropertyDescriptor;t.f=r(8219)?l:function(e,t){if(e=o(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},6309:(e,t,r)=>{var n=r(5133),i=r(1743).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},1743:(e,t,r)=>{var n=r(5081),i=r(7956).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},9820:(e,t)=>{t.f=Object.getOwnPropertySymbols},6123:(e,t,r)=>{var n=r(5509),i=r(6310),o=r(4566)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},5081:(e,t,r)=>{var n=r(5509),i=r(5133),o=r(4448)(!1),a=r(4566)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),c=0,l=[];for(r in s)r!=a&&n(s,r)&&l.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~o(l,r)||l.push(r));return l}},4311:(e,t,r)=>{var n=r(5081),i=r(7956);e.exports=Object.keys||function(e){return n(e,i)}},6569:(e,t)=>{t.f={}.propertyIsEnumerable},7331:(e,t,r)=>{var n=r(8535),i=r(6438),o=r(1984);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o((function(){r(1)})),"Object",a)}},9709:(e,t,r)=>{var n=r(6670).parseFloat,i=r(4269).trim;e.exports=1/n(r(459)+"-0")!=-1/0?function(e){var t=i(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},6260:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},953:(e,t,r)=>{var n=r(2677);e.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},1331:(e,t,r)=>{e.exports=r(2677)},643:(e,t,r)=>{"use strict";var n=r(8535),i=r(5219),o=r(8852),a=r(5838);e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,s,c=arguments[1];return i(this),(t=void 0!==c)&&i(c),null==e?new this:(r=[],t?(n=0,s=o(c,arguments[2],2),a(e,!1,(function(e){r.push(s(e,n++))}))):a(e,!1,r.push,r),new this(r))}})}},4398:(e,t,r)=>{"use strict";var n=r(8535);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},5274:(e,t,r)=>{"use strict";var n=r(6670),i=r(6438),o=r(8423),a=r(8219),s=r(254)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},1356:(e,t,r)=>{var n=r(8423).f,i=r(5509),o=r(254)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},4566:(e,t,r)=>{var n=r(6308)("keys"),i=r(9191);e.exports=function(e){return n[e]||(n[e]=i(e))}},6308:(e,t,r)=>{var n=r(6438),i=r(6670),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(4742)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},3172:(e,t,r)=>{var n=r(9383),i=r(7608);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),c=n(r),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},4269:(e,t,r)=>{var n=r(8535),i=r(7608),o=r(1984),a=r(459),s="["+a+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(e,t,r){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),c=i[e]=s?t(p):a[e];r&&(i[r]=c),n(n.P+n.F*s,"String",i)},p=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=u},459:e=>{e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},2917:(e,t,r)=>{var n=r(9383),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},9383:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},5133:(e,t,r)=>{var n=r(7001),i=r(7608);e.exports=function(e){return n(i(e))}},181:(e,t,r)=>{var n=r(9383),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},6310:(e,t,r)=>{var n=r(7608);e.exports=function(e){return Object(n(e))}},752:(e,t,r)=>{var n=r(4401);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},9191:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},6096:(e,t,r)=>{var n=r(4401);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},7816:(e,t,r)=>{var n=r(6670),i=r(6438),o=r(4742),a=r(4336),s=r(8423).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},4336:(e,t,r)=>{t.f=r(254)},254:(e,t,r)=>{var n=r(6308)("wks"),i=r(9191),o=r(6670).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},5298:(e,t,r)=>{var n=r(4968),i=r(254)("iterator"),o=r(210);e.exports=r(6438).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},8355:(e,t,r)=>{var n=r(8535);n(n.S,"Array",{isArray:r(5461)})},2293:(e,t,r)=>{"use strict";var n=r(2560),i=r(322),o=r(210),a=r(5133);e.exports=r(8839)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},6050:(e,t,r)=>{"use strict";var n=r(5933),i=r(6096),o="Map";e.exports=r(9373)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=n.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return n.def(i(this,o),0===e?0:e,t)}},n,!0)},1489:(e,t,r)=>{var n=r(8535);n(n.S,"Number",{isNaN:function(e){return e!=e}})},4712:(e,t,r)=>{var n=r(8535);n(n.S+n.F*!r(8219),"Object",{defineProperty:r(8423).f})},1780:(e,t,r)=>{var n=r(4401),i=r(5172).onFreeze;r(7331)("freeze",(function(e){return function(t){return e&&n(t)?e(i(t)):t}}))},6847:(e,t,r)=>{var n=r(6310),i=r(4311);r(7331)("keys",(function(){return function(e){return i(n(e))}}))},8978:()=>{},5828:(e,t,r)=>{var n=r(8535),i=r(9709);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},7863:(e,t,r)=>{"use strict";var n=r(3172)(!0);r(8839)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},9626:(e,t,r)=>{"use strict";var n=r(6670),i=r(5509),o=r(8219),a=r(8535),s=r(1331),c=r(5172).KEY,l=r(1984),u=r(6308),p=r(1356),f=r(9191),y=r(254),d=r(4336),x=r(7816),m=r(6473),h=r(5461),g=r(812),v=r(4401),E=r(6310),T=r(5133),S=r(752),k=r(6260),N=r(2087),b=r(6309),A=r(1033),C=r(9820),I=r(8423),L=r(4311),P=A.f,K=I.f,B=b.f,F=n.Symbol,_=n.JSON,O=_&&_.stringify,D="prototype",w=y("_hidden"),M=y("toPrimitive"),z={}.propertyIsEnumerable,j=u("symbol-registry"),q=u("symbols"),G=u("op-symbols"),R=Object[D],$="function"==typeof F&&!!C.f,U=n.QObject,V=!U||!U[D]||!U[D].findChild,H=o&&l((function(){return 7!=N(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=P(R,t);n&&delete R[t],K(e,t,r),n&&e!==R&&K(R,t,n)}:K,W=function(e){var t=q[e]=N(F[D]);return t._k=e,t},J=$&&"symbol"==typeof F.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof F},Z=function(e,t,r){return e===R&&Z(G,t,r),g(e),t=S(t,!0),g(r),i(q,t)?(r.enumerable?(i(e,w)&&e[w][t]&&(e[w][t]=!1),r=N(r,{enumerable:k(0,!1)})):(i(e,w)||K(e,w,k(1,{})),e[w][t]=!0),H(e,t,r)):K(e,t,r)},Y=function(e,t){g(e);for(var r,n=m(t=T(t)),i=0,o=n.length;o>i;)Z(e,r=n[i++],t[r]);return e},Q=function(e){var t=z.call(this,e=S(e,!0));return!(this===R&&i(q,e)&&!i(G,e))&&(!(t||!i(this,e)||!i(q,e)||i(this,w)&&this[w][e])||t)},X=function(e,t){if(e=T(e),t=S(t,!0),e!==R||!i(q,t)||i(G,t)){var r=P(e,t);return!r||!i(q,t)||i(e,w)&&e[w][t]||(r.enumerable=!0),r}},ee=function(e){for(var t,r=B(T(e)),n=[],o=0;r.length>o;)i(q,t=r[o++])||t==w||t==c||n.push(t);return n},te=function(e){for(var t,r=e===R,n=B(r?G:T(e)),o=[],a=0;n.length>a;)!i(q,t=n[a++])||r&&!i(R,t)||o.push(q[t]);return o};$||(s((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===R&&t.call(G,r),i(this,w)&&i(this[w],e)&&(this[w][e]=!1),H(this,e,k(1,r))};return o&&V&&H(R,e,{configurable:!0,set:t}),W(e)})[D],"toString",(function(){return this._k})),A.f=X,I.f=Z,r(1743).f=b.f=ee,r(6569).f=Q,C.f=te,o&&!r(4742)&&s(R,"propertyIsEnumerable",Q,!0),d.f=function(e){return W(y(e))}),a(a.G+a.W+a.F*!$,{Symbol:F});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;re.length>ne;)y(re[ne++]);for(var ie=L(y.store),oe=0;ie.length>oe;)x(ie[oe++]);a(a.S+a.F*!$,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=F(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!$,"Object",{create:function(e,t){return void 0===t?N(e):Y(N(e),t)},defineProperty:Z,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=l((function(){C.f(1)}));a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return C.f(E(e))}}),_&&a(a.S+a.F*(!$||l((function(){var e=F();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(v(t)||void 0!==e)&&!J(e))return h(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!J(t))return t}),n[1]=t,O.apply(_,n)}}),F[D][M]||r(2677)(F[D],M,F[D].valueOf),p(F,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},2223:(e,t,r)=>{r(643)("Map")},4674:(e,t,r)=>{r(4398)("Map")},8337:(e,t,r)=>{var n=r(8535);n(n.P+n.R,"Map",{toJSON:r(5874)("Map")})},2860:(e,t,r)=>{r(7816)("asyncIterator")},716:(e,t,r)=>{r(7816)("observable")},7914:(e,t,r)=>{r(2293);for(var n=r(6670),i=r(2677),o=r(210),a=r(254)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=n[l],p=u&&u.prototype;p&&!p[a]&&i(p,a,l),o[l]=o.Array}},7975:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",i=0):i=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),o=s,a=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=s,a=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(o+1,s):n=e.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var e,n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(n=a+"/"+n,i=47===a.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,a=o-i,s=1;s<r.length&&47===r.charCodeAt(s);++s);for(var c=r.length-s,l=a<c?a:c,u=-1,p=0;p<=l;++p){if(p===l){if(c>l){if(47===r.charCodeAt(s+p))return r.slice(s+p+1);if(0===p)return r.slice(s+p)}else a>l&&(47===e.charCodeAt(i+p)?u=p:0===p&&(u=0));break}var f=e.charCodeAt(i+p);if(f!==r.charCodeAt(s+p))break;47===f&&(u=p)}var y="";for(p=i+u+1;p<=o;++p)p!==o&&47!==e.charCodeAt(p)||(0===y.length?y+="..":y+="/..");return y.length>0?y+r.slice(s+u):(s+=u,47===r.charCodeAt(s)&&++s,r.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(r=e.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,o=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var s=r.length-1,c=-1;for(n=e.length-1;n>=0;--n){var l=e.charCodeAt(n);if(47===l){if(!a){i=n+1;break}}else-1===c&&(a=!1,c=n+1),s>=0&&(l===r.charCodeAt(s)?-1==--s&&(o=n):(s=-1,o=c))}return i===o?o=c:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){i=n+1;break}}else-1===o&&(a=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,o=!0,a=0,s=e.length-1;s>=0;--s){var c=e.charCodeAt(s);if(47!==c)-1===i&&(o=!1,i=s+1),46===c?-1===r?r=s:1!==a&&(a=1):-1!==r&&(a=-1);else if(!o){n=s+1;break}}return-1===r||-1===i||0===a||1===a&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),o=47===i;o?(r.root="/",n=1):n=0;for(var a=-1,s=0,c=-1,l=!0,u=e.length-1,p=0;u>=n;--u)if(47!==(i=e.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===i?-1===a?a=u:1!==p&&(p=1):-1!==a&&(p=-1);else if(!l){s=u+1;break}return-1===a||-1===c||0===p||1===p&&a===c-1&&a===s+1?-1!==c&&(r.base=r.name=0===s&&o?e.slice(1,c):e.slice(s,c)):(0===s&&o?(r.name=e.slice(1,a),r.base=e.slice(1,c)):(r.name=e.slice(s,a),r.base=e.slice(s,c)),r.ext=e.slice(a,c)),s>0?r.dir=e.slice(0,s-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},8632:(e,t,r)=>{r(7149)},662:(e,t,r)=>{e.exports=r(2861)},7210:(e,t,r)=>{e.exports=r(1837)},7403:(e,t,r)=>{e.exports=r(2948)},9736:(e,t,r)=>{r(7567)},8032:(e,t,r)=>{r(7279)},5062:(e,t,r)=>{e.exports=r(6560)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{default:()=>Sr});const e=require("typescript");var t=r.n(e),i=(r(9736),r(8632),r(8032),r(7403)),o=r.n(i);const a=!1,s=null,c=void 0,l=-1,u="undefined",p="function",f=typeof window!==u?window:c,y=(typeof document!==u&&document,typeof globalThis!==u?globalThis:typeof r.g!==u&&r.g,typeof self!==u&&self,o()({}),o()([]),"");function d(e){return typeof e===p}function x(e){return e!==s&&"object"==typeof e}function m(e){return"number"==typeof e&&!isNaN(e)}function h(e,t){for(let r in e)if(t(e[r],r)===a)break}function g(e,t){return x(e)?x(t)?(h(t,(function(t,r){e[r]=t})),e):e:t}function v(e,t,r){return g(g(e,t),r)}var E=r(2696),T=r(6560),S=r(4220);function k(e){return k="function"==typeof T&&"symbol"==typeof S?function(e){return typeof e}:function(e){return e&&"function"==typeof T&&e.constructor===T&&e!==T.prototype?"symbol":typeof e},k(e)}var N=r(9967);function b(e,t,r){return n=function(e,t){if("object"!=k(e)||!e)return e;var r=e[N];if(void 0!==r){var n=r.call(e,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==k(n)?n:String(n))in e?E(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}var A=r(662),C=r.n(A),I=r(7975),L=r.n(I);function P(e,t,r){if(!e)return;const{length:n}=e;if(n)if(r)for(let r=n-1;r>=0&&t(e[r],r)!==a;r--);else for(let r=0;r<n&&t(e[r],r)!==a;r++);}function K(e,t,r){return function(e,t,r){let n=l;return P(e,(function(e,i){if(r===a?e==t:e===t)return n=i,a})),n}(e,t,r)>=0}function B(e,t){const r=[];return P(e,((e,n)=>{K(t,e)||r.push(e)})),r}function F(e,t,r,n,i){for(let n=0;n<e.length;n++)if(e[n].name===t&&e[n].path===r)return e[n];const o={name:t,path:r,default:i,formatName:n};return e.push(o),o}const _="accessof",O="addressof",D="memcpy",w="sizeof",M="move",z="static_cast",j="assert",q="indexOf",G="reinterpret_cast",R="structAccess",$="CTypeEnumWrite",U="CTypeEnumRead",V="definedMetaProperty",H="symbolStructAddress",W="symbolStruct",J="symbolStructMaxBaseTypeByteLength",Z="symbolStructLength",Y="symbolStructKeysMeta",Q="cheap/std/sizeof",X="cheap/function/definedMetaProperty",ee="cheap/std/memory",te="cheap/symbol",re="cheap/std/structAccess",ne="createThreadFromClass",ie="createThreadFromFunction",oe="createThreadFromModule",ae="cheap/thread/thread",se="array",ce="bit",le="pointer",ue="anyptr",pe="nullptr",fe="multiPointer",ye="union",de="struct",xe="defined",me="args",he="enableArgs",ge="prototype",ve="struct",Ee="union",Te="type",Se="pointer",ke="array",Ne="bit",be="ignore",Ae="deasync",Ce="make",Ie="unmake",Le="malloc",Pe="calloc",Ke="realloc",Be="aligned_alloc",Fe="free",_e="Allocator",Oe="cheap/heap",De="cheap/std/make",we="cheap/std/unmake",Me="zzztype__",ze="zzzlevel__",je="zzzstruct__",qe="___LINE__",Ge="__LINE__",Re="___FILE__",$e="__FILE__";function Ue(e,t,r){if(e.length){const n=[];e.forEach((e=>{n.push(Qe.context.factory.createImportSpecifier(!1,Qe.context.factory.createIdentifier(e.name),Qe.context.factory.createIdentifier(e.formatName)))}));const i=Qe.context.factory.createImportDeclaration(void 0,Qe.context.factory.createImportClause(!1,void 0,Qe.context.factory.createNamedImports(n)),Qe.context.factory.createStringLiteral(t));r.push(i)}}function Ve(e,t){return`cheap__${e}__${t}`}var He,We;!function(e){e[e.NONE=0]="NONE",e[e.CALL=1]="CALL",e[e.EqualLeft=2]="EqualLeft",e[e.EqualRight=3]="EqualRight",e[e.SingleArrowRight=4]="SingleArrowRight",e[e.PointerPlusMinusIgnore=5]="PointerPlusMinusIgnore",e[e.AddressOf=6]="AddressOf",e[e.Parameter=7]="Parameter",e[e.VariableDeclaration=8]="VariableDeclaration"}(He||(He={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FUNCTION=1]="FUNCTION",e[e.IF=2]="IF",e[e.LOOP=3]="LOOP"}(We||(We={}));class Je{constructor(){b(this,"stage",void 0),b(this,"data",void 0)}}class Ze{constructor(e=We.UNKNOWN){b(this,"type",We.UNKNOWN),b(this,"topDeclaration",[]),b(this,"definedStruct",[]),b(this,"stages",[]),b(this,"locals",new(C())),b(this,"funcs",new(C())),b(this,"synchronize",!1),this.type=e}pushStage(e,t){const r=new Je;r.stage=e,r.data=t,this.stages.push(r)}popStage(){this.stages.pop()}lookupStage(e){for(let t=this.stages.length-1;t>=0;t--)if(this.stages[t].stage===e)return this.stages[t]}getCurrentStage(){return this.stages[this.stages.length-1]}hasStruct(e){return K(this.definedStruct,e)}getDeclaration(e){return this.topDeclaration.find((t=>t.name===e))}}const Ye=new class{constructor(){b(this,"options",void 0),b(this,"compilerOptions",void 0),b(this,"cheapCompilerOptions",void 0),b(this,"program",void 0),b(this,"context",void 0),b(this,"typeChecker",void 0),b(this,"visitor",void 0),b(this,"currentFile",void 0),b(this,"currentFilePath",void 0),b(this,"imports",void 0),b(this,"memoryImports",void 0),b(this,"symbolImports",void 0),b(this,"stdImports",void 0),b(this,"identifierImports",void 0),b(this,"stacks",void 0),b(this,"identifierIndex",void 0)}start(e){this.currentFile=e,this.identifierIndex=0,this.memoryImports=[],this.symbolImports=[],this.stdImports=[],this.identifierImports=[],this.stacks=[],this.pushStack(),this.imports=function(e,r,n,i){const o=new(C());return e.statements.forEach((a=>{if(t().isImportDeclaration(a)){const s=L().extname(a.moduleSpecifier.text);if(!s||".ts"===s){const s=function(e,r,n){var i;return null===(i=t().resolveModuleName(n,r,e.getCompilerOptions(),t().sys).resolvedModule)||void 0===i?void 0:i.resolvedFileName}(r,e.fileName,a.moduleSpecifier.text.split("!").pop());if(s){const e=o.get(s)||new(C());a.importClause&&t().isImportClause(a.importClause)&&(a.importClause.name&&t().isIdentifier(a.importClause.name)&&e.set("default",a.importClause.name.escapedText),a.importClause.namedBindings&&(t().isNamedImports(a.importClause.namedBindings)?a.importClause.namedBindings.elements.forEach((r=>{r.propertyName&&t().isIdentifier(r.propertyName)?(e.set(r.propertyName.escapedText,r.name.escapedText),i.set(r.propertyName.escapedText,n.getSymbolAtLocation(r.propertyName))):(e.set(r.name.escapedText,r.name.escapedText),i.set(r.name.escapedText,n.getSymbolAtLocation(r.name)))})):t().isNamespaceImport(a.importClause.namedBindings)&&e.set("all",a.importClause.namedBindings.name.escapedText))),o.set(s,e)}}}})),o}(e,this.program,this.typeChecker,this.getCurrentStack().locals),this.currentFilePath=L().relative(this.options.projectPath,e.fileName)}end(e){const t=this.getCurrentStack(),r=[];return P(t.topDeclaration,(e=>{r.push(this.context.factory.createVariableStatement(void 0,this.context.factory.createVariableDeclarationList([this.context.factory.createVariableDeclaration(e.formatName,void 0,void 0,e.initializer)])))})),Ue(this.memoryImports,ee,r),Ue(this.symbolImports,te,r),this.identifierImports.length&&this.identifierImports.forEach((e=>{const t=this.context.factory.createImportDeclaration(void 0,this.context.factory.createImportClause(!1,e.default?this.context.factory.createIdentifier(e.formatName):void 0,e.default?void 0:this.context.factory.createNamedImports([this.context.factory.createImportSpecifier(!1,this.context.factory.createIdentifier(e.name),this.context.factory.createIdentifier(e.formatName))])),this.context.factory.createStringLiteral(e.path));r.push(t)})),r.length&&(e=this.context.factory.updateSourceFile(e,[...r,...e.statements])),this.popStack(),e}pushStack(e){this.stacks.push(new Ze(e))}popStack(){this.stacks.pop()}getCurrentStack(){return this.stacks[this.stacks.length-1]}pushStage(e,t={}){var r;null===(r=this.getCurrentStack())||void 0===r||r.pushStage(e,t)}popStage(){var e;null===(e=this.getCurrentStack())||void 0===e||e.popStage()}getCurrentStage(){var e;return null===(e=this.getCurrentStack())||void 0===e?void 0:e.getCurrentStage()}lookupStage(e){for(let t=this.stacks.length-1;t>=0;t--){const r=this.stacks[t].lookupStage(e);if(r)return r}}hasStruct(e){for(let t=this.stacks.length-1;t>=0;t--){const r=this.stacks[t].hasStruct(e);if(r)return r}return!1}addStruct(e){this.getCurrentStack().definedStruct.push(e)}getDeclaration(e){var t;return null===(t=this.getCurrentStack())||void 0===t?void 0:t.getDeclaration(e)}addDeclaration(e,t){const r=this.getCurrentStack();for(let t=0;t<r.topDeclaration.length;t++)if(r.topDeclaration[t].name===e)return r.topDeclaration[t];const n={name:e,formatName:Ve(e,this.identifierIndex++),initializer:t};return r.topDeclaration.push(n),n}addModuleDeclaration(e,t){const r=this.stacks[0];for(let t=0;t<r.topDeclaration.length;t++)if(r.topDeclaration[t].name===e)return r.topDeclaration[t];const n={name:e,formatName:Ve(e,this.identifierIndex++),initializer:t};return r.topDeclaration.push(n),n}addMemoryImport(e){if(e===U)return this.addIdentifierImport(e,"cheap/ctypeEnumRead",!1);if(e===$)return this.addIdentifierImport(e,"cheap/ctypeEnumWrite",!1);let{formatName:t}=F(this.memoryImports,e,ee,!1===this.options.formatIdentifier?e:Ve(e,this.identifierIndex++),!1);return this.context.factory.createIdentifier(t)}addSymbolImport(e){let{formatName:t}=F(this.symbolImports,e,te,!1===this.options.formatIdentifier?e:Ve(e,this.identifierIndex++),!1);return this.context.factory.createIdentifier(t)}addIdentifierImport(e,t,r){let{formatName:n}=F(this.identifierImports,e,t,!1===this.options.formatIdentifier?e:Ve(e,this.identifierIndex++),r);return this.context.factory.createIdentifier(n)}isIdentifier(e,t){return function(e,t){return e===t||0===e.indexOf(`cheap__${t}__`)}(e,t)}addLocal(e,t){var r;null===(r=this.getCurrentStack())||void 0===r||r.locals.set(e,t)}addFunc(e,t){var r;null===(r=this.getCurrentStack())||void 0===r||r.funcs.set(e,t)}lookupLocal(e){for(let t=this.stacks.length-1;t>=0;t--){const r=this.stacks[t].locals.get(e);if(r)return r}}lookupFunc(e){for(let t=this.stacks.length-1;t>=0;t--){const r=this.stacks[t].funcs.get(e);if(r)return r}}lookupSynchronized(){for(let e=this.stacks.length-1;e>=0;e--){const t=this.stacks[e];if(t.type===We.FUNCTION)return t.synchronize}return!1}},Qe=Ye,Xe=["i32","i64","f32","f64","uint8","uint16","uint32","uint64","int8","int16","int32","int64","float","float64","double","char","size","void","atomic_char","atomic_uint8","atomic_uint16","atomic_uint32","atomic_int8","atomic_int16","atomic_int32","atomic_int64","atomic_uint64"],et=[ve,Ee,be,Te,Se,ke,Ne,"inline",Ae],tt=["float","float64","double","f32","f64"],rt=["i64","int64","uint64","atomic_int64","atomic_uint64"],nt=["uint8","atomic_uint8","uint16","atomic_uint16","uint32","atomic_uint32","uint64","atomic_uint64"],it={2:"uint8",3:"atomic_uint8",4:"char",5:"atomic_char",6:"uint16",7:"atomic_uint16",8:"uint32",9:"atomic_uint32",10:"uint64",11:"int8",12:"atomic_int8",13:"int16",14:"atomic_int16",15:"int32",16:"atomic_int32",17:"int64",18:"float",19:"double",20:"pointer",1:"void",0:"nullptr",22:"atomic_uint64",21:"atomic_int64"},ot={typeptr:20};h(it,((e,t)=>{ot[e]=+t}));const at=B(B(Xe,tt),rt);var st=r(7210),ct=r.n(st);const lt={2:1,3:1,4:1,5:1,6:2,7:2,8:4,9:4,10:8,11:1,12:1,13:2,14:2,15:4,16:4,17:8,18:4,19:8,20:4,0:4,1:4,22:8,21:8};var ut=r(5062),pt=r.n(ut);pt()("Struct");const ft=pt()("StructLength"),yt=pt()("StructMaxBaseTypeByteLength");function dt(e){return e!==c}let xt;function mt(){if(dt(xt))return xt;const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),xt=256===new Int16Array(e)[0],xt}function ht(e){let t=0;return e.forEach((e=>{if(e[1])lt[20]>t&&(t=lt[20]);else if(d(e.getTypeMeta)){const r=e.getTypeMeta();r.maxBaseTypeByteLength>t&&(t=r.maxBaseTypeByteLength)}else d(e[0])?e[0][yt]>t&&(t=e[0][yt]):lt[e[0]]>t&&(t=lt[e[0]])})),t}function gt(e){let t=0;return e.forEach((e=>{if(e[1])lt[20]>t&&(t=lt[20]);else if(d(e.getTypeMeta)){const r=e.getTypeMeta();r.length>t&&(t=r.length)}else d(e[0])?e[0][ft]>t&&(t=e[0][ft]):lt[e[0]]>t&&(t=lt[e[0]])})),t}function vt(e,t,r,n=0){let i=0,o=0,a=n;for(e&&t&&P(e,(e=>{const r=t.get(e);let s=0,c=0;if(r[1])s=lt[20],c=lt[20];else if(d(r.getTypeMeta)){const e=r.getTypeMeta();s=e.maxBaseTypeByteLength,c=e.length}else if(d(r[0]))s=r[0].prototype[yt],c=r[0].prototype[ft];else{if(r[5]&&r[0]===i&&o>=r[6])return r[7]=a,r[8]=8*lt[i]-o,o-=r[6],0===r[6]&&(r[6]=o,i=0,o=0),mt()&&(r[8]=8*lt[i]-r[8]-r[6]),!0;s=lt[r[0]],c=lt[r[0]]}for(;n%s!=0;)n++;r[7]=n,r[5]?(i=r[0],r[8]=0,o=8*lt[i]-r[6],mt()&&(r[8]=8*lt[i]-r[6])):(i=0,o=0),a=n,n+=r[3]?c*r[4]:c}));n%r!=0;)n++;return n}var Et;pt()("StructAddress"),pt()("StructKeysQueue"),pt()("StructKeysMeta"),pt()("StructKeysInstance"),pt()("StructProxyRevoke"),new(C()),function(e){e[e.CSTRUCT=0]="CSTRUCT",e[e.CUNION=1]="CUNION",e[e.INLINE_OBJECT=2]="INLINE_OBJECT"}(Et||(Et={}));const Tt=new(C()),St=[];function kt(e){if(!e)return!1;let r=!1;return P(e.modifiers,(e=>{var n;if(e.kind===t().SyntaxKind.Decorator&&(null===(n=e.expression)||void 0===n?void 0:n.kind)===t().SyntaxKind.Identifier&&e.expression.escapedText===ve)return r=!0,!1})),r}function Nt(e){if(!e)return!1;let r=!1;return P(e.modifiers,(e=>{var n;if(e.kind===t().SyntaxKind.Decorator&&(null===(n=e.expression)||void 0===n?void 0:n.kind)===t().SyntaxKind.Identifier&&e.expression.escapedText===Ee)return r=!0,!1})),r}function bt(e,r){var n;if(e.aliasSymbol){var i,o;const n=e.aliasSymbol.escapedName;if(n===se&&null!==(i=e.aliasTypeArguments[1])&&void 0!==i&&i.isNumberLiteral())r[3]=1,r[4]=(r[4]?r[4]:1)*e.aliasTypeArguments[1].value,bt(e.aliasTypeArguments[0],r);else if(n===ce&&null!==(o=e.aliasTypeArguments[1])&&void 0!==o&&o.isNumberLiteral())r[5]=1,r[6]=e.aliasTypeArguments[1].value,bt(e.aliasTypeArguments[0],r);else if(n===le)r[2]++,r[1]=1,bt(e.aliasTypeArguments[0],r);else if(n===de||n===ye){const i=function(e,r){const n=new(C()),i=[];if(e.symbol.members&&e.symbol.members.forEach(((e,r)=>{if(e.flags&t().SymbolFlags.Property&&e.valueDeclaration&&t().isPropertySignature(e.valueDeclaration)){const t=St[St.length-1];t.treePath.push(r);const o={0:1,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,has:!1,typeIdentifier:"",symbol:null,name:r};bt(Qe.typeChecker.getTypeOfSymbol(e),o),o.has&&(n.set(r,o),i.push(r)),t.treePath.pop()}})),n.size){const t=ht(n);if(!t)return null;const o=r===Et.CUNION?gt(n):vt(i,n,t,0);return Tt.set(e.symbol,{maxBaseTypeByteLength:t,length:o,meta:n,symbol:e.symbol,parent:null,structType:Et.INLINE_OBJECT,definedClassParent:St[St.length-1].struct}),Tt.get(e.symbol)}return null}(e.aliasTypeArguments[0],n===ye?Et.CUNION:Et.CSTRUCT);if(i){r.has=!0;const e=St[St.length-1];e.inlineStructPathMap.set(i.symbol,e.treePath.join(".")),r.getTypeMeta=()=>i}}else e.aliasSymbol.valueDeclaration&&(t().isEnumDeclaration(e.aliasSymbol.valueDeclaration)||t().isEnumMember(e.aliasSymbol.valueDeclaration))?(r.has=!0,r[0]=15):K(Xe,n)&&(r.has=!0,r[0]=ot[n])}else e.symbol&&(kt(e.symbol.valueDeclaration)||Nt(e.symbol.valueDeclaration))?r[1]||e.symbol!==r.symbol?(r.has=!0,r.typeIdentifier=e.symbol.escapedName,r.getTypeMeta=()=>Ct(e.symbol)):r.has=!1:null!==(n=e.symbol)&&void 0!==n&&n.valueDeclaration&&(t().isEnumDeclaration(e.symbol.valueDeclaration)||t().isEnumMember(e.symbol.valueDeclaration))?(r.has=!0,r[0]=15):r[1]?(r.has=!0,r[0]=1):e.isUnion()&&bt(e.types[0],r)}function At(e){var r;if(!e.valueDeclaration||!t().isClassDeclaration(e.valueDeclaration))return void Tt.set(e,null);const n=e.valueDeclaration;if(!kt(n)&&!Nt(n))return void Tt.set(e,null);const i=Nt(n)?Et.CUNION:Et.CSTRUCT,o=new(C()),a=[],s=new(C()),c={maxBaseTypeByteLength:0,length:0,meta:null,symbol:e,parent:null,structType:i},l=[];let u;if(St.push({treePath:l,struct:c,inlineStructPathMap:s}),null!==(r=n.heritageClauses)&&void 0!==r&&r.length)for(let e=0;e<n.heritageClauses.length;e++){const r=n.heritageClauses[e];if(r.token===t().SyntaxKind.ExtendsKeyword&&1===r.types.length){let e=Qe.typeChecker.getSymbolAtLocation(r.types[0].expression);u=Tt.get(e),u||(At(e),u=Tt.get(e))}}if(e.members&&e.members.forEach(((r,n)=>{if(r.flags&t().SymbolFlags.Property&&r.valueDeclaration&&t().isPropertyDeclaration(r.valueDeclaration)){var i;const s=r.valueDeclaration;l.push(n);const c={0:1,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,has:!1,typeIdentifier:"",symbol:e,name:n};bt(Qe.typeChecker.getTypeOfSymbol(r),c),null!==(i=s.modifiers)&&void 0!==i&&i.length&&function(e,r){for(let n=0;n<e.length;n++)if(e[n].kind===t().SyntaxKind.Decorator){const i=e[n];let o=!1;if(t().isCallExpression(i.expression)&&t().isIdentifier(i.expression.expression)){const e=i.expression.expression.escapedText;if(e===Te)r.has=!0,t().isIdentifier(i.expression.arguments[0])||t().isExpressionWithTypeArguments(i.expression.arguments[0])?(r.typeIdentifier=t().isIdentifier(i.expression.arguments[0])?i.expression.arguments[0].escapedText:i.expression.arguments[0].expression.escapedText,r.getTypeMeta=()=>{const e=t().isIdentifier(i.expression.arguments[0])?Qe.typeChecker.getTypeAtLocation(i.expression.arguments[0]):Qe.typeChecker.getTypeAtLocation(i.expression.arguments[0].expression);return e?Ct(e.symbol):{maxBaseTypeByteLength:0,length:0,structType:Et.CSTRUCT,meta:null,symbol:null}}):i.expression.arguments[0].kind===t().SyntaxKind.ThisKeyword?(r.typeIdentifier=i.parent.parent.name.escapedText,r.getTypeMeta=()=>Ct(Qe.typeChecker.getTypeAtLocation(i.parent.parent).symbol)):t().isPropertyAccessExpression(i.expression.arguments[0])&&(r[0]=ot[i.expression.arguments[0].name.escapedText]);else if(e===Se)r[1]=1,i.expression.arguments.length?t().isIdentifier(i.expression.arguments[0])&&(r[2]=+i.expression.arguments[0].escapedText):r[2]=1;else if(e===ke){if(r[3]=1,r[4]=0,t().isNumericLiteral(i.expression.arguments[0]))r[4]=+i.expression.arguments[0].text;else if(t().isIdentifier(i.expression.arguments[0])){const e=Qe.typeChecker.getSymbolAtLocation(i.expression.arguments[0]);e&&t().isVariableDeclaration(e.valueDeclaration)&&e.valueDeclaration.initializer&&t().isNumericLiteral(e.valueDeclaration.initializer)&&(r[4]=+e.valueDeclaration.initializer.text)}ct()(r[4])&&(r[4]=0)}else e===Ne?(r[5]=1,t().isIdentifier(i.expression.arguments[0])&&(r[6]=+i.expression.arguments[0].escapedText)):e===be&&(o=!0,t().isCallExpression(i.expression)&&i.expression.arguments.length&&!Xt(Qe.visitor(i.expression.arguments[0]),Qe.visitor)&&(o=!1))}else t().isIdentifier(i.expression)&&i.expression.escapedText===be&&(o=!0);o&&(r.has=!1)}}(s.modifiers,c),c.has&&(o.set(n,c),a.push(n)),l.pop()}})),o.size){var p,f;const t=Math.max(ht(o),null!==(p=null===(f=u)||void 0===f?void 0:f.maxBaseTypeByteLength)&&void 0!==p?p:0);if(!t)return void Tt.set(e,null);let r=0;u&&(r=u.length),v(c,{maxBaseTypeByteLength:t,length:i===Et.CUNION?gt(o):vt(a,o,t,r),meta:o,parent:u,inlineStructPathMap:s}),Tt.set(e,c)}else u?(v(c,{maxBaseTypeByteLength:u.maxBaseTypeByteLength,length:u.length,meta:o,parent:u}),Tt.set(e,c)):Tt.set(e,null);St.pop()}function Ct(e){return e?(Tt.has(e)||At(e),Tt.get(e)):null}function It(e){return null!=Ct(e)}function Lt(e,t){if(Ot(e)&&Ot(t))return!(!Ft(e)&&!Ft(t))||Gt(e)===Gt(t)&&Rt(e)===Rt(t);if(Pt(e)&&Pt(t))return jt(e)===jt(t);if(Bt(e)&&Bt(t))return wt(e)===wt(t);if(e.symbol&&t.symbol)return e.symbol===t.symbol;if(e.aliasSymbol&&t.aliasSymbol){var r,n;if(e.aliasSymbol.escapedName===le&&t.aliasSymbol.escapedName===ue||e.aliasSymbol.escapedName===ue&&t.aliasSymbol.escapedName===le)return!0;if(!e.aliasTypeArguments&&!t.aliasTypeArguments)return function(e,t){return e===le&&t===ue||e===ue&&t===le||"any"===e||"any"===t||"void"===e||"void"===t||e===t}(e.aliasSymbol.escapedName,t.aliasSymbol.escapedName);if((null===(r=e.aliasTypeArguments)||void 0===r?void 0:r.length)===(null===(n=t.aliasTypeArguments)||void 0===n?void 0:n.length)){for(let r=0;r<e.aliasTypeArguments.length;r++)if(!Lt(e.aliasTypeArguments[r],t.aliasTypeArguments[r]))return!1;return!0}return!1}return!(!e.intrinsicName||!t.intrinsicName)&&e.intrinsicName===t.intrinsicName}function Pt(e){if(!e)return!1;if(Ot(e))return!0;if(e.aliasSymbol)return e.aliasSymbol.escapedName===ue||e.aliasSymbol.escapedName===fe||m(ot[e.aliasSymbol.escapedName]);if(e.isIntersection()){const t=$t(e.getProperty(Me));if(t)return m(ot[t.replace(/\*$/g,"")])}return!1}function Kt(e){return!!e&&Ot(e)&&(e.aliasSymbol&&e.aliasTypeArguments&&Pt(e.aliasTypeArguments[0])||!e.symbol&&!e.aliasSymbol&&!Dt(e))}function Bt(e,t=!1){if(!e)return!1;if(e.symbol)return It(e.symbol);if(e.aliasSymbol)return e.aliasSymbol.escapedName===de||e.aliasSymbol.escapedName===ye;if(e.isIntersection()){var r,n,i;const o=$t(e.getProperty(ze));if(!t&&o&&o>0)return!1;const a=e.getProperty(Me);if(null!=a&&null!==(r=a.links)&&void 0!==r&&null!==(r=r.type)&&void 0!==r&&r.symbol)return Bt(a.links.type);if(null!=a&&null!==(n=a.links)&&void 0!==n&&null!==(n=n.type)&&void 0!==n&&n.aliasSymbol&&null!=a&&null!==(i=a.links)&&void 0!==i&&null!==(i=i.type)&&void 0!==i&&i.aliasTypeArguments&&(a.links.type.aliasSymbol.escapedName===de||a.links.type.aliasSymbol.escapedName===ye))return Bt(a.links.type.aliasTypeArguments[0]);if(e.getProperty(je))for(let t=0;t<e.types.length;t++)if(e.types[t].symbol&&It(e.types[t].symbol))return!0}return!1}function Ft(e){return!!e.aliasSymbol&&e.aliasSymbol.escapedName===ue}function _t(e){return!!e.aliasSymbol&&e.aliasSymbol.escapedName===fe}function Ot(e){if(!e)return!1;if(Ft(e)||_t(e))return!0;if(e.aliasSymbol)return e.aliasSymbol.escapedName===le;if(e.symbol)return e.symbol.escapedName===le;if(e.isIntersection()){const t=$t(e.getProperty(ze));if(null!=t)return t>0}return!1}function Dt(e){if(!e)return!1;if(Ot(e)){if(Ft(e)||_t(e))return!1;if(e.aliasSymbol&&e.aliasTypeArguments)return Bt(e.aliasTypeArguments[0]);if(!e.symbol&&!e.aliasSymbol&&e.isIntersection()){const t=$t(e.getProperty(ze));return!(t&&t>1)&&Bt(e,!0)}}return!1}function wt(e){if(e.aliasSymbol&&e.aliasTypeArguments){if(e.aliasSymbol.escapedName===de||e.aliasSymbol.escapedName===ye||e.aliasSymbol.escapedName===se||e.aliasSymbol.escapedName===le)return wt(e.aliasTypeArguments[0])}else{if(e.symbol)return Ct(e.symbol);if(e.isIntersection()){var t,r,n;const i=e.getProperty(Me);if(null!=i&&null!==(t=i.links)&&void 0!==t&&null!==(t=t.type)&&void 0!==t&&t.symbol)return wt(i.links.type);if(null!=i&&null!==(r=i.links)&&void 0!==r&&null!==(r=r.type)&&void 0!==r&&r.aliasSymbol&&null!=i&&null!==(n=i.links)&&void 0!==n&&null!==(n=n.type)&&void 0!==n&&n.aliasTypeArguments&&(i.links.type.aliasSymbol.escapedName===de||i.links.type.aliasSymbol.escapedName===ye))return wt(i.links.type.aliasTypeArguments[0]);if(e.getProperty(je))for(let t=0;t<e.types.length;t++)if(e.types[t].symbol&&It(e.types[t].symbol))return Ct(e.types[t].symbol)}}}function Mt(e){return Rt(e)>1?null:e.aliasSymbol&&e.aliasTypeArguments&&!Ot(e.aliasTypeArguments[0])&&wt(e.aliasTypeArguments[0])||!e.symbol&&!e.aliasSymbol&&wt(e)}function zt(e){if(e.aliasSymbol)return e.aliasSymbol.escapedName;if(e.isIntersection()){const t=$t(e.getProperty(Me));if(t)return/\*+$/.test(t)?it[20]:t}}function jt(e){if(Ot(e))return 20;const t=zt(e);return t?ot[t]:void 0}function qt(e){let t=e.aliasSymbol&&e.aliasTypeArguments&&jt(e.aliasTypeArguments[0]);if(!m(t)&&!e.symbol&&!e.aliasSymbol&&e.isIntersection()){if(Rt(e)>1)return 20;const t=$t(e.getProperty(Me));if(t)return/\*{2}$/.test(t)?20:ot[t.replace(/\**$/,"")]}return t}function Gt(e){if(Ot(e)){if(e.aliasSymbol&&e.aliasTypeArguments)return Gt(e.aliasTypeArguments[0]);{const t=$t(e.getProperty(Me));return t?ot[t.replace(/\**$/,"")]:wt(e)}}return Bt(e)?wt(e):Pt(e)?jt(e):void 0}function Rt(e){if(Ot(e)&&e.isIntersection()){const t=$t(e.getProperty(ze));if(t)return t}return 0}function $t(e){var t,r;if(e)return null!=e&&null!==(t=e.links)&&void 0!==t&&null!==(t=t.type)&&void 0!==t&&t.value?e.links.type.value:null!=e&&null!==(r=e.valueDeclaration)&&void 0!==r&&null!==(r=r.type)&&void 0!==r&&r.literal?e.valueDeclaration.type.literal.text:void 0}function Ut(e){return t().isBinaryExpression(e)&&e.operatorToken.kind===t().SyntaxKind.EqualsToken?Ut(e.right):e}function Vt(e){let t=Yt(e);for(;t&&t!==e;){if(Ot(Qe.typeChecker.getTypeAtLocation(t)))return!0;t=t.parent}return!!t&&!!Ot(Qe.typeChecker.getTypeAtLocation(t))}function Ht(e){if(t().isBinaryExpression(e)){const t=Qe.typeChecker.getTypeAtLocation(e.right);return Ot(t)?t:Ht(e.left)}return Qe.typeChecker.getTypeAtLocation(e)}function Wt(e){if(t().isBinaryExpression(e)&&e.operatorToken.kind===t().SyntaxKind.EqualsToken)return Wt(e.left)||Wt(e.right);let r=Qe.typeChecker.getTypeAtLocation(e);return!!Ot(r)||(r=Ht(e),!!Ot(r)||(t().isPropertyAccessExpression(e)?Vt(e):t().isElementAccessExpression(e)&&t().isPropertyAccessExpression(e.expression)?Vt(e.expression):!!t().isElementAccessExpression(e)&&Wt(e.expression)))}function Jt(e){return!(e.flags&t().NodeFlags.Synthesized)}function Zt(e){return t().isElementAccessExpression(e)&&Wt(e.expression)}function Yt(e){return t().isPropertyAccessExpression(e)||t().isCallExpression(e)||t().isElementAccessExpression(e)?Yt(e.expression):e}function Qt(e,r){const n=e.declarations;if(null!=n&&n.length)for(let e=0;e<n.length;e++){var i;const o=n[e];if((t().isFunctionDeclaration(o)||t().isMethodDeclaration(o))&&o.parameters&&null!==(i=o.parameters[r])&&void 0!==i&&i.initializer)return o.parameters[r].initializer}}function Xt(e,r){return t().visitNode(e,(function e(n){if(t().isParenthesizedExpression(n))return t().visitNode(n.expression,e);if(t().isPrefixUnaryExpression(n))return n.operator!==t().SyntaxKind.ExclamationToken||!t().visitNode(n.operand,e);if(t().isBinaryExpression(n)){const r=t().visitNode(n.left,e),i=t().visitNode(n.right,e);return n.operatorToken.kind===t().SyntaxKind.AmpersandAmpersandToken?r&&i:n.operatorToken.kind!==t().SyntaxKind.BarBarToken||r||i}{const e=t().visitNode(n,r);return e.kind===t().SyntaxKind.TrueKeyword||e.kind!==t().SyntaxKind.FalseKeyword&&(t().isNumericLiteral(e)?0!=+e.text:!t().isStringLiteral(e)||""!==e.text)}}))}function er(e,r){if(t().isBinaryExpression(e)&&e.operatorToken.kind===t().SyntaxKind.PlusToken&&(t().isNumericLiteral(e.right)||t().isNumericLiteral(e.left))&&t().isNumericLiteral(r)){if(t().isNumericLiteral(e.right))return Qe.context.factory.createBinaryExpression(e.left,t().SyntaxKind.PlusToken,Qe.context.factory.createNumericLiteral(+e.right.text+ +r.text));if(t().isNumericLiteral(e.left))return Qe.context.factory.createBinaryExpression(Qe.context.factory.createNumericLiteral(+e.left.text+ +r.text),t().SyntaxKind.PlusToken,e.right)}return Qe.context.factory.createBinaryExpression(e,t().SyntaxKind.PlusToken,r)}function tr(e){if(!e)return"";const r=Qe.typeChecker.getTypeAtLocation(e);if(r.aliasSymbol&&K(Xe,r.aliasSymbol.escapedName))return r.aliasSymbol.escapedName;if(t().isBinaryExpression(e)){const r=tr(e.left),n=tr(e.right);return K(tt,r)?r:K(tt,n)?n:K(rt,r)?e.operatorToken.kind===t().SyntaxKind.MinusToken?"int64":r:K(rt,n)?e.operatorToken.kind===t().SyntaxKind.MinusToken?"int64":n:e.operatorToken.kind===t().SyntaxKind.MinusToken?"int32":"uint32"}if(r.flags&t().TypeFlags.BigInt||r.flags&t().TypeFlags.BigIntLiteral){if(r.flags&t().TypeFlags.BigIntLiteral&&e.parent&&t().isPrefixUnaryExpression(e.parent)&&e.parent.operator===t().SyntaxKind.MinusToken)return"int64";if(r.flags&t().TypeFlags.BigInt&&t().isCallExpression(e)&&e.arguments[0]){const t=tr(e.arguments[0]);if(!K(nt,t))return"int64"}return"uint64"}if(r.flags&t().TypeFlags.Number||r.flags&t().TypeFlags.NumberLiteral){if(r.flags&t().TypeFlags.NumberLiteral){if((r.value+"").indexOf(".")>-1)return"double";if(e.parent&&t().isPrefixUnaryExpression(e.parent)&&e.parent.operator===t().SyntaxKind.MinusToken)return"int32";if(r.flags&t().TypeFlags.Number&&t().isCallExpression(e)&&e.arguments[0]){const t=tr(e.arguments[0]);if(!K(nt,t))return"int32"}return"uint32"}return"double"}if(r.isUnion())for(let e=0;e<r.types.length;e++)if(r.types[e].aliasSymbol&&K(Xe,r.types[e].aliasSymbol.escapedName))return r.types[e].aliasSymbol.escapedName;return""}function rr(e,r){var n;if(null!==(n=e.members)&&void 0!==n&&n.length)for(let n=0;n<e.members.length;n++)if(t().isMethodDeclaration(e.members[n])&&t().isIdentifier(e.members[n].name)&&e.members[n].name.escapedText===r)return e.members[n];if(e.heritageClauses)for(let n=0;n<e.heritageClauses.length;n++){const i=e.heritageClauses[n].types;for(let e=0;e<i.length;e++)if(t().isExpressionWithTypeArguments(i[e])){const n=Qe.typeChecker.getTypeAtLocation(i[e].expression);if(null!=n&&n.symbol&&n.symbol.valueDeclaration&&(t().isClassDeclaration(n.symbol.valueDeclaration)||t().isInterfaceDeclaration(n.symbol.valueDeclaration))){const e=rr(n.symbol.valueDeclaration,r);if(e)return e}}}}function nr(e){if(!e)return!1;if(e.modifiers)for(let r=0;r<e.modifiers.length;r++){const n=e.modifiers[r];if(t().isDecorator(n)&&t().isIdentifier(n.expression)&&n.expression.escapedText===Ae)return!0}if(e.name&&t().isIdentifier(e.name)&&t().isClassDeclaration(e.parent)&&e.parent.heritageClauses)for(let r=0;r<e.parent.heritageClauses.length;r++)for(let r=0;r<e.parent.heritageClauses.length;r++){const n=e.parent.heritageClauses[r].types;for(let r=0;r<n.length;r++)if(t().isExpressionWithTypeArguments(n[r])){const i=Qe.typeChecker.getTypeAtLocation(n[r].expression);if(null!=i&&i.symbol&&i.symbol.valueDeclaration&&(t().isClassDeclaration(i.symbol.valueDeclaration)||t().isInterfaceDeclaration(i.symbol.valueDeclaration))){const t=rr(i.symbol.valueDeclaration,e.name.escapedText);if(t)return nr(t)}}}return!1}function ir(e,t){const r=L().relative(L().dirname(e),t);return/\.\.\//.test(r)?r:"./"+r}function or(e){const t=Qe.addIdentifierImport(V,X,!0),r=Qe.addSymbolImport(W),n=Qe.addSymbolImport(J),i=Qe.addSymbolImport(Z),o=Qe.addSymbolImport(Y),a=[];return a.push(Qe.context.factory.createVariableStatement(void 0,Qe.context.factory.createVariableDeclarationList([Qe.context.factory.createVariableDeclaration(Qe.context.factory.createIdentifier("map"),void 0,void 0,Qe.context.factory.createNewExpression(Qe.context.factory.createIdentifier("Map"),void 0,[]))]))),e.meta.forEach(((e,t)=>{let r;if(d(e.getTypeMeta))if(e.typeIdentifier){var n;const t=null===(n=e.getTypeMeta())||void 0===n?void 0:n.symbol.valueDeclaration.getSourceFile();var i;r=t&&t!==Qe.currentFile?Qe.addIdentifierImport(e.typeIdentifier,ir(Qe.currentFile.fileName,t.fileName),!(null!==(i=Qe.typeChecker.getSymbolAtLocation(t).exports)&&void 0!==i&&i.has(e.typeIdentifier))):Qe.context.factory.createIdentifier(function(e){if(!Qe.hasStruct(e)){const{formatName:t}=Qe.addDeclaration(e);return t}return e}(e.typeIdentifier))}else{const t=e.getTypeMeta();if(!t||t.structType!==Et.INLINE_OBJECT)return!0;{const e=or(t);e.push(Qe.context.factory.createReturnStatement(Qe.context.factory.createIdentifier(ge))),r=Qe.context.factory.createCallExpression(Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createFunctionExpression(void 0,void 0,void 0,void 0,[Qe.context.factory.createParameterDeclaration(void 0,void 0,Qe.context.factory.createIdentifier(ge))],void 0,Qe.context.factory.createBlock(e,!0))),void 0,[Qe.context.factory.createObjectLiteralExpression()])}}else r=Qe.context.factory.createNumericLiteral(e[0]);a.push(Qe.context.factory.createExpressionStatement(Qe.context.factory.createCallExpression(Qe.context.factory.createPropertyAccessExpression(Qe.context.factory.createIdentifier("map"),Qe.context.factory.createIdentifier("set")),void 0,[Qe.context.factory.createStringLiteral(t),Qe.context.factory.createObjectLiteralExpression([Qe.context.factory.createPropertyAssignment(Qe.context.factory.createNumericLiteral(0),r),Qe.context.factory.createPropertyAssignment(Qe.context.factory.createNumericLiteral(1),Qe.context.factory.createNumericLiteral(e[1])),Qe.context.factory.createPropertyAssignment(Qe.context.factory.createNumericLiteral(2),Qe.context.factory.createNumericLiteral(e[2])),Qe.context.factory.createPropertyAssignment(Qe.context.factory.createNumericLiteral(3),Qe.context.factory.createNumericLiteral(e[3])),Qe.context.factory.createPropertyAssignment(Qe.context.factory.createNumericLiteral(4),Qe.context.factory.createNumericLiteral(e[4])),Qe.context.factory.createPropertyAssignment(Qe.context.factory.createNumericLiteral(5),Qe.context.factory.createNumericLiteral(e[5])),Qe.context.factory.createPropertyAssignment(Qe.context.factory.createNumericLiteral(6),Qe.context.factory.createNumericLiteral(e[6])),Qe.context.factory.createPropertyAssignment(Qe.context.factory.createNumericLiteral(7),Qe.context.factory.createNumericLiteral(e[7])),Qe.context.factory.createPropertyAssignment(Qe.context.factory.createNumericLiteral(8),Qe.context.factory.createNumericLiteral(e[8]))])])))})),a.push(Qe.context.factory.createExpressionStatement(Qe.context.factory.createCallExpression(t,void 0,[Qe.context.factory.createIdentifier(ge),r,Qe.context.factory.createTrue()]))),a.push(Qe.context.factory.createExpressionStatement(Qe.context.factory.createCallExpression(t,void 0,[Qe.context.factory.createIdentifier(ge),n,Qe.context.factory.createNumericLiteral(e.maxBaseTypeByteLength)]))),a.push(Qe.context.factory.createExpressionStatement(Qe.context.factory.createCallExpression(t,void 0,[Qe.context.factory.createIdentifier(ge),i,Qe.context.factory.createNumericLiteral(e.length)]))),a.push(Qe.context.factory.createExpressionStatement(Qe.context.factory.createCallExpression(t,void 0,[Qe.context.factory.createIdentifier(ge),o,Qe.context.factory.createIdentifier("map")]))),a}function ar(e){return t().isParenthesizedExpression(e)?t().visitNode(e.expression,ar):t().isPrefixUnaryExpression(e)?t().visitNode(e.operand,ar):t().isBinaryExpression(e)?!!t().visitNode(e.left,ar)&&t().visitNode(e.right,ar):!!(t().isCallExpression(e)&&t().isIdentifier(e.expression)&&e.expression.escapedText===xe||e.kind===t().SyntaxKind.TrueKeyword||e.kind===t().SyntaxKind.FalseKeyword)}function sr(e){return t().isParenthesizedExpression(e)?t().visitNode(e.expression,sr):t().isPrefixUnaryExpression(e)?t().visitNode(e.operand,sr):t().isBinaryExpression(e)?t().visitNode(e.left,sr)||t().visitNode(e.right,sr):!(!t().isCallExpression(e)||!t().isIdentifier(e.expression)||e.expression.escapedText!==xe)}function cr(e,r,n,i=9e3){const o=t().formatDiagnostic({file:e,start:r.pos>-1?r.getStart():0,length:r.pos>-1?r.end-r.getStart():0,category:t().DiagnosticCategory.Error,code:i,messageText:n},{getCurrentDirectory:t().sys.getCurrentDirectory,getCanonicalFileName:function(e){return e},getNewLine:function(){return t().sys.newLine}});if(Qe.options.reportError){const t=e.getLineAndCharacterOfPosition(r.getStart()),n=e.getLineAndCharacterOfPosition(r.getEnd());Qe.options.reportError({file:e.fileName,loc:{start:{line:t.line+1,column:t.character+1},end:{line:n.line+1,column:n.character+1}},code:i,message:o})}else console.error(o)}function lr(e,t){return e!=s&&e.toString?e.toString():t!==c?t:y}function ur(e,t){let r=e.meta.get(t);if(r)return r;let n=e.parent;for(;n;){if(r=n.meta.get(t),r)return r;n=e.parent}return null}function pr(e,r){if(e===qe||e===Ge){const{line:e}=t().getLineAndCharacterOfPosition(Qe.currentFile,r.getStart());return Qe.context.factory.createNumericLiteral(e+1)}if(e===Re||e===$e){const{formatName:e}=Qe.addModuleDeclaration("fileName",Qe.context.factory.createStringLiteral(Qe.currentFilePath));return Qe.context.factory.createIdentifier(e)}if(dt(Qe.cheapCompilerOptions.defined[e])){const t=Qe.cheapCompilerOptions.defined[e];if(function(e){return"boolean"==typeof e}(t))return t?Qe.context.factory.createTrue():Qe.context.factory.createFalse();if(m(t))return Qe.context.factory.createNumericLiteral(t);if(function(e){return"string"==typeof e}(t))return Qe.context.factory.createStringLiteral(t);if(r)return cr(Qe.currentFile,r,`the type(${typeof t}) of defined not support`),r}else if(r)return cr(Qe.currentFile,r,`cannot found the defined(${e})`),r}function fr(e,r,n){if(t().isTypeReferenceNode(r))if(t().isIdentifier(r.typeName)&&r.typeName.symbol){const n=Qe.typeChecker.getTypeOfSymbol(r.typeName.symbol);if(Pt(n))e.push(Qe.context.factory.createNumericLiteral(jt(n)));else if(n.aliasSymbol){const t=n.aliasSymbol.escapedName;e.push(Qe.context.factory.createIdentifier(t))}else if(n.symbol&&n.symbol.valueDeclaration&&t().isClassDeclaration(n.symbol.valueDeclaration)){var i;let t;const r=null===(i=n.symbol.valueDeclaration)||void 0===i?void 0:i.getSourceFile();var o;t=r!==Qe.currentFile?Qe.addIdentifierImport(n.symbol.escapedName,ir(Qe.currentFile.fileName,r.fileName),!(null!==(o=Qe.typeChecker.getSymbolAtLocation(r).exports)&&void 0!==o&&o.has(n.symbol.escapedName))):Qe.context.factory.createIdentifier(n.symbol.escapedName),e.push(t)}else e.push(Qe.context.factory.createIdentifier(n.symbol.escapedName))}else e.push(Qe.context.factory.createIdentifier("undefined"));else if(t().isLiteralTypeNode(r))if(t().isNumericLiteral(r.literal))e.push(Qe.context.factory.createNumericLiteral(+r.literal.text));else if(t().isStringLiteral(r.literal))if(/^defined\(([a-zA-Z_$][a-zA-Z0-9_$]*)\)$/.test(r.literal.text)){const t=pr(r.literal.text.match(/^defined\(([a-zA-Z_$][a-zA-Z0-9_$]*)\)$/)[1],n);t?e.push(t):e.push(Qe.context.factory.createIdentifier("undefined"))}else if(/^moduleId\(([0-9]+)\)$/.test(r.literal.text)){const i=+r.literal.text.match(/^moduleId\(([0-9]+)\)$/)[1],o=n.arguments[i];if(o){var a;const i=null===(a=Qe.typeChecker.getTypeAtLocation(o).symbol.valueDeclaration)||void 0===a?void 0:a.getSourceFile();if(i){var s;const o=Qe.typeChecker.getTypeAtLocation(n.expression),a=null==o||null===(s=o.symbol)||void 0===s||null===(s=s.valueDeclaration)||void 0===s?void 0:s.getSourceFile().fileName;if(Qe.cheapCompilerOptions.defined.ENABLE_THREADS&&Qe.cheapCompilerOptions.defined.ENABLE_THREADS_SPLIT&&a.indexOf(ae)>=0&&(o.symbol.escapedName===ne||o.symbol.escapedName===ie||o.symbol.escapedName===oe)){const a=o.symbol.escapedName===ne?"class":o.symbol.escapedName===oe?"module":"function";let s=t().isIdentifier(n.arguments[0])?n.arguments[0].escapedText:t().isPropertyAccessExpression(n.arguments[0])?n.arguments[0].name.escapedText:"unknown";if("class"===a||"function"===a){var c;let e;if(t().isIdentifier(n.arguments[0])?e=Qe.typeChecker.getTypeAtLocation(n.arguments[0]):t().isPropertyAccessExpression(n.arguments[0])&&(e=Qe.typeChecker.getTypeAtLocation(n.arguments[0].name)),null!==(c=e)&&void 0!==c&&null!==(c=c.symbol)&&void 0!==c&&c.valueDeclaration)if(t().isClassDeclaration(e.symbol.valueDeclaration)){if(!e.symbol.valueDeclaration.name)return cr(Qe.currentFile,r,"The thread class must have a class name"),r;s=e.symbol.valueDeclaration.name.escapedText}else if(t().isFunctionDeclaration(e.symbol.valueDeclaration)){if(!e.symbol.valueDeclaration.name)return cr(Qe.currentFile,r,"The thread function must has a function name"),r;s=e.symbol.valueDeclaration.name.escapedText}}let l=`${s}Thread`;n.arguments[1]&&t().isObjectLiteralExpression(n.arguments[1])&&n.arguments[1].properties.forEach((e=>{if(t().isPropertyAssignment(e)&&t().isIdentifier(e.name)&&"name"===e.name.escapedText){let t=e.initializer.getText();t&&(t=t.replace(/^['|"]/,""),t=t.replace(/['|"]$/,""),t&&(l=t))}}));const u=`cheap-worker-loader?type=${a}&point=${s}&name=${l}`,p=Qe.addIdentifierImport("worker",`${u}!${ir(Qe.currentFile.fileName,i.fileName)}`,!0);e.push(Qe.context.factory.createNewExpression(p,void 0,[]))}else e.push(Qe.context.factory.createCallExpression(Qe.context.factory.createPropertyAccessExpression(Qe.context.factory.createIdentifier("require"),Qe.context.factory.createIdentifier("resolve")),void 0,[Qe.context.factory.createStringLiteral(ir(Qe.currentFile.fileName,i.fileName))]))}}}else{let i=r.literal.text.replace(/defined\(([a-zA-Z_$][a-zA-Z0-9_$]*)\)/g,((e,r)=>function(e,r){if(e===qe||e===Ge){const{line:e}=t().getLineAndCharacterOfPosition(Qe.currentFile,r.getStart());return lr(e+1)}return e===Re||e===$e?Qe.currentFilePath:dt(Qe.cheapCompilerOptions.defined[e])?lr(Qe.cheapCompilerOptions.defined[e],""):""}(r,n)));e.push(Qe.context.factory.createStringLiteral(i))}else r.literal.kind===t().SyntaxKind.TrueKeyword?e.push(Qe.context.factory.createTrue()):r.literal.kind===t().SyntaxKind.FalseKeyword&&e.push(Qe.context.factory.createFalse())}function yr(e,t){var r;const n=t;let i=n.symbol,o="";n.structType===Et.INLINE_OBJECT&&(i=n.definedClassParent.symbol,o=n.definedClassParent.inlineStructPathMap.get(n.symbol));const a=null===(r=i.valueDeclaration)||void 0===r?void 0:r.getSourceFile();if(a){let t;var s;t=a!==Qe.currentFile?Qe.addIdentifierImport(i.escapedName,ir(Qe.currentFile.fileName,a.fileName),!(null!==(s=Qe.typeChecker.getSymbolAtLocation(a).exports)&&void 0!==s&&s.has(i.escapedName))):Qe.context.factory.createIdentifier(i.escapedName);const r=[e,t];return o&&r.push(Qe.context.factory.createStringLiteral(o)),Qe.context.factory.createCallExpression(Qe.addIdentifierImport(R,re,!0),void 0,r)}}function dr(e){if(Bt(e)){const t=wt(e);if(t)return t.length}else{if(Pt(e))return lt[jt(e)];if(e.aliasSymbol){var t,r;const n=e.aliasSymbol.escapedName;if(n===se&&null!==(t=e.aliasTypeArguments[1])&&void 0!==t&&t.isNumberLiteral())return dr(e.aliasTypeArguments[0])*e.aliasTypeArguments[1].value;if(n===ce&&null!==(r=e.aliasTypeArguments[1])&&void 0!==r&&r.isNumberLiteral())return e.aliasTypeArguments[1].value}}return 0}function xr(e,r){let n="";t().isIdentifier(e.expression)?n=e.expression.escapedText:t().isPropertyAccessExpression(e.expression)&&(n=e.expression.name.escapedText);const i=Qe.typeChecker.getResolvedSignature(e),o=null==i?void 0:i.getDeclaration();if(o&&function(e){if(!e)return!1;for(let t=0;t<e.length;t++)if(e[t].name.escapedText===me)return!0;return!1}(o.typeParameters)){const n=Qe.typeChecker.signatureToSignatureDeclaration(i,t().SyntaxKind.CallSignature,function(e,r){if(null==e||Jt(e))return e;for(e=t().getOriginalNode(e);e;){if(Jt(e))return e;e=t().getOriginalNode(e)}}(function(e){for(function(e){return e.kind===t().SyntaxKind.JSDocTypedefTag||e.kind===t().SyntaxKind.JSDocCallbackTag||e.kind===t().SyntaxKind.JSDocEnumTag}(e)&&(e=e.parent.parent);;){if(!(e=e.parent))return;switch(e.kind){case t().SyntaxKind.SourceFile:case t().SyntaxKind.MethodDeclaration:case t().SyntaxKind.MethodSignature:case t().SyntaxKind.FunctionDeclaration:case t().SyntaxKind.FunctionExpression:case t().SyntaxKind.GetAccessor:case t().SyntaxKind.SetAccessor:case t().SyntaxKind.ClassDeclaration:case t().SyntaxKind.InterfaceDeclaration:case t().SyntaxKind.EnumDeclaration:case t().SyntaxKind.ModuleDeclaration:return e}}}(e)),t().NodeBuilderFlags.WriteTypeArgumentsOfSignature|t().NodeBuilderFlags.IgnoreErrors|t().NodeBuilderFlags.WriteTypeParametersInQualifiedName|t().NodeBuilderFlags.UseAliasDefinedOutsideCurrentScope|t().NodeBuilderFlags.MultilineObjectLiterals|t().NodeBuilderFlags.OmitParameterModifiers);if(null!=n&&n.typeArguments){const i=function(e,t){let r=-1;for(let t=0;t<e.length;t++)if(e[t].name.escapedText===me){r=t;break}if(r>-1)return t[r]}(o.typeParameters,n.typeArguments);if(i&&function(e,r,n){for(let i=0;i<e.length;i++){const o=e[i];if(o.name.escapedText===he&&o.default){const e=[];if(fr(e,r[i],n),e[0].kind===t().SyntaxKind.FalseKeyword||t().isStringLiteral(e[0])&&""===e[0].text||t().isNumericLiteral(e[0])&&"0"===e[0].text)return!1;break}}return!0}(o.typeParameters,n.typeArguments,e)){var a;const n=[];let c=((null===(a=o.parameters)||void 0===a?void 0:a.length)||0)-e.arguments.length;for(;c>0;){var s;n.push(null!==(s=Qt(Qe.typeChecker.getSymbolAtLocation(o.name),e.arguments.length+n.length))&&void 0!==s?s:Qe.context.factory.createIdentifier("undefined")),c--}return t().isTupleTypeNode(i)?i.elements.forEach((t=>{c<0?c++:fr(n,t,e)})):c<0?c++:fr(n,i,e),t().visitNode(Qe.context.factory.createCallExpression(e.expression,void 0,[...e.arguments,...n]),r)}}}if(t().isIdentifier(e.expression))if(n!==w||Qe.lookupFunc(w)){if(n===O&&!Qe.lookupFunc(O)){const n=e.arguments[0];if(t().isCallExpression(n)&&(t().isIdentifier(n.expression)&&n.expression.escapedText===_||t().isElementAccessExpression(n.expression)&&t().isIdentifier(n.expression.expression)&&Qe.isIdentifier(n.expression.expression.escapedText,U)||t().isIdentifier(n.expression)&&Qe.isIdentifier(n.expression.escapedText,R)))return t().visitNode(n.arguments[0],r);var c;if(t().isIdentifier(n))return It(null===(c=Qe.typeChecker.getTypeAtLocation(n))||void 0===c?void 0:c.symbol)?Qe.context.factory.createElementAccessExpression(t().visitNode(n,r),Qe.addSymbolImport(H)):(cr(Qe.currentFile,n,"addressof only support with struct instance Identifier"),e);if(t().isPropertyAccessExpression(n)||t().isCallExpression(n)&&function(e){return!!t().isPropertyAccessExpression(e.expression)&&(Ot(Qe.typeChecker.getTypeAtLocation(e.expression.expression))&&e.expression.name.escapedText===q)}(n)||t().isElementAccessExpression(n)&&Ot(Qe.typeChecker.getTypeAtLocation(n.expression))){const i=t().visitNode(n,r);if(t().isCallExpression(i)&&(t().isIdentifier(i.expression)&&Qe.isIdentifier(i.expression.escapedText,R)||t().isPropertyAccessExpression(i.expression)&&Qe.isIdentifier(i.expression.name.escapedText,R)))return i.arguments[0];if(t().isCallExpression(i)&&t().isElementAccessExpression(i.expression)&&(t().isIdentifier(i.expression.expression)&&Qe.isIdentifier(i.expression.expression.escapedText,U)||t().isPropertyAccessExpression(i.expression.expression)&&Qe.isIdentifier(i.expression.expression.name.escapedText,U)))return i.arguments[0];if(t().isPropertyAccessExpression(i)){let r=Qe.typeChecker.getTypeAtLocation(n.expression),o=wt(r);if(!o)return r=Qe.typeChecker.getTypeAtLocation(n),o=wt(r),o?Qe.context.factory.createElementAccessExpression(i,Qe.addSymbolImport(H)):(cr(Qe.currentFile,n,"addressof only support with struct instance or struct property"),e);const a=ur(o,i.name.escapedText);return a?a[5]?(cr(Qe.currentFile,n,"addressof not support with bit field property"),e):a[7]?Qe.context.factory.createBinaryExpression(Qe.context.factory.createElementAccessExpression(i.expression,Qe.addSymbolImport(H)),t().SyntaxKind.PlusToken,Qe.context.factory.createNumericLiteral(a[7])):Qe.context.factory.createElementAccessExpression(i.expression,Qe.addSymbolImport(H)):(cr(Qe.currentFile,e,`struct ${o.symbol.escapedName} not has property ${i.name.escapedText}`),e)}return cr(Qe.currentFile,n,"invalid operation"),e}if(t().isElementAccessExpression(n)){const i=t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier(O),void 0,[n.expression]),r);let o,a=0;const s=Qe.typeChecker.getTypeAtLocation(n);return Pt(s)?a=lt[jt(s)]:Bt(s)?a=wt(s).length:function(e){var t;return e.aliasSymbol&&e.aliasSymbol.escapedName===se&&(null===(t=e.aliasTypeArguments[1])||void 0===t?void 0:t.isNumberLiteral())}(s)&&(a=dr(s.aliasTypeArguments[0])*s.aliasTypeArguments[1].value),a?(t().isNumericLiteral(n.argumentExpression)?+n.argumentExpression.text&&(o=Qe.context.factory.createNumericLiteral(+n.argumentExpression.text*a)):o=Qe.context.factory.createBinaryExpression(t().visitNode(n.argumentExpression,r),t().SyntaxKind.AsteriskToken,Qe.context.factory.createNumericLiteral(a)),Qe.context.factory.createBinaryExpression(i,t().SyntaxKind.PlusToken,o)):(cr(Qe.currentFile,n,"type mismatch"),e)}{const i=Qe.typeChecker.getTypeAtLocation(n);return i.symbol&&It(i.symbol)?Qe.context.factory.createElementAccessExpression(t().visitNode(n,r),Qe.addSymbolImport(H)):(cr(Qe.currentFile,n,"addressof only support in related to struct"),e)}}if(n===_&&!Qe.lookupFunc(_)&&Wt(e.arguments[0])){const n=e.arguments[0];if(t().isCallExpression(n)&&t().isIdentifier(n.expression)&&n.expression.escapedText===O)return t().visitNode(n.arguments[0],r);const i=Ht(n);if(Ot(i)){const o=t().visitNode(n,r);return Dt(i)?yr(o,Mt(i)):Kt(i)?Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport(U),qt(i)),void 0,[o]):(cr(Qe.currentFile,e,"accessof only support in cheap builtin type or struct type"),e)}return cr(Qe.currentFile,e,`the type of ${n.getText()} is not pointer`),e}if(n===z&&!Qe.lookupFunc(z)){var l;const n=t().visitNode(e.arguments[0],r);let i=tr(e.arguments[0]);const o=e.typeArguments[0]&&(null===(l=Qe.typeChecker.getTypeAtLocation(e.typeArguments[0]))||void 0===l||null===(l=l.aliasSymbol)||void 0===l?void 0:l.escapedName)||"",a=Qe.typeChecker.getTypeAtLocation(e.arguments[0]);if(K(nt,i)&&(a.flags&t().TypeFlags.BigIntLiteral||a.flags&t().TypeFlags.NumberLiteral)&&lt[ot[o]]===lt[ot[i]]&&(i=o),K(at,o)){let e=n;if(K(tt,i))e=Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(Qe.context.factory.createParenthesizedExpression(n),t().SyntaxKind.GreaterThanGreaterThanToken,Qe.context.factory.createNumericLiteral(0))),i="int32";else if(K(rt,i)){let r=8*lt[ot[o]];e=Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier("Number"),void 0,[Qe.context.factory.createBinaryExpression(n,t().SyntaxKind.AmpersandToken,Qe.context.factory.createBigIntLiteral(`0x${new Array(r>>>2).fill("f").join("")}n`))]),i=`uint${r}`}return lt[ot[i]]>1&&1===lt[ot[o]]?(e=Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(e,t().SyntaxKind.AmpersandToken,Qe.context.factory.createNumericLiteral("0xff",t().TokenFlags.HexSpecifier))),i="uint8"):lt[ot[i]]>2&&2===lt[ot[o]]&&(e=Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(e,t().SyntaxKind.AmpersandToken,Qe.context.factory.createNumericLiteral("0xffff",t().TokenFlags.HexSpecifier))),i="uint16"),K(nt,i)&&!K(nt,o)?e=1===lt[ot[o]]?Qe.context.factory.createConditionalExpression(Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(e,t().SyntaxKind.AmpersandToken,Qe.context.factory.createNumericLiteral("0x80",t().TokenFlags.HexSpecifier))),Qe.context.factory.createToken(t().SyntaxKind.QuestionToken),Qe.context.factory.createPrefixUnaryExpression(t().SyntaxKind.MinusToken,Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(Qe.context.factory.createNumericLiteral("0x100",t().TokenFlags.HexSpecifier),t().SyntaxKind.MinusToken,e))),Qe.context.factory.createToken(t().SyntaxKind.ColonToken),e):2===lt[ot[o]]?Qe.context.factory.createConditionalExpression(Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(e,t().SyntaxKind.AmpersandToken,Qe.context.factory.createNumericLiteral("0x80000",t().TokenFlags.HexSpecifier))),Qe.context.factory.createToken(t().SyntaxKind.QuestionToken),Qe.context.factory.createPrefixUnaryExpression(t().SyntaxKind.MinusToken,Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(Qe.context.factory.createNumericLiteral("0x10000",t().TokenFlags.HexSpecifier),t().SyntaxKind.MinusToken,e))),Qe.context.factory.createToken(t().SyntaxKind.ColonToken),e):Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(e,t().SyntaxKind.GreaterThanGreaterThanToken,Qe.context.factory.createNumericLiteral(0))):!K(nt,i)&&K(nt,o)&&(e=1===lt[ot[o]]?Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(e,t().SyntaxKind.AmpersandToken,Qe.context.factory.createNumericLiteral("0xff",t().TokenFlags.HexSpecifier))):2===lt[ot[o]]?Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(e,t().SyntaxKind.AmpersandToken,Qe.context.factory.createNumericLiteral("0xffff",t().TokenFlags.HexSpecifier))):Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(e,t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken,Qe.context.factory.createNumericLiteral(0)))),t().isBinaryExpression(e)&&(e=Qe.context.factory.createParenthesizedExpression(e)),e}if(K(rt,o)){let e=n;const r=lt[ot[i]];return K(tt,i)&&(e=Qe.context.factory.createCallExpression(Qe.context.factory.createPropertyAccessExpression(Qe.context.factory.createIdentifier("Math"),Qe.context.factory.createIdentifier("floor")),void 0,[e]),e=Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier("BigInt"),void 0,[e]),i="int64"),K(at,i)&&(K(nt,i)||(e=Qe.context.factory.createBinaryExpression(e,t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken,Qe.context.factory.createNumericLiteral(0))),e=Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier("BigInt"),void 0,[e]),i="uint64"),K(nt,i)&&!K(nt,o)&&8===r?e=Qe.context.factory.createCallExpression(Qe.context.factory.createPropertyAccessExpression(Qe.context.factory.createIdentifier("BigInt"),Qe.context.factory.createIdentifier("asIntN")),void 0,[Qe.context.factory.createNumericLiteral(64),e]):!K(nt,i)&&K(nt,o)&&(e=Qe.context.factory.createCallExpression(Qe.context.factory.createPropertyAccessExpression(Qe.context.factory.createIdentifier("BigInt"),Qe.context.factory.createIdentifier("asUintN")),void 0,[Qe.context.factory.createNumericLiteral(64),e])),t().isBinaryExpression(e)&&(e=Qe.context.factory.createParenthesizedExpression(e)),e}if(K(tt,o)){let e=n;return K(rt,i)&&(e=Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier("Number"),void 0,[e])),t().isBinaryExpression(e)&&(e=Qe.context.factory.createParenthesizedExpression(e)),e}return Qe.context.factory.createParenthesizedExpression(n)}if(n===G&&!Qe.lookupFunc(G))return t().visitNode(e.arguments[0],r);if(n===xe&&!Qe.lookupFunc(xe)&&1===e.arguments.length&&t().isIdentifier(e.arguments[0]))return pr(e.arguments[0].escapedText,e);if(n===M&&!Qe.lookupFunc(M))return t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier(O),void 0,e.arguments),r);if(n===Le&&!Qe.lookupFunc(Le))return t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createPropertyAccessExpression(Qe.addIdentifierImport(_e,Oe,!1),Qe.context.factory.createIdentifier(Le)),void 0,e.arguments),r);if(n===Pe&&!Qe.lookupFunc(Pe))return t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createPropertyAccessExpression(Qe.addIdentifierImport(_e,Oe,!1),Qe.context.factory.createIdentifier(Pe)),void 0,e.arguments),r);if(n===Ke&&!Qe.lookupFunc(Ke))return t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createPropertyAccessExpression(Qe.addIdentifierImport(_e,Oe,!1),Qe.context.factory.createIdentifier(Ke)),void 0,e.arguments),r);if(n===Be&&!Qe.lookupFunc(Be))return t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createPropertyAccessExpression(Qe.addIdentifierImport(_e,Oe,!1),Qe.context.factory.createIdentifier("alignedAlloc")),void 0,e.arguments),r);if(n===Fe&&!Qe.lookupFunc(Fe))return t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createPropertyAccessExpression(Qe.addIdentifierImport(_e,Oe,!1),Qe.context.factory.createIdentifier(Fe)),void 0,e.arguments),r);if(n===Ce&&!Qe.lookupFunc(Ce))return Qe.context.factory.createCallExpression(Qe.addIdentifierImport(Ce,De,!0),void 0,e.arguments);if(n===Ie&&!Qe.lookupFunc(Ie))return Qe.context.factory.createCallExpression(Qe.addIdentifierImport(Ie,we,!0),void 0,e.arguments)}else{const t=e.arguments[0];let r=Qe.typeChecker.getTypeAtLocation(t);if(r){const t=dr(r);return t?Qe.context.factory.createNumericLiteral(t):Qe.context.factory.createCallExpression(Qe.addIdentifierImport(w,Q,!0),void 0,e.arguments)}}else if(t().isPropertyAccessExpression(e.expression)&&n===q){const n=Qe.typeChecker.getTypeAtLocation(e.expression.expression);if(Ot(n)&&e.arguments[0]){let i=t().visitNode(e.expression.expression,r);if(Dt(n)){const o=Mt(n);if(o){let n=null;return t().isNumericLiteral(e.arguments[0])?+e.arguments[0].text&&(n=Qe.context.factory.createNumericLiteral(+e.arguments[0].text*o.length)):n=Qe.context.factory.createBinaryExpression(t().visitNode(e.arguments[0],r),t().SyntaxKind.AsteriskToken,Qe.context.factory.createNumericLiteral(o.length)),i=n?Qe.context.factory.createBinaryExpression(i,t().SyntaxKind.PlusToken,n):i,yr(i,o)}}else if(Kt(n)){const o=qt(n),a=lt[o];if(a){let n=null;return t().isNumericLiteral(e.arguments[0])?+e.arguments[0].text&&(n=Qe.context.factory.createNumericLiteral(+e.arguments[0].text*a)):n=Qe.context.factory.createBinaryExpression(t().visitNode(e.arguments[0],r),t().SyntaxKind.AsteriskToken,Qe.context.factory.createNumericLiteral(a)),i=n?Qe.context.factory.createBinaryExpression(i,t().SyntaxKind.PlusToken,n):i,function(e,t){return Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport(U),t),void 0,[e])}(i,o)}}}}return t().visitEachChild(e,r,Qe.context)}function mr(e,r,n){let i=!1;n===t().SyntaxKind.EqualsToken&&(Qe.pushStage(He.EqualLeft),i=!0);const o=t().visitNode(e,r);return i&&Qe.popStage(),o}function hr(e,r,n){let i=!1;n===t().SyntaxKind.EqualsToken&&(Qe.pushStage(He.EqualRight),i=!0);const o=t().visitNode(e,r);return i&&Qe.popStage(),o}function gr(e,r,n){if(n[5]){let i=0,o=8*lt[n[0]];for(let e=0;e<n[6];e++)i|=1<<o-1-(e+n[8]);let a=Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport(U),n[0]),void 0,[e]);const s=Math.pow(2,n[6])-1,c=o-n[8]-n[6];r=Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(r,t().SyntaxKind.AmpersandToken,Qe.context.factory.createNumericLiteral(s))),r=Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(r,t().SyntaxKind.LessThanLessThanToken,Qe.context.factory.createNumericLiteral(c))),a=Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(a,t().SyntaxKind.AmpersandToken,Qe.context.factory.createPrefixUnaryExpression(t().SyntaxKind.TildeToken,Qe.context.factory.createNumericLiteral(i)))),r=Qe.context.factory.createBinaryExpression(a,t().SyntaxKind.BarToken,r)}return Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport($),n[1]?20:n[0]),void 0,[e,r])}function vr(e,r){if(e.operatorToken.kind===t().SyntaxKind.EqualsToken&&t().isBinaryExpression(e.right)&&e.right.operatorToken.kind===t().SyntaxKind.EqualsToken&&(Wt(e.right)||Wt(e.left))){const n=Ut(e);let i=Qe.context.factory.createBinaryExpression(e.left,t().SyntaxKind.EqualsToken,n),o=e.right;for(;o&&t().isBinaryExpression(o)&&o.operatorToken.kind===t().SyntaxKind.EqualsToken;)i=Qe.context.factory.createBinaryExpression(i,t().SyntaxKind.CommaToken,Qe.context.factory.createBinaryExpression(o.left,t().SyntaxKind.EqualsToken,n)),o=o.right;return t().visitEachChild(i,r,Qe.context)}if(Wt(e.left)&&((i=e.operatorToken.kind)===t().SyntaxKind.PlusEqualsToken||i===t().SyntaxKind.MinusEqualsToken||i===t().SyntaxKind.AsteriskEqualsToken||i===t().SyntaxKind.AsteriskAsteriskEqualsToken||i===t().SyntaxKind.SlashEqualsToken||i===t().SyntaxKind.PercentEqualsToken||i===t().SyntaxKind.LessThanLessThanEqualsToken||i===t().SyntaxKind.GreaterThanGreaterThanEqualsToken||i===t().SyntaxKind.GreaterThanGreaterThanGreaterThanEqualsToken||i===t().SyntaxKind.AmpersandEqualsToken||i===t().SyntaxKind.BarEqualsToken||i===t().SyntaxKind.CaretEqualsToken))return t().visitNode(Qe.context.factory.createBinaryExpression(e.left,t().SyntaxKind.EqualsToken,Qe.context.factory.createBinaryExpression(e.left,function(e){switch(e){case t().SyntaxKind.PlusEqualsToken:return t().SyntaxKind.PlusToken;case t().SyntaxKind.MinusEqualsToken:return t().SyntaxKind.MinusToken;case t().SyntaxKind.AsteriskEqualsToken:return t().SyntaxKind.AsteriskToken;case t().SyntaxKind.AsteriskAsteriskEqualsToken:return t().SyntaxKind.AsteriskAsteriskToken;case t().SyntaxKind.SlashEqualsToken:return t().SyntaxKind.SlashToken;case t().SyntaxKind.PercentEqualsToken:return t().SyntaxKind.PercentToken;case t().SyntaxKind.LessThanLessThanEqualsToken:return t().SyntaxKind.LessThanLessThanToken;case t().SyntaxKind.GreaterThanGreaterThanEqualsToken:return t().SyntaxKind.GreaterThanGreaterThanToken;case t().SyntaxKind.GreaterThanGreaterThanGreaterThanEqualsToken:return t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken;case t().SyntaxKind.AmpersandEqualsToken:return t().SyntaxKind.AmpersandToken;case t().SyntaxKind.BarEqualsToken:return t().SyntaxKind.BarToken;case t().SyntaxKind.CaretEqualsToken:return t().SyntaxKind.CaretToken;default:return t().SyntaxKind.EqualsToken}}(e.operatorToken.kind),e.right)),r);if(e.operatorToken.kind===t().SyntaxKind.EqualsToken)return function(e,r){if(t().isIdentifier(e.left)&&t().isIdentifier(e.right))return t().visitEachChild(e,r,Qe.context);if(t().isPropertyAccessExpression(e.left)&&Vt(e.left)&&t().isObjectLiteralExpression(e.right)&&Bt(Qe.typeChecker.getTypeAtLocation(e.left))){const s=[],c=t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier(O),void 0,[e.left]),r);function l(e,r,n){n.forEach((n=>{if(t().isPropertyAssignment(n)&&t().isIdentifier(n.name)){const i=ur(r,n.name.escapedText);t().isObjectLiteralExpression(n.initializer)&&i.getTypeMeta?l(e+i[7],i.getTypeMeta(),n.initializer.properties):m(i[0])?s.push(gr(t().isBinaryExpression(c)&&t().isNumericLiteral(c.right)&&c.operatorToken.kind===t().SyntaxKind.PlusToken?Qe.context.factory.createBinaryExpression(c.left,t().SyntaxKind.PlusToken,Qe.context.factory.createNumericLiteral(i[7]+e+ +c.right.text)):Qe.context.factory.createBinaryExpression(c,t().SyntaxKind.PlusToken,Qe.context.factory.createNumericLiteral(i[7]+e)),n.initializer,i)):cr(Qe.currentFile,n,"struct found invalid property value")}else cr(Qe.currentFile,n,"struct found invalid property ")}))}if(l(0,wt(Qe.typeChecker.getTypeAtLocation(e.left)),e.right.properties),0===s.length)return;if(1===s.length)return s[0];{let u=s[0];for(let p=1;p<s.length;p++)u=Qe.context.factory.createBinaryExpression(u,t().SyntaxKind.CommaToken,s[p]);return u}}if((t().isPropertyAccessExpression(e.left)||t().isElementAccessExpression(e.left))&&Vt(e.left.expression)){var n,i,o,a;const f=Qe.typeChecker.getTypeAtLocation(e.left),y=Qe.typeChecker.getTypeAtLocation(e.right);Qe.pushStage(He.AddressOf);const d=t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier(O),void 0,[e.left]),r);if(Qe.popStage(),Bt(f)&&Lt(f,y)||f.aliasSymbol&&(f.aliasSymbol.escapedName===de||f.aliasSymbol.escapedName===ye)&&f.aliasTypeArguments&&y.aliasTypeArguments&&It(f.aliasTypeArguments[0].symbol)&&Lt(f.aliasTypeArguments[0],y.aliasTypeArguments[0])){const x=wt(f),h=t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier(O),void 0,[e.right]),r);return Qe.context.factory.createCallExpression(Qe.addMemoryImport(D),void 0,[d,h,Qe.context.factory.createNumericLiteral(x.length)])}if(Pt(f)||f.aliasSymbol&&f.aliasSymbol.escapedName===ce||null!==(n=f.symbol)&&void 0!==n&&n.valueDeclaration&&(t().isEnumDeclaration(f.symbol.valueDeclaration)||t().isEnumMember(f.symbol.valueDeclaration))||f.isUnion()&&null!==(i=f.types[0])&&void 0!==i&&null!==(i=i.symbol)&&void 0!==i&&i.valueDeclaration&&(t().isEnumDeclaration(null===(o=f.types[0])||void 0===o||null===(o=o.symbol)||void 0===o?void 0:o.valueDeclaration)||t().isEnumMember(null===(a=f.types[0])||void 0===a||null===(a=a.symbol)||void 0===a?void 0:a.valueDeclaration))){let g=hr(e.right,r,e.operatorToken.kind);if(t().isPropertyAccessExpression(e.left)){const v=wt(Qe.typeChecker.getTypeAtLocation(e.left.expression));if(null===v)return cr(Qe.currentFile,e,`${e.left.expression.getText()} is not struct`),e;const E=ur(v,e.left.name.escapedText);return E?gr(d,g,E):(cr(Qe.currentFile,e,`struct ${v.symbol.escapedName} not has property ${e.left.name.escapedText}`),e)}if(t().isElementAccessExpression(e.left)&&Pt(f))return Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport($),jt(f)),void 0,[d,g])}}return Qe.context.factory.createBinaryExpression(mr(e.left,r,e.operatorToken.kind),t().SyntaxKind.EqualsToken,hr(e.right,r,e.operatorToken.kind))}(e,r);if(e.operatorToken.kind===t().SyntaxKind.LessThanToken&&t().isPrefixUnaryExpression(e.right)&&e.right.operator===t().SyntaxKind.MinusToken)return function(e,r){if(t().isPrefixUnaryExpression(e.right)){if(e.parent&&t().isExpressionStatement(e.parent)&&(t().isCallExpression(e.left)&&(t().isIdentifier(e.left.expression)&&e.left.expression.escapedText===_||t().isPropertyAccessExpression(e.left.expression)&&e.left.expression.name.escapedText===q&&Wt(e.left.expression.expression))||t().isElementAccessExpression(e.left)&&Zt(e.left))){const i=Qe.typeChecker.getTypeAtLocation(e.left),o=Qe.typeChecker.getTypeAtLocation(e.right.operand);if(Lt(i,o)||Ot(i)&&(n=o).aliasSymbol&&n.aliasSymbol.escapedName===pe){let n=t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier(O),void 0,[e.left]),r);if(Bt(i)){const o=wt(i);Qe.pushStage(He.SingleArrowRight);const a=t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier(O),void 0,[e.right.operand]),r);return Qe.popStage(),Qe.context.factory.createCallExpression(Qe.addMemoryImport(D),void 0,[n,a,Qe.context.factory.createNumericLiteral(o.length)])}if(Pt(i)){const o=jt(i);Qe.pushStage(He.SingleArrowRight);const a=t().visitNode(e.right.operand,r);return Qe.popStage(),Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport($),o),void 0,[n,a])}return cr(Qe.currentFile,e,"operator '<-' only allowed between two builtin type or struct type"),e}return cr(Qe.currentFile,e,"The types on the left and right sides of the operator '<-' are not equal"),e}{const n=Qe.typeChecker.getTypeAtLocation(e.left),i=Qe.typeChecker.getTypeAtLocation(e.right.operand);if(Bt(n)&&Lt(n,i)){const i=wt(n);Qe.pushStage(He.SingleArrowRight);const o=t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier(O),void 0,[e.right.operand]),r);Qe.popStage();const a=t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier(O),void 0,[e.left]),r);return Qe.context.factory.createCallExpression(Qe.addMemoryImport(D),void 0,[a,o,Qe.context.factory.createNumericLiteral(i.length)])}}}var n;return t().visitEachChild(e,r,Qe.context)}(e,r);if((e.operatorToken.kind===t().SyntaxKind.PlusToken||e.operatorToken.kind===t().SyntaxKind.MinusToken)&&!Qe.lookupStage(He.PointerPlusMinusIgnore)){var n;const i=Qe.typeChecker.getTypeAtLocation(e.left),o=Qe.typeChecker.getTypeAtLocation(e.right);if(Ot(i)&&(t().isNumericLiteral(e.right)||o.flags&t().TypeFlags.Number||K(at,zt(o)))){let n=1;if(Dt(i)?n=Mt(i).length:Kt(i)&&(n=lt[qt(i)]),n>1){const i=hr(e.right,r,e.operatorToken.kind);return Qe.context.factory.createBinaryExpression(mr(e.left,r,e.operatorToken.kind),e.operatorToken.kind,t().isNumericLiteral(e.right)?Qe.context.factory.createNumericLiteral(+i.text*n):Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(i,t().SyntaxKind.AsteriskToken,Qe.context.factory.createNumericLiteral(n))))}}else if(Ot(o)&&(t().isNumericLiteral(e.left)||i.flags&t().TypeFlags.Number||K(at,null===(n=i.aliasSymbol)||void 0===n?void 0:n.escapedName))){let n=1;if(Kt(o)?n=lt[qt(o)]:Dt(o)&&(n=Mt(o).length),n>1){const i=hr(e.left,r,e.operatorToken.kind);return Qe.context.factory.createBinaryExpression(t().isNumericLiteral(e.right)?Qe.context.factory.createNumericLiteral(+i.text*n):Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(i,t().SyntaxKind.AsteriskToken,Qe.context.factory.createNumericLiteral(n))),e.operatorToken.kind,mr(e.right,r,e.operatorToken.kind))}}else if(Ot(i)&&Ot(o))if(e.operatorToken.kind===t().SyntaxKind.MinusToken&&Lt(i,o)){let n=1;if(Kt(i)?n=lt[qt(i)]:Dt(i)&&(n=Mt(i).length),n>1){if(n&n-1)return Qe.context.factory.createBinaryExpression(Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(mr(e.left,r,e.operatorToken.kind),e.operatorToken.kind,hr(e.right,r,e.operatorToken.kind))),t().SyntaxKind.SlashToken,Qe.context.factory.createNumericLiteral(n))),t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken,Qe.context.factory.createNumericLiteral(0));{let i=0;for(;n>1;)i++,n>>>=1;return Qe.context.factory.createBinaryExpression(Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(mr(e.left,r,e.operatorToken.kind),e.operatorToken.kind,hr(e.right,r,e.operatorToken.kind))),t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken,Qe.context.factory.createNumericLiteral(i))}}}else cr(Qe.currentFile,e,"The operation between two pointer types only allowed subtraction")}var i;return t().visitEachChild(e,r,Qe.context)}function Er(e){if(t().isBinaryExpression(e)){if(t().isNumericLiteral(e.left)&&t().isNumericLiteral(e.right)){const o=(r=+e.left.text,n=+e.right.text,(i=e.operatorToken.kind)===t().SyntaxKind.PlusToken?r+n:i===t().SyntaxKind.MinusToken?r-n:i===t().SyntaxKind.AsteriskToken?r*n:i===t().SyntaxKind.AsteriskAsteriskToken?r**n:i===t().SyntaxKind.SlashToken?r/n:i===t().SyntaxKind.PercentToken?r%n:i===t().SyntaxKind.LessThanLessThanToken?r<<n:i===t().SyntaxKind.GreaterThanGreaterThanToken?r>>n:i===t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken?r>>>n:i===t().SyntaxKind.AmpersandToken?r&n:i===t().SyntaxKind.BarToken?r|n:void 0);if(m(o))return Qe.context.factory.createNumericLiteral(o)}if(e.operatorToken.kind===t().SyntaxKind.PlusToken){if(t().isNumericLiteral(e.right)&&"0"===e.right.text)return e.left;if(t().isNumericLiteral(e.left)&&"0"===e.left.text)return e.right}if(e.operatorToken.kind===t().SyntaxKind.MinusToken&&t().isNumericLiteral(e.right)&&"0"===e.right.text)return e.left;if(e.operatorToken.kind===t().SyntaxKind.AsteriskToken){if(t().isNumericLiteral(e.right)&&"1"===e.right.text)return e.left;if(t().isNumericLiteral(e.left)&&"1"===e.left.text)return e.right;if(t().isNumericLiteral(e.right)&&"0"===e.right.text)return e.right;if(t().isNumericLiteral(e.left)&&"0"===e.left.text)return e.left}if(e.operatorToken.kind===t().SyntaxKind.SlashToken){if(t().isNumericLiteral(e.right)&&"1"===e.right.text)return e.left;if(t().isNumericLiteral(e.left)&&"0"===e.left.text)return e.left}}var r,n,i;return t().visitEachChild(e,Er,Qe.context)}const Tr={ENV_NODE:!1,ENABLE_THREADS:!0,ENABLE_THREADS_SPLIT:!1,DEBUG:!1,BIGINT_LITERAL:!0,CHEAP_HEAP_INITIAL:256,ENABLE_SYNCHRONIZE_API:!1,ENABLE_LOG_PATH:!0};function Sr(e,r={}){var n;r.projectPath||(r.projectPath=e.getCurrentDirectory());const i=t().findConfigFile(r.projectPath,t().sys.fileExists,"tsconfig.json"),o=i&&t().readConfigFile(i,t().sys.readFile);let a={defined:null};const s=v({},Tr);return null!=o&&null!==(n=o.config)&&void 0!==n&&n.cheap&&(v(s,o.config.cheap.defined||{}),a=v(a,o.config.cheap||{})),r.defined&&v(s,r.defined),a.defined=s,Qe.options=r,Qe.cheapCompilerOptions=a,Qe.program=e,Qe.typeChecker=e.getTypeChecker(),Qe.compilerOptions=e.getCompilerOptions(),e=>(Qe.context=e,n=>r.exclude&&r.exclude.test(n.fileName)?n:(Qe.start(n),Qe.visitor=r=>t().isBlock(r)?function(e,r){let n=We.UNKNOWN;e.parent&&(t().isFunctionDeclaration(e.parent)||t().isFunctionExpression(e.parent)||t().isArrowFunction(e.parent)||t().isMethodDeclaration(e.parent)?n=We.FUNCTION:t().isIfStatement(e.parent)?n=We.IF:(t().isForStatement(e.parent)||t().isForOfStatement(e.parent)||t().isWhileStatement(e.parent))&&(n=We.LOOP)),Qe.pushStack(n),Qe.cheapCompilerOptions.defined.ENABLE_SYNCHRONIZE_API&&e.parent&&(t().isFunctionDeclaration(e.parent)||t().isFunctionExpression(e.parent)||t().isArrowFunction(e.parent)||t().isMethodDeclaration(e.parent))&&nr(e.parent)&&(Qe.getCurrentStack().synchronize=!0);let i=t().visitEachChild(e,r,Qe.context);const o=Qe.getCurrentStack(),a=[];return P(o.topDeclaration,(e=>{a.push(Qe.context.factory.createVariableStatement(void 0,Qe.context.factory.createVariableDeclarationList([Qe.context.factory.createVariableDeclaration(e.formatName,void 0,void 0,e.initializer)])))})),a.length&&(i=Qe.context.factory.createBlock([...a,...i.statements],!0)),Qe.popStack(),i}(r,Qe.visitor):t().isIdentifier(r)?function(e,r){var n,i;(Qe.lookupStage(He.Parameter)||Qe.lookupStage(He.VariableDeclaration))&&e.parent&&(t().isVariableDeclaration(e.parent)&&e.parent.name===e||t().isBindingElement(e.parent)&&e.parent.name===e||t().isParameter(e.parent)&&e.parent.name===e)&&Qe.getCurrentStack().locals.set(e.escapedText,Qe.typeChecker.getSymbolAtLocation(e));let o=e.parent;return o&&t().isAsExpression(o)&&(o=e.parent.parent),e.escapedText===it[0]&&!Qe.lookupLocal(e.escapedText)&&o&&(o.initializer===e||t().isBinaryExpression(o)||t().isCallExpression(o)||t().isReturnStatement(o)||t().isConditionalExpression(o)||t().isCaseClause(o)||t().isComputedPropertyName(o)||t().isArrayLiteralExpression(o)||(null===(n=Qe.getCurrentStage())||void 0===n?void 0:n.stage)===He.SingleArrowRight&&!t().isTypeReferenceNode(o))?Qe.context.factory.createNumericLiteral(0):m(ot[e.escapedText])&&!Qe.lookupLocal(e.escapedText)&&o&&(o.initializer===e||t().isBinaryExpression(o)||t().isCallExpression(o)||t().isReturnStatement(o)||t().isConditionalExpression(o)||t().isCaseClause(o)||t().isComputedPropertyName(o)||t().isElementAccessExpression(o)&&o.argumentExpression===e||(null===(i=Qe.getCurrentStage())||void 0===i?void 0:i.stage)===He.SingleArrowRight&&!t().isTypeReferenceNode(o))?Qe.context.factory.createNumericLiteral(ot[e.escapedText]):t().visitEachChild(e,r,Qe.context)}(r,Qe.visitor):t().isDecorator(r)?function(e,r){if(t().isIdentifier(e.expression)){const t=e.expression.escapedText;if(K(et,t))return}else if(t().isCallExpression(e.expression)&&t().isIdentifier(e.expression.expression)){const t=e.expression.expression.escapedText;if(K(et,t))return}return t().visitEachChild(e,r,Qe.context)}(r,Qe.visitor):r.kind===t().SyntaxKind.AsyncKeyword?function(e,r){if(!(Qe.cheapCompilerOptions.defined.ENABLE_SYNCHRONIZE_API&&e.parent&&(t().isFunctionDeclaration(e.parent)||t().isFunctionExpression(e.parent)||t().isArrowFunction(e.parent)||t().isMethodDeclaration(e.parent))&&nr(e.parent)))return e}(r,Qe.visitor):t().isClassDeclaration(r)&&r.name&&t().isIdentifier(r.name)?function(e,r){const n=wt(Qe.typeChecker.getTypeAtLocation(e));if(n){const i=e.name.escapedText;Qe.hasStruct(i)||Qe.addStruct(i);const o=[t().visitEachChild(e,r,Qe.context),Qe.context.factory.createExpressionStatement(Qe.context.factory.createCallExpression(Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createFunctionExpression(void 0,void 0,void 0,void 0,[Qe.context.factory.createParameterDeclaration(void 0,void 0,Qe.context.factory.createIdentifier(ge))],void 0,Qe.context.factory.createBlock(or(n),!0))),void 0,[Qe.context.factory.createPropertyAccessExpression(Qe.context.factory.createIdentifier(i),Qe.context.factory.createIdentifier("prototype"))]))],a=Qe.getDeclaration(i);return a&&o.push(Qe.context.factory.createExpressionStatement(Qe.context.factory.createBinaryExpression(Qe.context.factory.createIdentifier(a.formatName),t().SyntaxKind.EqualsToken,Qe.context.factory.createIdentifier(a.name)))),o}return t().visitEachChild(e,r,Qe.context)}(r,Qe.visitor):t().isIfStatement(r)?function(e,r){return t().visitNode(e.expression,sr)&&t().visitNode(e.expression,ar)?Xt(e.expression,r)?t().visitNode(e.thenStatement,r):e.elseStatement?t().visitNode(e.elseStatement,r):void 0:t().visitEachChild(e,r,Qe.context)}(r,Qe.visitor):t().isParameter(r)?function(e,r){Qe.pushStage(He.Parameter);const n=t().visitEachChild(e,r,Qe.context);return Qe.popStage(),n}(r,Qe.visitor):t().isVariableDeclaration(r)?function(e,r){Qe.pushStage(He.VariableDeclaration);const n=t().visitEachChild(e,r,Qe.context);return Qe.popStage(),n}(r,Qe.visitor):t().isFunctionDeclaration(r)?function(e,r){e.name&&Qe.addFunc(e.name.escapedText,e),Qe.pushStack();let n=t().visitEachChild(e,r,Qe.context);return Qe.popStack(),n}(r,Qe.visitor):t().isExpressionStatement(r)?function(e,r){if(!t().isCallExpression(e.expression)||!t().isIdentifier(e.expression.expression)||e.expression.expression.escapedText!==j)return t().visitEachChild(e,r,Qe.context);if(Qe.cheapCompilerOptions.defined.DEBUG&&e.expression.arguments.length>=1){const n=t().visitEachChild(e.expression,r,Qe.context),i=[],{line:o}=t().getLineAndCharacterOfPosition(Qe.currentFile,e.getStart()),a=[Qe.context.factory.createStringLiteral(`[${Qe.currentFilePath} line: ${o+1}]`),Qe.context.factory.createStringLiteral(`assert [${e.expression.arguments[0].getText()}]`)];return n.arguments[1]&&a.push(n.arguments[1]),i.push(Qe.context.factory.createExpressionStatement(Qe.context.factory.createCallExpression(Qe.context.factory.createPropertyAccessExpression(Qe.context.factory.createIdentifier("console"),Qe.context.factory.createIdentifier("error")),void 0,a))),i.push(Qe.context.factory.createDebuggerStatement()),Qe.context.factory.createIfStatement(Qe.context.factory.createPrefixUnaryExpression(t().SyntaxKind.ExclamationToken,Qe.context.factory.createParenthesizedExpression(n.arguments[0])),Qe.context.factory.createBlock(i,!0))}}(r,Qe.visitor):t().isBigIntLiteral(r)?function(e,t){return!1===Qe.cheapCompilerOptions.defined.BIGINT_LITERAL?Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier("BigInt"),void 0,[Qe.context.factory.createNumericLiteral(e.text.replace(/n$/,""))]):e}(r,Qe.visitor):t().isExpression(r)?function(e,r){var n;return t().isBinaryExpression(e)?function(e,r){let n=vr(e,r);return t().isBinaryExpression(n)?Er(n):n}(e,Qe.visitor):t().isPrefixUnaryExpression(e)||t().isPostfixUnaryExpression(e)?function(e,r){if(t().isPrefixUnaryExpression(e)&&Wt(e.operand)){var n;const i=Qe.typeChecker.getTypeAtLocation(e.operand);let o=1;Ot(i)&&(Kt(i)?o=lt[qt(i)]:Dt(i)&&(o=Mt(i).length));const a=K(rt,null===(n=i.aliasSymbol)||void 0===n?void 0:n.escapedName)?Qe.context.factory.createBigIntLiteral({negative:!1,base10Value:lr(o)}):Qe.context.factory.createNumericLiteral(o);if(e.operator===t().SyntaxKind.PlusPlusToken)return t().isExpressionStatement(e.parent)?t().visitNode(Qe.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.PlusEqualsToken,a),r):t().visitNode(Qe.context.factory.createBinaryExpression(Qe.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.PlusEqualsToken,a),t().SyntaxKind.CommaToken,e.operand),r);if(e.operator===t().SyntaxKind.MinusMinusToken)return t().isExpressionStatement(e.parent)?t().visitNode(Qe.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.MinusEqualsToken,a),r):t().visitNode(Qe.context.factory.createBinaryExpression(Qe.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.MinusEqualsToken,a),t().SyntaxKind.CommaToken,e.operand),r);if(e.operator!==t().SyntaxKind.ExclamationToken)return cr(Qe.currentFile,e,"The unary operation width pointer only allowed ++ -- !"),e}else if(t().isPostfixUnaryExpression(e)&&Wt(e.operand)){const n=Qe.typeChecker.getTypeAtLocation(e.operand);let i=1;Ot(n)&&(Kt(n)?i=lt[qt(n)]:Dt(n)&&(i=Mt(n).length));const o=K(rt,zt(n))?Qe.context.factory.createBigIntLiteral({negative:!1,base10Value:lr(i)}):Qe.context.factory.createNumericLiteral(i);if(e.operator===t().SyntaxKind.PlusPlusToken)return t().isExpressionStatement(e.parent)?t().visitNode(Qe.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.PlusEqualsToken,o),r):t().visitNode(Qe.context.factory.createBinaryExpression(Qe.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.PlusEqualsToken,o),t().SyntaxKind.CommaToken,Qe.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.MinusToken,o)),r);if(e.operator===t().SyntaxKind.MinusMinusToken)return t().isExpressionStatement(e.parent)?t().visitNode(Qe.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.MinusEqualsToken,o),r):t().visitNode(Qe.context.factory.createBinaryExpression(Qe.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.MinusEqualsToken,o),t().SyntaxKind.CommaToken,Qe.context.factory.createBinaryExpression(e.operand,t().SyntaxKind.PlusToken,o)),r)}return t().visitEachChild(e,r,Qe.context)}(e,Qe.visitor):t().isCallExpression(e)?xr(e,Qe.visitor):t().isPropertyAccessExpression(e)?function(e,r){var n;if(Wt(e)&&(null===(n=Qe.getCurrentStage())||void 0===n?void 0:n.stage)!==He.EqualLeft){let n=Yt(e),c=n,l=n.parent,u=!1,p=Wt(n);for(;l!==e;){var i;const r=Qe.typeChecker.getTypeAtLocation(n);if(u||Ot(r)||(null===(i=r.aliasSymbol)||void 0===i?void 0:i.escapedName)===se){var o;let n=u?Ct(r.symbol):Ot(r)?Mt(r):Ot(r.aliasTypeArguments[0])?null:wt(r.aliasTypeArguments[0]);if(n)if(t().isPropertyAccessExpression(l)){if(t().isCallExpression(l.parent)){l=l.parent;continue}{const t=ur(n,l.name.escapedText);if(!t)return cr(Qe.currentFile,e,`struct ${n.symbol.escapedName} not has property ${l.name.escapedText}`),e;t[1]&&!t[3]?c=Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport(U),20),void 0,[t[7]?er(c,Qe.context.factory.createNumericLiteral(t[7])):c]):t[7]&&(c=er(c,Qe.context.factory.createNumericLiteral(t[7])))}u=!1}else t().isCallExpression(l)?(t().isNumericLiteral(l.arguments[0])&&0!=+l.arguments[0].text?c=er(c,Qe.context.factory.createNumericLiteral(+l.arguments[0].text*n.length)):t().isNumericLiteral(l.arguments[0])||(c=Qe.context.factory.createBinaryExpression(c,t().SyntaxKind.PlusToken,Qe.context.factory.createBinaryExpression(l.arguments[0],t().SyntaxKind.AsteriskToken,Qe.context.factory.createNumericLiteral(n.length)))),u=!0,p=!0):t().isElementAccessExpression(l)&&(t().isNumericLiteral(l.argumentExpression)&&0!=+l.argumentExpression.text?c=er(c,Qe.context.factory.createNumericLiteral(+l.argumentExpression.text*n.length)):t().isNumericLiteral(l.argumentExpression)||(c=Qe.context.factory.createBinaryExpression(c,t().SyntaxKind.PlusToken,Qe.context.factory.createBinaryExpression(l.argumentExpression,t().SyntaxKind.AsteriskToken,Qe.context.factory.createNumericLiteral(n.length)))),u=!0,p=!0);else if(((null===(o=r.aliasSymbol)||void 0===o?void 0:o.escapedName)===se||Ot(r))&&Ot(r.aliasTypeArguments[0])&&t().isElementAccessExpression(l))t().isNumericLiteral(l.argumentExpression)&&0!=+l.argumentExpression.text?c=er(c,Qe.context.factory.createNumericLiteral(+l.argumentExpression.text*lt[20])):t().isNumericLiteral(l.argumentExpression)||(c=Qe.context.factory.createBinaryExpression(c,t().SyntaxKind.PlusToken,Qe.context.factory.createBinaryExpression(l.argumentExpression,t().SyntaxKind.AsteriskToken,Qe.context.factory.createNumericLiteral(lt[20])))),c=Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport(U),20),void 0,[c]),p=!0;else{if(!(Ot(r)&&t().isPropertyAccessExpression(l)&&l.name.escapedText===q&&t().isCallExpression(l.parent)))return cr(Qe.currentFile,e,"invalid pointer operate"),e;{l=l.parent;let n=0;if(Ot(r.aliasTypeArguments[0]))n=lt[20];else{const t=wt(r.aliasTypeArguments[0]);if(!t)return cr(Qe.currentFile,e,"the pointer type only allowed in builtin type or struct type"),e;n=t.length}t().isNumericLiteral(l.arguments[0])&&0!=+l.arguments[0].text?c=er(c,Qe.context.factory.createNumericLiteral(+l.arguments[0].text*n)):t().isNumericLiteral(l.arguments[0])||(c=Qe.context.factory.createBinaryExpression(c,t().SyntaxKind.PlusToken,Qe.context.factory.createBinaryExpression(l.arguments[0],t().SyntaxKind.AsteriskToken,Qe.context.factory.createNumericLiteral(n)))),Ot(r.aliasTypeArguments[0])&&(c=Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport(U),20),void 0,[c])),u=!0,p=!0}}}else{let n=wt(r);if(n&&p&&t().isPropertyAccessExpression(l)){const t=ur(n,l.name.escapedText);if(!t)return cr(Qe.currentFile,e,`struct ${n.symbol.escapedName} not has property ${l.name.escapedText}`),e;t[1]&&!t[3]?c=Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport(U),20),void 0,[t[7]?er(c,Qe.context.factory.createNumericLiteral(t[7])):c]):t[7]&&(c=er(c,Qe.context.factory.createNumericLiteral(t[7]))),u=!1}else c=l}n=l,l=l.parent}if(!Wt(n)&&!p)return e;const f=Qe.typeChecker.getTypeAtLocation(n);let y=Ot(f)?Mt(f):wt(f);if(!y)return cr(Qe.currentFile,e,"struct type mismatch"),e;const x=ur(y,e.name.escapedText);if(!x)return cr(Qe.currentFile,e,`struct ${y.symbol.escapedName} not has property ${e.name.escapedText}`),e;if(Qe.pushStage(He.PointerPlusMinusIgnore),c=t().visitNode(c,r),Qe.popStage(),x[1])return c=Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport(U),20),void 0,[x[7]?er(c,Qe.context.factory.createNumericLiteral(x[7])):c]),c;if(m(x[0])&&!d(x.getTypeMeta)){if(c=Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport(U),x[0]),void 0,[x[7]?er(c,Qe.context.factory.createNumericLiteral(x[7])):c]),x[5]&&!Qe.lookupStage(He.AddressOf)){const e=8*lt[x[0]]-x[8]-x[6],r=Math.pow(2,x[6])-1;c=Qe.context.factory.createBinaryExpression(Qe.context.factory.createParenthesizedExpression(Qe.context.factory.createBinaryExpression(c,t().SyntaxKind.GreaterThanGreaterThanGreaterThanToken,Qe.context.factory.createNumericLiteral(e))),t().SyntaxKind.AmpersandToken,Qe.context.factory.createNumericLiteral(r))}return c}if(!d(x.getTypeMeta))return cr(Qe.currentFile,e,"struct type mismatch"),e;{var a;const e=x.getTypeMeta();let t=e.symbol,r="";e.structType===Et.INLINE_OBJECT&&(t=e.definedClassParent.symbol,r=e.definedClassParent.inlineStructPathMap.get(e.symbol));const n=null===(a=t.valueDeclaration)||void 0===a?void 0:a.getSourceFile();if(n){let e;var s;e=n!==Qe.currentFile?Qe.addIdentifierImport(t.escapedName,ir(Qe.currentFile.fileName,n.fileName),!(null!==(s=Qe.typeChecker.getSymbolAtLocation(n).exports)&&void 0!==s&&s.has(t.escapedName))):Qe.context.factory.createIdentifier(t.escapedName);const i=[x[7]?er(c,Qe.context.factory.createNumericLiteral(x[7])):c,e];return r&&i.push(Qe.context.factory.createStringLiteral(r)),Qe.context.factory.createCallExpression(Qe.addIdentifierImport(R,re,!0),void 0,i)}}}return t().visitEachChild(e,r,Qe.context)}(e,Qe.visitor):t().isElementAccessExpression(e)?function(e,r){const n=Qe.typeChecker.getTypeAtLocation(e.expression);if(Zt(e)&&(!n.aliasSymbol||n.aliasSymbol.escapedName!==se))return t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier(_),void 0,[Qe.context.factory.createBinaryExpression(e.expression,t().SyntaxKind.PlusToken,e.argumentExpression)]),r);if(t().isPropertyAccessExpression(e.expression)&&Wt(e.expression.expression)||t().isElementAccessExpression(e.expression)&&Wt(e.expression)){const n=Qe.typeChecker.getTypeAtLocation(e);let a=t().visitNode(Qe.context.factory.createCallExpression(Qe.context.factory.createIdentifier(O),void 0,[e.expression]),r);if(!Bt(n))return Pt(n)?(t().isNumericLiteral(e.argumentExpression)&&0==+e.argumentExpression.text||(a=Qe.context.factory.createBinaryExpression(a,t().SyntaxKind.PlusToken,t().isNumericLiteral(e.argumentExpression)?Qe.context.factory.createNumericLiteral(lt[jt(n)]*+e.argumentExpression.text):Qe.context.factory.createBinaryExpression(Qe.context.factory.createNumericLiteral(lt[jt(n)]),t().SyntaxKind.AsteriskToken,Qe.context.factory.createParenthesizedExpression(e.argumentExpression)))),Qe.context.factory.createCallExpression(Qe.context.factory.createElementAccessExpression(Qe.addMemoryImport(U),jt(n)),void 0,[a])):(cr(Qe.currentFile,e,"struct type mismatch"),e);{var i;let r=wt(n),s=r.symbol,c="";r.structType===Et.INLINE_OBJECT&&(s=r.definedClassParent.symbol,c=r.definedClassParent.inlineStructPathMap.get(r.symbol)),t().isNumericLiteral(e.argumentExpression)&&0==+e.argumentExpression.text||(a=Qe.context.factory.createBinaryExpression(a,t().SyntaxKind.PlusToken,t().isNumericLiteral(e.argumentExpression)?Qe.context.factory.createNumericLiteral(r.length*+e.argumentExpression.text):Qe.context.factory.createBinaryExpression(Qe.context.factory.createNumericLiteral(r.length),t().SyntaxKind.AsteriskToken,Qe.context.factory.createParenthesizedExpression(e.argumentExpression))));const l=null===(i=s.valueDeclaration)||void 0===i?void 0:i.getSourceFile();if(l){let e;var o;e=l!==Qe.currentFile?Qe.addIdentifierImport(s.escapedName,ir(Qe.currentFile.fileName,l.fileName),!(null!==(o=Qe.typeChecker.getSymbolAtLocation(l).exports)&&void 0!==o&&o.has(s.escapedName))):Qe.context.factory.createIdentifier(s.escapedName);const t=[a,e];return c&&t.push(Qe.context.factory.createStringLiteral(c)),Qe.context.factory.createCallExpression(Qe.addIdentifierImport(R,re,!0),void 0,t)}}}return t().visitEachChild(e,r,Qe.context)}(e,Qe.visitor):Qe.cheapCompilerOptions.defined.ENABLE_SYNCHRONIZE_API&&t().isAwaitExpression(e)&&e.expression&&t().isCallExpression(e.expression)&&(Qe.lookupSynchronized()||nr(null===(n=Qe.typeChecker.getSymbolAtLocation(t().isPropertyAccessExpression(e.expression.expression)?e.expression.expression.name:e.expression.expression))||void 0===n?void 0:n.valueDeclaration))?t().visitEachChild(e.expression,r,Qe.context):t().visitEachChild(e,r,Qe.context)}(r,Qe.visitor):t().visitEachChild(r,Qe.visitor,e),Qe.end(t().visitEachChild(n,Qe.visitor,Qe.context))))}})(),module.exports=n})();